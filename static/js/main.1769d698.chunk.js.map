{"version":3,"sources":["components/NavigationBar.tsx","components/react-diagrams/TrayItemWidget.tsx","components/react-diagrams/myNode/MyLinkModel.ts","components/react-diagrams/myNode/MyPortModel.ts","components/react-diagrams/myNode/MyNodeModel.ts","components/react-diagrams/helpers/DemoCanvasWidget.tsx","components/react-diagrams/editableNode/MyEditableNodeModel.ts","paletteNodes.js","components/PrismEdit.tsx","components/Code.tsx","components/react-diagrams/BodyWidget.tsx","components/react-diagrams/custom-label/EditableLabelModel.ts","components/react-diagrams/custom-label/EditableLabelWidget.tsx","components/react-diagrams/custom-label/EditableLabelFactory.tsx","components/react-diagrams/custom-node/custom_components/EditableSingleField.tsx","components/react-diagrams/custom-node/custom_components/SelectableField.tsx","components/react-diagrams/editableNode/MyEditableNodeWidget.tsx","components/react-diagrams/editableNode/MyEditableNodeFactory.tsx","components/react-diagrams/Application.ts","pages/Editor.tsx","assets/flow.svg","assets/cym_s.svg","pages/Home.tsx","assets/cym_s_extended.svg","assets/cym_d.svg","pages/Models.tsx","assets/transformations.png","pages/Transformations.tsx","pages/Palette.tsx","pages/Settings.tsx","App.tsx","index.tsx"],"names":["SimpleBottomNavigation","pathname","window","location","useState","value","setValue","AppBar","position","color","style","top","bottom","BottomNavigation","onChange","event","newValue","showLabels","BottomNavigationAction","component","Link","label","to","icon","S","styled","div","p","TrayItemWidget","Tray","this","props","node","draggable","onDragStart","dataTransfer","setData","JSON","stringify","setDragImage","Image","className","name","fontSize","id","type","place","width","height","backgroundColor","border","borderBottom","extras","library","ins","length","map","port","outs","React","MyLinkModel","options","selectedColor","curvyness","getOptions","alignment","PortModelAlignment","RIGHT","LEFT","TOP","points","curve","BezierCurve","setSource","getFirstPoint","getPosition","setTarget","getLastPoint","setSourceControl","clone","setTargetControl","sourcePort","getSourceControl","translate","calculateControlOffset","getSourcePort","targetPort","getTargetControl","getTargetPort","getSVGCurve","data","fireEvent","LinkModel","MyPortModel","in","PortModel","MyNodeModel","portsIn","portsOut","lookupTable","splice","indexOf","push","after","addPort","_","portsInOrder","getPortFromID","portsOutOrder","getID","NodeModel","background","css","DemoCanvasWidget","styles","Expand","Container","children","MyEditableNodeModel","shouldHaveUserName","content","selectableOptions","forEach","method","addInPort","addOutPort","userName","selector","substring","console","log","Array","from","keys","x","toString","analogPorts","digitalPorts","Edit","editorRef","useRef","code","setCode","onEditableChange","useCallback","slice","useEditable","disabled","indentation","defaultProps","language","tokens","getTokenProps","getLineProps","ref","line","i","Fragment","filter","token","empty","key","Code","model","Object","links","entries","layers","models","nodes","logics","components","controllers","libraries","constants","usedDigital","usedAnalog","n","instance","toLowerCase","replace","c","includes","toUpperCase","controller","add","message","m","addOnTop","getLink","linkID","find","l","getPort","nodeID","portID","ports","error","getNode","getCoditionalValue","conditionNode","portName","link","source","parent","getParent","getOutcome","ifThis","target","childNode","parentNode","removeTypes","functionName","params","split","result","param","thisParam","String","callWithParameters","contents","toPort","toNode","shift","processLink","fromPort","fromNode","xValue","yValue","outcome2","toNode2","outcome3","toNode3","lib","comp","logic","constant","original","level","repeat","join","indentCode","generateCode","parse","useEffect","Prism","highlightAll","PrismEdit","ScrollArea","require","default","BodyWidget","setModel","rerender","setRerender","rawModel","app","getDiagramEngine","getModel","serialize","stringModel","groups","Set","paletteNodes","Body","Content","speed","contentClassName","horizontal","smoothScrolling","verticalScrollbarStyle","group","marginBottom","margin","Button","variant","size","onClick","localStorage","setItem","getActiveDiagram","deserializeModel","getItem","setTimeout","Layer","onDrop","getData","setPosition","getRelativeMousePoint","addNode","onDragOver","preventDefault","engine","EditableLabelModel","LabelModel","EditableLabelWidget","str","setStr","Label","newVal","action","EditableLabelFactory","AbstractReactFactory","Editor","onBlurOrEnter","autoFocus","inputStyle","padding","borderStyle","borderWidth","borderColor","onBlur","onKeyDown","keyCode","EditableSingleField","state","beingEdited","editingKey","elementKey","fontStyle","isAbstract","y","SelectableField","selected","MyEditableNodeWidget","divElement","generatePort","_editableObjectDoubleClick","editingSomething","setState","_contentOnChange","evt","nodeModel","currentTarget","_onBlurOrEnter","variableType","bind","Node","isSelected","Title","onDoubleClick","TitleName","Ports","PortsContainer","getInPorts","getOutPorts","MyEditableNodeFactory","Application","activeModel","diagramEngine","SRD","getLabelFactories","registerFactory","getNodeFactories","newModel","EditorPage","HomePage","src","flowDiagram","alt","maxHeight","maxWidth","cym_s","ModelsPage","modelsDiagram","stateDiagram","TransformationsPage","transformations","PalettePage","display","gridTemplateColumns","gridGap","App","path","element","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1769d698.chunk.js","sourcesContent":["import { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { AppBar } from '@material-ui/core';\r\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\r\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\r\n\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport MapIcon from '@material-ui/icons/Map';\r\nimport SwapHorizIcon from '@material-ui/icons/SwapHoriz';\r\nimport PaletteIcon from '@material-ui/icons/Palette';\r\nimport SettingsIcon from '@mui/icons-material/Settings';\r\nimport TransformIcon from '@mui/icons-material/Transform';\r\n\r\nexport default function SimpleBottomNavigation() {\r\n    const pathname = window.location.pathname; // in case user visits the path directly. The BottomNavBar is able to follow suit.\r\n    const [value, setValue] = useState(pathname);\r\n    const handleChange = (event: any, newValue: any) => {\r\n        setValue(newValue);\r\n    };\r\n    return (\r\n        <AppBar position=\"fixed\" color=\"primary\" style={{ top: \"auto\", bottom: 0 }}>\r\n            <BottomNavigation\r\n                value={value}\r\n                onChange={handleChange}\r\n                showLabels\r\n            >\r\n                location.pathname\r\n                <BottomNavigationAction component={Link} label=\"Home\" to=\"/mdd4/\" icon={<HomeIcon />} />\r\n                <BottomNavigationAction component={Link} label=\"Models\" to=\"/mdd4/models\" icon={<MapIcon />} />\r\n                <BottomNavigationAction component={Link} label=\"Transformations\" to=\"/mdd4/transformations\" icon={<TransformIcon />} />\r\n                <BottomNavigationAction component={Link} label=\"Palette\" to=\"/mdd4/palette\" icon={<PaletteIcon />} />\r\n                <BottomNavigationAction component={Link} label=\"Editor\" to=\"/mdd4/editor\" icon={<EditIcon />} />\r\n                <BottomNavigationAction component={Link} label=\"Settings\" to=\"/mdd4/settings\" icon={<SettingsIcon />} />\r\n            </BottomNavigation>\r\n        </AppBar>\r\n    );\r\n}","/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport * as React from 'react';\r\nimport styled from '@emotion/styled';\r\nimport OpenInNewIcon from '@mui/icons-material/OpenInNew';\r\nimport ReactTooltip from 'react-tooltip';\r\nexport interface TrayItemWidgetProps {\r\n\tnode: any;\r\n}\r\n\r\nnamespace S {\r\n\texport const Tray = styled.div<{ color: string }>`\r\n\t\tcolor: white;\r\n\t\tfont-family: Helvetica, Arial;\r\n\t\tfont-size:0.6em;\r\n\t\tpadding: 2px 0px;\r\n\t\tmargin:\t 5px 10px ;\r\n\t\tborder: solid 1px ${(p) => p.color};\r\n\t\tborder-radius: 100px;\r\n\t\tmargin-bottom: 2px;\r\n\t\tcursor: pointer;\r\n\t\tbackground: rgb(20, 20, 20);\r\n\t`;\r\n}\r\n\r\nexport class TrayItemWidget extends React.Component<TrayItemWidgetProps> {\r\n\trender() {\r\n\t\t// const label = this.props.node.name.includes(\" \") && this.props.node.name.length > 15 ? (<div>\r\n\t\t// \t{this.props.node.name.substr(0, this.props.node.name.indexOf(' '))}\r\n\t\t// \t<br />\r\n\t\t// \t{this.props.node.name.substr(this.props.node.name.indexOf(' ') + 1)}</div>) : this.props.node.name\r\n\t\treturn (\r\n\t\t\t<S.Tray\r\n\t\t\t\tcolor={this.props.node.color || 'red'}\r\n\t\t\t\tdraggable={true}\r\n\t\t\t\tonDragStart={(event) => {\r\n\t\t\t\t\tevent.dataTransfer.setData('storm-diagram-node', JSON.stringify(this.props.node));\r\n\t\t\t\t\tevent.dataTransfer.setDragImage(new Image(), 10, 10);\r\n\t\t\t\t}}\r\n\t\t\t\tclassName=\"tray-item\">\r\n\r\n\t\t\t\t{this.props.node.name}\r\n\r\n\t\t\t\t<a data-tip data-for={'tip-' + this.props.node.name} >\r\n\t\t\t\t\t<OpenInNewIcon style={{ fontSize: '1rem' }} />\r\n\t\t\t\t</a>\r\n\t\t\t\t<ReactTooltip id={'tip-' + this.props.node.name} type='light' place=\"bottom\">\r\n\t\t\t\t\t<div style={{ width: '300px', height: '300px', backgroundColor: 'white', border: 'solid', fontSize: '1.3em' }}>\r\n\t\t\t\t\t\t<div style={{ width: '100%', borderBottom: 'solid 3px', fontSize: '2em' }}>\r\n\t\t\t\t\t\t\t{this.props.node.name}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div style={{ width: '100%', borderBottom: 'solid 2px' }}>\r\n\t\t\t\t\t\t\tLibrary={this.props.node.extras.library}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{this.props.node.ins && this.props.node.ins.length > 0 &&\r\n\t\t\t\t\t\t\tthis.props.node.ins.map((port: any) => {\r\n\t\t\t\t\t\t\t\treturn <div key={port}>\r\n\t\t\t\t\t\t\t\t\t<p>{port}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{this.props.node.outs && this.props.node.outs.length > 0 &&\r\n\t\t\t\t\t\t\tthis.props.node.outs.map((port: any) => {\r\n\t\t\t\t\t\t\t\treturn <div key={port}>\r\n\t\t\t\t\t\t\t\t\t<p>{port}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/* {JSON.stringify(this.props.node)} */}\r\n\t\t\t\t</ReactTooltip>\r\n\t\t\t</S.Tray>\r\n\t\t);\r\n\t}\r\n}\r\n","// LabelModel,\r\nimport {\r\n\tLinkModel,\r\n\tLinkModelGenerics,\r\n\tLinkModelListener,\r\n\tPortModel,\r\n\tPortModelAlignment\r\n} from '@projectstorm/react-diagrams-core';\r\n// import { DefaultLabelModel } from './DefaultLabelModel';\r\nimport { BezierCurve } from '@projectstorm/geometry';\r\nimport { BaseModelOptions, DeserializeEvent } from '@projectstorm/react-canvas-core';\r\nexport interface DefaultLinkModelListener extends LinkModelListener {\r\n\t// colorChanged?(event: BaseEntityEvent<DefaultLinkModel> & { color: null | string }): void;\r\n\r\n\t// widthChanged?(event: BaseEntityEvent<DefaultLinkModel> & { width: 0 | number }): void;\r\n}\r\n\r\nexport interface DefaultLinkModelOptions extends BaseModelOptions {\r\n\twidth?: number;\r\n\tcolor?: string;\r\n\tselectedColor?: string;\r\n\tcurvyness?: number;\r\n\ttype?: string;\r\n\ttestName?: string;\r\n}\r\n\r\nexport interface DefaultLinkModelGenerics extends LinkModelGenerics {\r\n\tLISTENER: DefaultLinkModelListener;\r\n\tOPTIONS: DefaultLinkModelOptions;\r\n}\r\n\r\nexport class MyLinkModel extends LinkModel<DefaultLinkModelGenerics> {\r\n\tconstructor(options: DefaultLinkModelOptions = {}) {\r\n\t\tsuper({\r\n\t\t\ttype: 'default',\r\n\t\t\twidth: options.width || 3,\r\n\t\t\tcolor: options.color || 'gray',\r\n\t\t\tselectedColor: options.selectedColor || 'rgb(0,192,255)',\r\n\t\t\tcurvyness: 50,\r\n\t\t\t...options\r\n\t\t});\r\n\t}\r\n\r\n\tcalculateControlOffset(port: PortModel): [number, number] {\r\n\t\tif (port.getOptions().alignment === PortModelAlignment.RIGHT) {\r\n\t\t\treturn [this.options.curvyness || 0, 0];\r\n\t\t} else if (port.getOptions().alignment === PortModelAlignment.LEFT) {\r\n\t\t\treturn [-(this.options.curvyness || 0), 0];\r\n\t\t} else if (port.getOptions().alignment === PortModelAlignment.TOP) {\r\n\t\t\treturn [0, -(this.options.curvyness || 0)];\r\n\t\t}\r\n\t\treturn [0, this.options.curvyness || 0];\r\n\t}\r\n\r\n\tgetSVGPath(): string | undefined {\r\n\t\tif (this.points.length === 2) {\r\n\t\t\tconst curve = new BezierCurve();\r\n\t\t\tcurve.setSource(this.getFirstPoint().getPosition());\r\n\t\t\tcurve.setTarget(this.getLastPoint().getPosition());\r\n\t\t\tcurve.setSourceControl(this.getFirstPoint().getPosition().clone());\r\n\t\t\tcurve.setTargetControl(this.getLastPoint().getPosition().clone());\r\n\r\n\t\t\tif (this.sourcePort) {\r\n\t\t\t\tcurve.getSourceControl().translate(...this.calculateControlOffset(this.getSourcePort()));\r\n\t\t\t}\r\n\r\n\t\t\tif (this.targetPort) {\r\n\t\t\t\tcurve.getTargetControl().translate(...this.calculateControlOffset(this.getTargetPort()));\r\n\t\t\t}\r\n\t\t\treturn curve.getSVGCurve();\r\n\t\t}\r\n\t}\r\n\r\n\tserialize() {\r\n\t\treturn {\r\n\t\t\t...super.serialize(),\r\n\t\t\twidth: this.options.width,\r\n\t\t\tcolor: this.options.color,\r\n\t\t\tcurvyness: this.options.curvyness,\r\n\t\t\tselectedColor: this.options.selectedColor\r\n\t\t};\r\n\t}\r\n\r\n\tdeserialize(event: DeserializeEvent<this>) {\r\n\t\tsuper.deserialize(event);\r\n\t\tthis.options.color = event.data.color;\r\n\t\tthis.options.width = event.data.width;\r\n\t\tthis.options.curvyness = event.data.curvyness;\r\n\t\tthis.options.selectedColor = event.data.selectedColor;\r\n\t}\r\n\tsetWidth(width: number) {\r\n\t\tthis.options.width = width;\r\n\t\tthis.fireEvent({ width }, 'widthChanged');\r\n\t}\r\n\r\n\tsetColor(color: string) {\r\n\t\tthis.options.color = color;\r\n\t\tthis.fireEvent({ color }, 'colorChanged');\r\n\t}\r\n}\r\n","import {\r\n\tLinkModel,\r\n\tPortModel,\r\n\tPortModelAlignment,\r\n\tPortModelGenerics,\r\n\tPortModelOptions\r\n} from '@projectstorm/react-diagrams-core';\r\nimport { MyLinkModel } from './MyLinkModel';\r\nimport { DeserializeEvent } from '@projectstorm/react-canvas-core';\r\n\r\nexport interface DefaultPortModelOptions extends PortModelOptions {\r\n\tlabel?: string;\r\n\tin?: boolean;\r\n}\r\n\r\nexport interface DefaultPortModelGenerics extends PortModelGenerics {\r\n\tOPTIONS: DefaultPortModelOptions;\r\n}\r\n\r\nexport class MyPortModel extends PortModel<DefaultPortModelGenerics> {\r\n\tconstructor(isIn: boolean, name?: string, label?: string);\r\n\tconstructor(options: DefaultPortModelOptions);\r\n\tconstructor(options: DefaultPortModelOptions | boolean, name?: string, label?: string) {\r\n\t\tif (!!name) {\r\n\t\t\toptions = {\r\n\t\t\t\tin: !!options,\r\n\t\t\t\tname: name,\r\n\t\t\t\tlabel: label\r\n\t\t\t};\r\n\t\t}\r\n\t\toptions = options as DefaultPortModelOptions;\r\n\t\tsuper({\r\n\t\t\tlabel: options.label || options.name,\r\n\t\t\talignment: options.in ? PortModelAlignment.LEFT : PortModelAlignment.RIGHT,\r\n\t\t\ttype: 'default',\r\n\t\t\t...options\r\n\t\t});\r\n\t}\r\n\r\n\tdeserialize(event: DeserializeEvent<this>) {\r\n\t\tsuper.deserialize(event);\r\n\t\tthis.options.in = event.data.in;\r\n\t\tthis.options.label = event.data.label;\r\n\t}\r\n\r\n\tserialize() {\r\n\t\treturn {\r\n\t\t\t...super.serialize(),\r\n\t\t\tin: this.options.in,\r\n\t\t\tlabel: this.options.label\r\n\t\t};\r\n\t}\r\n\r\n\tcanLinkToPort(port: PortModel): boolean {\r\n\t\t// if (port instanceof DefaultPortModel) {\r\n\t\t// \treturn this.options.in !== port.getOptions().in;\r\n\t\t// }\r\n\t\treturn true;\r\n\t}\r\n\r\n\tcreateLinkModel(): LinkModel {\r\n\t\tconst link = new MyLinkModel();\r\n\t\t// let label = new DefaultLabelModel();\r\n\t\t// label.setLabel(\"I'm a sad label\");\r\n\t\t// link.addLabel(label)\r\n\t\treturn link\r\n\t}\r\n}\r\n","import * as _ from 'lodash';\r\nimport { NodeModel, NodeModelGenerics, PortModelAlignment } from '@projectstorm/react-diagrams-core';\r\nimport { BasePositionModelOptions, DeserializeEvent } from '@projectstorm/react-canvas-core';\r\nimport { MyPortModel } from './MyPortModel';\r\n\r\nexport interface DefaultNodeModelOptions extends BasePositionModelOptions {\r\n    name?: string;\r\n    color?: string;\r\n}\r\n\r\nexport interface DefaultNodeModelGenerics extends NodeModelGenerics {\r\n    OPTIONS: DefaultNodeModelOptions;\r\n}\r\n\r\nexport class MyNodeModel extends NodeModel<DefaultNodeModelGenerics> {\r\n    protected portsIn: MyPortModel[];\r\n    protected portsOut: MyPortModel[];\r\n    extras: any;\r\n\r\n    constructor(name: string, color: string);\r\n    constructor(options?: DefaultNodeModelOptions);\r\n    constructor(options: any = {}, color?: string) {\r\n        if (typeof options === 'string') {\r\n            options = {\r\n                name: options,\r\n                color: color\r\n            };\r\n        }\r\n        super({\r\n            type: 'default',\r\n            name: 'Untitled',\r\n            color: 'rgb(0,192,255)',\r\n            ...options\r\n        });\r\n        this.portsOut = [];\r\n        this.portsIn = [];\r\n    }\r\n\r\n    doClone(lookupTable: {}, clone: any): void {\r\n        clone.portsIn = [];\r\n        clone.portsOut = [];\r\n        super.doClone(lookupTable, clone);\r\n    }\r\n\r\n    removePort(port: MyPortModel): void {\r\n        super.removePort(port);\r\n        if (port.getOptions().in) {\r\n            this.portsIn.splice(this.portsIn.indexOf(port), 1);\r\n        } else {\r\n            this.portsOut.splice(this.portsOut.indexOf(port), 1);\r\n        }\r\n    }\r\n\r\n    addPort<T extends MyPortModel>(port: T): T {\r\n        super.addPort(port);\r\n        if (port.getOptions().in) {\r\n            if (this.portsIn.indexOf(port) === -1) {\r\n                this.portsIn.push(port);\r\n            }\r\n        } else {\r\n            if (this.portsOut.indexOf(port) === -1) {\r\n                this.portsOut.push(port);\r\n            }\r\n        }\r\n        return port;\r\n    }\r\n\r\n    addInPort(label: string, after = true): MyPortModel {\r\n        const p = new MyPortModel({\r\n            in: true,\r\n            name: label,\r\n            label: label,\r\n            alignment: PortModelAlignment.LEFT\r\n        });\r\n        if (!after) {\r\n            this.portsIn.splice(0, 0, p);\r\n        }\r\n        return this.addPort(p);\r\n    }\r\n\r\n    addOutPort(label: string, after = true): MyPortModel {\r\n        const p = new MyPortModel({\r\n            in: false,\r\n            name: label,\r\n            label: label,\r\n            alignment: PortModelAlignment.RIGHT\r\n        });\r\n        if (!after) {\r\n            this.portsOut.splice(0, 0, p);\r\n        }\r\n        return this.addPort(p);\r\n    }\r\n\r\n    addExtras(extras: any): any {\r\n        this.extras = extras;\r\n        return this.extras\r\n    }\r\n\r\n    deserialize(event: DeserializeEvent<this>) {\r\n        super.deserialize(event);\r\n        this.options.name = event.data.name;\r\n        this.options.color = event.data.color;\r\n        this.portsIn = _.map(event.data.portsInOrder, (id) => {\r\n            return this.getPortFromID(id);\r\n        }) as MyPortModel[];\r\n        this.portsOut = _.map(event.data.portsOutOrder, (id) => {\r\n            return this.getPortFromID(id);\r\n        }) as MyPortModel[];\r\n        this.extras = event.data.extras\r\n    }\r\n\r\n    serialize(): any {\r\n        return {\r\n            ...super.serialize(),\r\n            name: this.options.name,\r\n            color: this.options.color,\r\n            portsInOrder: _.map(this.portsIn, (port) => {\r\n                return port.getID();\r\n            }),\r\n            portsOutOrder: _.map(this.portsOut, (port) => {\r\n                return port.getID();\r\n            }),\r\n            extras: this.extras\r\n        };\r\n    }\r\n\r\n    getInPorts(): MyPortModel[] {\r\n        return this.portsIn;\r\n    }\r\n\r\n    getOutPorts(): MyPortModel[] {\r\n        return this.portsOut;\r\n    }\r\n}","import * as React from 'react';\r\nimport styled from '@emotion/styled';\r\nimport { css, Global } from '@emotion/react';\r\n\r\nexport interface DemoCanvasWidgetProps {\r\n\tcolor?: string;\r\n\tbackground?: string;\r\n}\r\n\r\nnamespace S {\r\n\texport const Container = styled.div<{ color: string; background: string }>`\r\n\t\theight: 100%;\r\n\t\tbackground-color: ${(p) => p.background};\r\n\t\tbackground-size: 50px 50px;\r\n\t\tdisplay: flex;\r\n\r\n\t\t> * {\r\n\t\t\theight: 100%;\r\n\t\t\tmin-height: 100%;\r\n\t\t\twidth: 100%;\r\n\t\t}\r\n\r\n\t\tbackground-image: linear-gradient(\r\n\t\t\t\t0deg,\r\n\t\t\t\ttransparent 24%,\r\n\t\t\t\t${(p) => p.color} 25%,\r\n\t\t\t\t${(p) => p.color} 26%,\r\n\t\t\t\ttransparent 27%,\r\n\t\t\t\ttransparent 74%,\r\n\t\t\t\t${(p) => p.color} 75%,\r\n\t\t\t\t${(p) => p.color} 76%,\r\n\t\t\t\ttransparent 77%,\r\n\t\t\t\ttransparent\r\n\t\t\t),\r\n\t\t\tlinear-gradient(\r\n\t\t\t\t90deg,\r\n\t\t\t\ttransparent 24%,\r\n\t\t\t\t${(p) => p.color} 25%,\r\n\t\t\t\t${(p) => p.color} 26%,\r\n\t\t\t\ttransparent 27%,\r\n\t\t\t\ttransparent 74%,\r\n\t\t\t\t${(p) => p.color} 75%,\r\n\t\t\t\t${(p) => p.color} 76%,\r\n\t\t\t\ttransparent 77%,\r\n\t\t\t\ttransparent\r\n\t\t\t);\r\n\t`;\r\n\r\n\texport const Expand = css`\r\n\t\thtml,\r\n\t\tbody,\r\n\t\t#root {\r\n\t\t\theight: 100%;\r\n\t\t}\r\n\t`;\r\n}\r\n\r\nexport class DemoCanvasWidget extends React.Component<DemoCanvasWidgetProps> {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<Global styles={S.Expand} />\r\n\t\t\t\t<S.Container\r\n\t\t\t\t\tbackground={this.props.background || 'rgb(60, 60, 60)'}\r\n\t\t\t\t\tcolor={this.props.color || 'rgba(255,255,255, 0.05)'}>\r\n\t\t\t\t\t{this.props.children}\r\n\t\t\t\t</S.Container>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n","import * as _ from 'lodash';\r\nimport { NodeModel, NodeModelGenerics, PortModelAlignment } from '@projectstorm/react-diagrams-core';\r\nimport { BasePositionModelOptions, DeserializeEvent } from '@projectstorm/react-canvas-core';\r\nimport { MyPortModel } from '../myNode/MyPortModel';\r\n\r\nexport interface DefaultNodeModelOptions extends BasePositionModelOptions {\r\n    name?: string;\r\n    color?: string;\r\n}\r\n\r\nexport interface DefaultNodeModelGenerics extends NodeModelGenerics {\r\n    OPTIONS: DefaultNodeModelOptions;\r\n}\r\n\r\nexport class MyEditableNodeModel extends NodeModel<DefaultNodeModelGenerics> {\r\n    portsIn: MyPortModel[] = [];\r\n    portsOut: MyPortModel[] = [];\r\n    content: Object;\r\n    extras: any;\r\n    selectableOptions: string[];\r\n    constructor(name: string, color: string, extras: any, ins: any[], outs: any[], shouldHaveUserName: boolean = true) {\r\n        super({\r\n            type: 'MyEditable',\r\n            name: name,\r\n            color: color,\r\n        });\r\n        this.extras = extras;\r\n\r\n        ins.forEach((method: string) => {\r\n            this.addInPort(method)\r\n        });\r\n        outs.forEach((method: string) => {\r\n            this.addOutPort(method)\r\n        });\r\n\r\n        let userName = shouldHaveUserName ? 'userName' : false;\r\n        const selector = name === 'Condition' ? name : outs[0].substring(0, outs[0].indexOf(' ') !== -1 ? outs[0].indexOf(' ') : outs[0].length)\r\n\r\n        console.log('creating', selector)\r\n        switch (selector) {\r\n            case 'bool':\r\n                this.content = { name: userName, value: 'true' }\r\n                this.selectableOptions = ['true', 'false'];\r\n                break;\r\n            case 'port':\r\n                this.content = { name: userName, value: '0' }\r\n                this.selectableOptions = Array.from(Array(10).keys()).map(x => x.toString())\r\n                break;\r\n            case 'int':\r\n                this.content = { name: userName, value: '0' }\r\n                this.selectableOptions = ['something', 'went wrong'];\r\n                break;\r\n            case 'Condition':\r\n                this.content = { name: userName, value: '==' }\r\n                this.selectableOptions = ['==', '!=', '<', '>', '<=', '>=', '<=>']\r\n                break;\r\n            default:\r\n                this.content = { name: userName, value: 'value' }\r\n                this.selectableOptions = ['something', 'went wrong'];\r\n                break;\r\n        }\r\n    }\r\n\r\n    doClone(lookupTable: {}, clone: any): void {\r\n        clone.portsIn = [];\r\n        clone.portsOut = [];\r\n        super.doClone(lookupTable, clone);\r\n    }\r\n\r\n    removePort(port: MyPortModel): void {\r\n        super.removePort(port);\r\n        if (port.getOptions().in) {\r\n            this.portsIn.splice(this.portsIn.indexOf(port), 1);\r\n        } else {\r\n            this.portsOut.splice(this.portsOut.indexOf(port), 1);\r\n        }\r\n    }\r\n\r\n    addPort<T extends MyPortModel>(port: T): T {\r\n        super.addPort(port);\r\n        if (port.getOptions().in) {\r\n            if (this.portsIn.indexOf(port) === -1) {\r\n                this.portsIn.push(port);\r\n            }\r\n        } else {\r\n            if (this.portsOut.indexOf(port) === -1) {\r\n                this.portsOut.push(port);\r\n            }\r\n        }\r\n        return port;\r\n    }\r\n\r\n    addInPort(label: string, after = true): MyPortModel {\r\n        const p = new MyPortModel({\r\n            in: true,\r\n            name: label,\r\n            label: label,\r\n            alignment: PortModelAlignment.LEFT\r\n        });\r\n        if (!after) {\r\n            this.portsIn.splice(0, 0, p);\r\n        }\r\n        return this.addPort(p);\r\n    }\r\n\r\n    addOutPort(label: string, after = true): MyPortModel {\r\n        const p = new MyPortModel({\r\n            in: false,\r\n            name: label,\r\n            label: label,\r\n            alignment: PortModelAlignment.RIGHT\r\n        });\r\n        if (!after) {\r\n            this.portsOut.splice(0, 0, p);\r\n        }\r\n        return this.addPort(p);\r\n    }\r\n\r\n    addExtras(extras: any): any {\r\n        this.extras = extras;\r\n        return this.extras\r\n    }\r\n\r\n    deserialize(event: DeserializeEvent<this>) {\r\n        super.deserialize(event);\r\n        this.options.name = event.data.name;\r\n        this.options.color = event.data.color;\r\n        this.portsIn = _.map(event.data.portsInOrder, (id) => {\r\n            return this.getPortFromID(id);\r\n        }) as MyPortModel[];\r\n        this.portsOut = _.map(event.data.portsOutOrder, (id) => {\r\n            return this.getPortFromID(id);\r\n        }) as MyPortModel[];\r\n        this.extras = event.data.extras\r\n        this.content = event.data.content\r\n        this.selectableOptions = event.data.selectableOptions\r\n    }\r\n\r\n    serialize(): any {\r\n        return {\r\n            ...super.serialize(),\r\n            name: this.options.name,\r\n            color: this.options.color,\r\n            portsInOrder: _.map(this.portsIn, (port) => {\r\n                return port.getID();\r\n            }),\r\n            portsOutOrder: _.map(this.portsOut, (port) => {\r\n                return port.getID();\r\n            }),\r\n            extras: this.extras,\r\n            content: this.content,\r\n            selectableOptions: this.selectableOptions\r\n        };\r\n    }\r\n\r\n    getInPorts(): MyPortModel[] {\r\n        return this.portsIn;\r\n    }\r\n\r\n    getOutPorts(): MyPortModel[] {\r\n        return this.portsOut;\r\n    }\r\n}","// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default [{\r\n        name: 'Arduino Uno',\r\n        color: 'green',\r\n        extras: {\r\n            type: 'controller',\r\n            analogPorts: 6,\r\n            digitalPorts: 14,\r\n        },\r\n        ins: [],\r\n        outs: [\r\n            'setup()',\r\n            'loop()'\r\n        ]\r\n    }, {\r\n        name: 'Arduino Nano',\r\n        color: 'green',\r\n        extras: {\r\n            type: 'controller',\r\n            analogPorts: 6,\r\n            digitalPorts: 22,\r\n        },\r\n        ins: [],\r\n        outs: [\r\n            'setup()',\r\n            'loop()'\r\n        ]\r\n    },\r\n    {\r\n        name: 'Arduino Mega',\r\n        color: 'green',\r\n        extras: {\r\n            type: 'controller',\r\n            analogPorts: 16,\r\n            digitalPorts: 54,\r\n        },\r\n        ins: [],\r\n        outs: [\r\n            'setup()',\r\n            'loop()'\r\n        ]\r\n    },\r\n    {\r\n        name: 'Arduino Leonardo',\r\n        color: 'green',\r\n        extras: {\r\n            type: 'controller',\r\n            analogPorts: 12,\r\n            digitalPorts: 20,\r\n        },\r\n        ins: [],\r\n        outs: [\r\n            'setup()',\r\n            'loop()'\r\n        ]\r\n    },\r\n    {\r\n        name: 'Arduino Flora',\r\n        color: 'green',\r\n        extras: {\r\n            type: 'controller',\r\n            analogPorts: 4,\r\n            digitalPorts: 8,\r\n        },\r\n        ins: [],\r\n        outs: [\r\n            'setup()',\r\n            'loop()'\r\n        ]\r\n    }, {\r\n        name: 'Digital I/O',\r\n        color: 'cyan',\r\n        extras: {\r\n            type: 'built-in'\r\n        },\r\n        ins: [\r\n            'void digitalWrite(int pin, int value)',\r\n            'void pinMode(int pin, int mode)',\r\n        ],\r\n        outs: [\r\n            'int digitalRead(int pin)',\r\n        ]\r\n    },\r\n    {\r\n        name: 'Analog I/O',\r\n        color: 'cyan',\r\n        extras: {\r\n            type: 'built-in'\r\n        },\r\n        ins: [\r\n            'void analoglWrite(int pin, int value)',\r\n            'void pinMode(int pin, int mode)',\r\n            'void analogReference(int type)',\r\n        ],\r\n        outs: []\r\n    },\r\n    {\r\n        name: 'Time',\r\n        color: 'cyan',\r\n        extras: {\r\n            type: 'built-in'\r\n        },\r\n        ins: [\r\n            'void delay(int ms)',\r\n            'void delayMicroseconds(int us)',\r\n        ],\r\n        outs: [\r\n            'unsigned long micros()',\r\n            'unsigned long millis()',\r\n        ]\r\n    },\r\n    {\r\n        name: 'Math',\r\n        color: 'cyan',\r\n        extras: {\r\n            type: 'built-in'\r\n        },\r\n        ins: [\r\n            'void delay(int ms)',\r\n        ],\r\n        outs: [\r\n            'int abs(int x)',\r\n            'int constrain(int x, int a, int b)',\r\n            'int map(int value, int fromLow, int fromHigh, int toLow, int toHigh)',\r\n            'any? max(any x, any y)',\r\n            'any? min(any x, any y)',\r\n            'double pow(float base, float exponent)',\r\n            'double sq(any x)',\r\n            'double sqrt(any x)',\r\n        ]\r\n    },\r\n    {\r\n        name: 'Digital Port',\r\n        color: 'white',\r\n        extras: {\r\n            type: 'port'\r\n        },\r\n        ins: [],\r\n        outs: [\r\n            'port',\r\n        ]\r\n    }, {\r\n        name: 'Analog Port',\r\n        color: 'white',\r\n        extras: {\r\n            type: 'port'\r\n        },\r\n        ins: [],\r\n        outs: [\r\n            'port',\r\n        ]\r\n    },\r\n    {\r\n        name: 'Function',\r\n        extras: {\r\n            type: 'logic'\r\n        },\r\n        color: 'grey',\r\n        outs: [\r\n            'call',\r\n        ],\r\n        ins: [\r\n            'trigger',\r\n        ]\r\n    }, {\r\n        name: 'Condition',\r\n        extras: {\r\n            type: 'logic'\r\n        },\r\n        color: 'grey',\r\n        outs: [\r\n            'True',\r\n            'False'\r\n        ],\r\n        ins: [\r\n            'trigger',\r\n            'x',\r\n            'y'\r\n        ]\r\n    },\r\n    {\r\n        name: 'Loop',\r\n        extras: {\r\n            type: 'logic'\r\n        },\r\n        color: 'grey',\r\n        outs: [\r\n            'True',\r\n            'False'\r\n        ],\r\n        ins: [\r\n            'startValue',\r\n            'stopValue'\r\n        ]\r\n    },\r\n    {\r\n        name: 'Led',\r\n        color: 'red',\r\n        extras: {\r\n            type: 'component',\r\n            library: 'Setter.h'\r\n        },\r\n        ins: [\r\n            'setValue()'\r\n        ],\r\n        outs: []\r\n\r\n    },\r\n    {\r\n        name: 'Temperature Sensor',\r\n        color: 'blue',\r\n        extras: {\r\n            type: 'component',\r\n            library: 'Getter.h'\r\n        },\r\n        ins: [],\r\n        outs: [\r\n            'getValue()'\r\n        ]\r\n    },\r\n    {\r\n        name: 'TwoWire Interface',\r\n        color: 'blue',\r\n        extras: {\r\n            type: 'component',\r\n            library: 'Wire.h'\r\n        },\r\n        ins: [\r\n            'void begin()',\r\n            'void beginTransmission()',\r\n            'void setClock()',\r\n            'void onReceive()',\r\n            'void onRequest()'\r\n\r\n        ],\r\n        outs: [\r\n            'byte requestFrom()',\r\n            'byte endTransmission()',\r\n            'byte write()',\r\n            'byte available()',\r\n            'byte read()'\r\n        ]\r\n    },\r\n    {\r\n        name: 'Button',\r\n        color: 'blue',\r\n        extras: {\r\n            type: 'component',\r\n            library: 'Getter.h'\r\n        },\r\n        ins: [\r\n            'setValue(bool)'\r\n        ],\r\n        outs: []\r\n    },\r\n    {\r\n        name: 'PWM Servo',\r\n        color: 'orange',\r\n        extras: {\r\n            type: 'component',\r\n            library: 'Adafruit_PWMServoDriver.h'\r\n        },\r\n        ins: [\r\n            'void begin(uint8_t prescale=0)',\r\n            'void sleep()',\r\n            'void wakeup()',\r\n            'void setExtClk(uint8_t prescale)',\r\n            'void setPWMFreq(float freq)',\r\n            'void setOutputMode(bool totempole)',\r\n            'void setPWM(uint8_t num, uint16_t on, uint16_t off)',\r\n            'void setPin(uint8_t num, uint16_t val, bool invert=false)',\r\n            'void writeMicroseconds(uint8_t num, uint16_t Microseconds)',\r\n            'void setOscillatorFrequency(uint32_t freq)',\r\n\r\n        ],\r\n        outs: [\r\n            'uint8_t getPWM(uint8_t num)',\r\n            'uint8_t readPrescale()',\r\n            'uint32_t getOscillatorFrequency()',\r\n        ]\r\n    },\r\n    {\r\n        name: 'Servo',\r\n        color: 'orange',\r\n        extras: {\r\n            type: 'component',\r\n            library: 'Servo.h'\r\n        },\r\n        ins: [\r\n            'void detach()',\r\n            'void write(int)',\r\n            'void writeMicroseconds(int)',\r\n        ],\r\n        outs: [\r\n            'uint8_t attach(int)',\r\n            'uint8_t attach(int, int, int)',\r\n            'int read()',\r\n            'int readMicroseconds()',\r\n            'bool attached()',\r\n        ]\r\n    },\r\n    {\r\n        name: 'Stepper',\r\n        color: 'orange',\r\n        extras: {\r\n            type: 'component',\r\n            library: 'Stepper.h'\r\n        },\r\n        ins: [\r\n            'Stepper(int, int, int)',\r\n            'Stepper(int, int, int, int, int)',\r\n            'Stepper(int, int, int, int, int, int)',\r\n            'void setSpeed(long whatSpeed)',\r\n            'void step(int number_of_steps)',\r\n        ],\r\n        outs: [\r\n            'int version(void)',\r\n        ]\r\n    },\r\n    {\r\n        name: 'Variable Integer',\r\n        color: 'pink',\r\n        extras: {\r\n            type: 'variable'\r\n        },\r\n        ins: [\r\n            'void setValue(int)',\r\n        ],\r\n        outs: [\r\n            'int getValue()',\r\n        ]\r\n    },\r\n    {\r\n        name: 'Variable Boolean',\r\n        color: 'pink',\r\n        extras: {\r\n            type: 'variable'\r\n        },\r\n        ins: [\r\n            'void setValue(bool)',\r\n        ],\r\n        outs: [\r\n            'bool',\r\n        ]\r\n    },\r\n    {\r\n        name: 'Constant Integer',\r\n        color: 'pink',\r\n        extras: {\r\n            type: 'constant'\r\n        },\r\n        ins: [],\r\n        outs: [\r\n            'int',\r\n        ]\r\n    }, {\r\n        name: 'Constant Boolean',\r\n        color: 'pink',\r\n        extras: {\r\n            type: 'constant'\r\n        },\r\n        ins: [],\r\n        outs: [\r\n            'bool',\r\n        ]\r\n    },\r\n]","import React, { useState, useRef, useCallback } from \"react\";\r\nimport Highlight, { defaultProps } from \"prism-react-renderer\";\r\nimport { useEditable } from \"use-editable\";\r\n\r\nconst Edit = () => {\r\n    const editorRef = useRef(null);\r\n    const [code, setCode] = useState('');\r\n\r\n    const onEditableChange = useCallback((code) => {\r\n        setCode(code.slice(0, -1));\r\n    }, []);\r\n\r\n    useEditable(editorRef, onEditableChange, {\r\n        disabled: false,\r\n        indentation: 2\r\n    });\r\n\r\n    return (\r\n        <Highlight {...defaultProps} code={code} language=\"jsx\">\r\n            {({ className, style, tokens, getLineProps, getTokenProps }) => (\r\n                <pre className={className} style={style} ref={editorRef}>\r\n                    {tokens.map((line, i) => (\r\n                        <React.Fragment key={i}>\r\n                            {line\r\n                                .filter((token) => !token.empty)\r\n                                .map((token, key) => (\r\n                                    <span {...getTokenProps({ token, key })} />\r\n                                ))}\r\n                            {\"\\n\"}\r\n                        </React.Fragment>\r\n                    ))}\r\n                </pre>\r\n            )}\r\n        </Highlight>\r\n    );\r\n};\r\n\r\nexport default Edit;\r\n","import Prism from \"prismjs\";\r\nimport { useEffect } from \"react\";\r\nimport \"./prism.css\";\r\nimport PrismEdit from \"./PrismEdit\";\r\n\r\nfunction generateCode(model: any): string {\r\n    let code = ''\r\n    if (Object.keys(model).length === 0) {\r\n        return '// Empty Diagram!';\r\n    }\r\n    const links: any[] = []\r\n    Object.entries(model.layers[0].models).forEach((x: any) => {\r\n        links.push(x[1])\r\n    })\r\n    const nodes: any[] = []\r\n    const logics: any[] = []\r\n    const components: any[] = []\r\n    const controllers: any[] = []\r\n    const libraries: any[] = []\r\n    const constants: any[] = []\r\n\r\n    const usedDigital: number[] = []\r\n    const usedAnalog: number[] = []\r\n\r\n    Object.entries(model.layers[1].models).forEach((x: any) => {\r\n        const n = x[1]\r\n        nodes.push(n)\r\n        switch (n.extras.type) {\r\n            case 'component':\r\n                n.instance = n.name.toLowerCase().replace(' ', '') + components.filter(c => c.extras.library === n.extras.library).length\r\n                components.push(n)\r\n                if (!libraries.includes(n.extras.library))\r\n                    libraries.push(n.extras.library)\r\n                break\r\n            case 'controller':\r\n                controllers.push(n)\r\n                break\r\n            case 'logic':\r\n                logics.push(n)\r\n                break\r\n            case 'variable':\r\n                break\r\n            case 'constant':\r\n                n.content.name = n.content.name.toUpperCase()\r\n                constants.push(n)\r\n                break\r\n        }\r\n    })\r\n\r\n    if (nodes.length === 0) return '// You need at least one Node!'\r\n    if (controllers.length === 0) return '// You need an Arduino!'\r\n    if (controllers.length > 1) return '// Only one Arduino allowed!'\r\n\r\n    let controller = controllers[0]\r\n\r\n    let add = (...message: string[]) => {\r\n        message.forEach((m) => {\r\n            code += m;\r\n        });\r\n        // console.log('----', code);\r\n        code += \"\\n\";\r\n        return code;\r\n    };\r\n    let addOnTop = (...message: string[]) => {\r\n        let top = ''\r\n        message.forEach((m) => {\r\n            top += m;\r\n        });\r\n        code = top + \"\\n\" + code\r\n    };\r\n    let getLink = (linkID: string) => {\r\n        return links.find(l => l.id === linkID)\r\n    }\r\n    let getPort = (nodeID: string, portID: string) => {\r\n        try {\r\n            return nodes.find((n: any) => n.id === nodeID).ports\r\n                .find((p: any) => p.id === portID);\r\n        } catch (error) {\r\n            return \"// Loose end\"\r\n        }\r\n    }\r\n    let getNode = (nodeID: string) => {\r\n        return nodes.find((n: any) => n.id === nodeID)\r\n    }\r\n    let getCoditionalValue = (conditionNode: any, portName: any): string => {\r\n        try {\r\n            let linkID = conditionNode.ports.find((p: any) => p.name === portName).links[0]\r\n            let link = getLink(linkID)\r\n            let port = getPort(link.source, link.sourcePort)\r\n            let parent = getParent(port)\r\n\r\n            if (['variable', 'port'].includes(parent.extras.type)) {\r\n                return parent.content.value\r\n            }\r\n            else if (['component'].includes(parent.extras.type)) {\r\n                return parent.instance + '.' + port.name\r\n            } else {\r\n                return add('Unknown extras.type')\r\n            }\r\n        } catch (error) {\r\n            return '/* Lacking Value */'\r\n        }\r\n    }\r\n    let getOutcome = (conditionNode: any, ifThis = 'True') => {\r\n        try {\r\n            let linkID = conditionNode.ports.find((p: any) => p.name === ifThis).links[0]\r\n            let link = getLink(linkID)\r\n            return getPort(link.target, link.targetPort)\r\n        } catch (error) {\r\n            return { label: '// Lacking Outcome' }\r\n        }\r\n    }\r\n    let getParent = (childNode: any) => {\r\n        return nodes.find((n: any) => n.id === childNode.parentNode)\r\n    }\r\n    let removeTypes = (name: string): string => {\r\n        const functionName = name.substring(name.indexOf(' ') + 1, name.indexOf('(') !== -1 ? name.indexOf('(') : name.length)\r\n        const params = name.substring(name.indexOf('('), name.indexOf(')') - 1).split(',')\r\n        let result = functionName\r\n        params.forEach(param => {\r\n            if (!param.includes('=')) {\r\n                let thisParam = String(param.split(' ').slice(-1))\r\n                result += thisParam\r\n            }\r\n        });\r\n        // console.log('removing types from', name, 'params ', params, ' returning', result)\r\n        return result;\r\n    }\r\n    let callWithParameters = (node: any, ...contents: any) => {\r\n        if (node.extras.type === 'constant') {\r\n            contents.push(node.content.name)\r\n        } else {\r\n            contents.push(node.content.value)\r\n        }\r\n        node.ports.forEach((port: any) => {\r\n            port.links.forEach((l: any) => {\r\n                const link = getLink(l);\r\n                const toPort = getPort(link.target, link.targetPort)\r\n                const toNode = getNode(toPort.parentNode)\r\n                if (toNode.id === node.id) {\r\n                    //skip as it is the previous link\r\n                } else if (toNode.extras.type === 'built-in') {\r\n                    add(removeTypes(toPort.name.split(\"(\").shift()) + '(' + contents + ');')\r\n                } else if (!toNode.instance) {//points to another variable/port\r\n                    callWithParameters(toNode, ...contents)\r\n                } else {//points to a class instance, we hope it is a method call\r\n                    //todo: check for parameter type and numbers\r\n                    add(toNode.instance + '.' + removeTypes(toPort.name.split(\"(\").shift()) + '(' + contents + ');')\r\n                }\r\n            })\r\n        })\r\n    }\r\n    const processLink = (l: any) => {\r\n        const link = getLink(l);\r\n        const toPort = getPort(link.target, link.targetPort)\r\n        const toNode = getNode(toPort.parentNode)\r\n        const fromPort = getPort(link.source, link.sourcePort)\r\n        const fromNode = getNode(fromPort.parentNode)\r\n\r\n        if (toNode?.extras?.type === 'built-in') {\r\n            add(removeTypes(toPort.name) + '()')\r\n        } else if (toNode?.name === \"Function\") {\r\n            add(toNode.content.value, '(', ');')\r\n        } else if (toNode?.name === \"Condition\") {\r\n            const xValue = getCoditionalValue(toNode, 'x')\r\n            const yValue = getCoditionalValue(toNode, 'y')\r\n\r\n            const outcome2 = getOutcome(toNode)\r\n            const toNode2 = getParent(outcome2)\r\n\r\n            const outcome3 = getOutcome(toNode, 'False')\r\n            const toNode3 = getParent(outcome3)\r\n\r\n            add('if (', xValue, ' ' + toNode.content.value + ' ', yValue, ') {')\r\n            if (toNode2) {\r\n                callWithParameters(toNode2)\r\n            } else {\r\n                add('/* Lacking code to be executed if conditional is true */')\r\n            }\r\n            if (toNode3) {\r\n                add('} else {')\r\n                callWithParameters(toNode3)\r\n            }\r\n            add(\"}\\n\");\r\n\r\n        } else {\r\n            if (['variable', 'constant'].includes(toNode?.extras?.type)) {\r\n                console.log('varr')\r\n                callWithParameters(toNode)\r\n            } else if (['port'].includes(toNode?.extras?.type)) {\r\n                console.log('found port', toNode)\r\n                if (toNode.name.includes('Digital')) {\r\n                    console.log('it was digital');\r\n                    usedDigital.push(toNode.content.value)\r\n                } else {\r\n                    console.log('it was analog');\r\n                    usedAnalog.push(toNode.content.value)\r\n                }\r\n                callWithParameters(toNode)\r\n            } else {\r\n                if (toNode?.instance) {\r\n                    add(toNode.instance + '.' + removeTypes(toPort.name) + '()')\r\n                } else {\r\n                    add(fromNode.instance + '.' + removeTypes(fromPort.name) + '()')\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    if (libraries.length > 0) {\r\n        add('// Libraries')\r\n        libraries.forEach(lib => {\r\n            add('#include <' + lib + '>')\r\n        });\r\n        add('')\r\n        add('// Objects')\r\n        libraries.forEach(lib => {\r\n            components.forEach(comp => {\r\n                if (comp.extras.library === lib)\r\n                    add(comp.name + ' ' + comp.instance)\r\n            });\r\n        });\r\n    }\r\n\r\n    if (logics.filter(l => l.name === 'Function').length > 0) {\r\n        add('// Functions')\r\n        logics.forEach(logic => {\r\n            if (logic.name === \"Function\") {\r\n                add('void ', logic.content.value, '() {')\r\n                const callPort = logic.ports.find((x: any) => x.alignment === 'right')\r\n                callPort.links.forEach((l: any) => {\r\n                    processLink(l)\r\n                });\r\n                add('}')\r\n            }\r\n        });\r\n    }\r\n\r\n    if (constants.length > 0) {\r\n        add('// Constants')\r\n        constants.forEach(constant => {\r\n            add(`#define ${constant.content.name} ${constant.content.value} //${constant.name}`)\r\n        });\r\n        add('')\r\n    }\r\n\r\n    add(`// Micro-controller's Lifecycle`)\r\n    // let content.value: string | null = null\r\n    controller.ports.forEach((port: any) => {\r\n        add('void ', port.label, \"{\");\r\n        port.links.forEach((l: any) => {\r\n            processLink(l)\r\n        })\r\n        add(\"}\\n\");\r\n    })\r\n\r\n    addOnTop(\"\")\r\n    addOnTop(`Digital ports ${usedDigital.length}/${controller.extras.digitalPorts} ${usedDigital.length > 0 ? `(${usedDigital})` : \"\"}`, \"*/\")\r\n    addOnTop(`Analog ports ${usedAnalog.length}/${controller.extras.analogPorts} ${usedAnalog.length > 0 ? `(${usedAnalog})` : \"\"} `)\r\n    addOnTop(\"/* Code generated for \", controller.name);\r\n\r\n    function indentCode(original: string) {\r\n        let code: any[] = [];\r\n        let level = 0;\r\n        let tab = \"    \";\r\n        original.split(\"\\n\").forEach((line) => {\r\n            if (line.includes(\"}\")) {\r\n                level--;\r\n            }\r\n            code.push(tab.repeat(level) + line);\r\n            if (line.includes(\"{\")) {\r\n                level++;\r\n            }\r\n        });\r\n        return code.join(\"\\n\");\r\n    }\r\n    return indentCode(code);\r\n}\r\nexport default function Code(props: { model: string }) {\r\n    // console.log('CodeComponent render')\r\n    const model = props.model\r\n    let code = 'Initializing Generator'\r\n    if (model === \"{}\" || model === \"\") {\r\n        //\r\n    } else {\r\n        try {\r\n            code = generateCode(JSON.parse(model))\r\n        } catch (error) {\r\n            console.log('erro', error)\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        Prism.highlightAll();\r\n    }, [props])\r\n    return (\r\n        <>\r\n            <div className=\"Code\">\r\n                <pre >\r\n                    <code className=\"language-clike\">{code}</code>\r\n                </pre>\r\n            </div>\r\n            <PrismEdit />\r\n        </>\r\n    );\r\n}","import * as React from 'react';\r\nimport { Application } from './Application';\r\nimport { TrayItemWidget } from './TrayItemWidget';\r\nimport { MyNodeModel } from './myNode/MyNodeModel';\r\nimport { CanvasWidget } from '@projectstorm/react-canvas-core';\r\nimport { DemoCanvasWidget } from './helpers/DemoCanvasWidget';\r\nimport styled from '@emotion/styled';\r\nimport { MyEditableNodeModel } from './editableNode/MyEditableNodeModel';\r\nimport paletteNodes from '../../paletteNodes';\r\nimport { useState } from 'react';\r\nimport Code from '../Code';\r\nimport { Button } from '@material-ui/core';\r\nvar ScrollArea = require('react-scrollbar').default;\r\nexport interface BodyWidgetProps {\r\n\tapp: Application;\r\n}\r\n\r\nnamespace S {\r\n\texport const Body = styled.div`\r\n\t\tflex-grow: 1;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tmin-height: 100%;\r\n\t`;\r\n\r\n\texport const Header = styled.div`\r\n\t\tdisplay: flex;\r\n\t\tbackground: rgb(30, 30, 30);\r\n\t\tflex-grow: 0;\r\n\t\tflex-shrink: 0;\r\n\t\tcolor: white;\r\n\t\tfont-family: Helvetica, Arial, sans-serif;\r\n\t\tpadding: 10px;\r\n\t\talign-items: center;\r\n\t`;\r\n\r\n\texport const Content = styled.div`\r\n\t\tdisplay: flex;\r\n\t\tflex-grow: 1;\r\n\t`;\r\n\r\n\texport const Layer = styled.div`\r\n\t\tposition: relative;\r\n\t\tflex-grow: 1;\r\n\t`;\r\n}\r\n\r\nfunction BodyWidget(props: BodyWidgetProps) {\r\n\tconst [model, setModel] = useState(\"{}\")\r\n\tconst [rerender, setRerender] = React.useState(false);\r\n\r\n\tconst rawModel = props.app.getDiagramEngine().getModel().serialize()\r\n\tconst stringModel = JSON.stringify(rawModel)\r\n\r\n\tconst groups = [...new Set(paletteNodes.map(x => x.extras.type))]\r\n\r\n\tif (stringModel !== model) {\r\n\t\tsetModel(stringModel);\r\n\t}\r\n\treturn (\r\n\t\t<div className=\"float-container\" >\r\n\t\t\t<div className=\"float-child-left\">\r\n\t\t\t\t<S.Body>\r\n\t\t\t\t\t<S.Content style={{ width: '100%', height: '100%' }}>\r\n\t\t\t\t\t\t<div>\r\n\r\n\t\t\t\t\t\t\t<ScrollArea\r\n\t\t\t\t\t\t\t\tspeed={1}\r\n\t\t\t\t\t\t\t\tclassName=\"area\"\r\n\t\t\t\t\t\t\t\tcontentClassName=\"content\"\r\n\t\t\t\t\t\t\t\thorizontal={false}\r\n\t\t\t\t\t\t\t\tstyle={{ height: '88vh' }}\r\n\t\t\t\t\t\t\t\tsmoothScrolling={true}\r\n\t\t\t\t\t\t\t\tverticalScrollbarStyle={{ backgroundColor: 'white' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tgroups.map((group) => {\r\n\t\t\t\t\t\t\t\t\t\treturn <div key={group} style={{ border: 'dashed white 1px', marginBottom: '20px' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<h6 style={{ margin: '0px 0px 0px 0px' }}>{group + 's'}:</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t{paletteNodes.filter(n => n.extras.type === group).map((node) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn <TrayItemWidget key={node.name} node={node} />\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</ScrollArea>\r\n\t\t\t\t\t\t\t<div style={{ marginBottom: '0px' }}>\r\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" size='small'\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tlocalStorage.setItem('model', JSON.stringify(rawModel));\r\n\t\t\t\t\t\t\t\t\t\tconsole.log('Saved')\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\tSave\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" size='small'\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tprops.app.getActiveDiagram().deserializeModel(\r\n\t\t\t\t\t\t\t\t\t\t\tJSON.parse(localStorage.getItem('model') || '{}'),\r\n\t\t\t\t\t\t\t\t\t\t\tprops.app.getDiagramEngine());\r\n\t\t\t\t\t\t\t\t\t\tconsole.log('Loaded')\r\n\t\t\t\t\t\t\t\t\t\tsetModel(stringModel);\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetRerender(!rerender);\r\n\t\t\t\t\t\t\t\t\t\t}, 10);\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\tLoad\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<S.Layer\r\n\t\t\t\t\t\t\tonDrop={(event) => {\r\n\t\t\t\t\t\t\t\tlet data = JSON.parse(event.dataTransfer.getData('storm-diagram-node'));\r\n\r\n\t\t\t\t\t\t\t\tif (data) {\r\n\t\t\t\t\t\t\t\t\tlet node: any = {};\r\n\t\t\t\t\t\t\t\t\tif (data.extras.type === \"variable\") {\r\n\t\t\t\t\t\t\t\t\t\tnode = new MyEditableNodeModel(data.name, data.color, data.extras, data.ins, data.outs);\r\n\t\t\t\t\t\t\t\t\t} else if (data.extras.type === \"constant\") {\r\n\t\t\t\t\t\t\t\t\t\tnode = new MyEditableNodeModel(data.name, data.color, data.extras, data.ins, data.outs);\r\n\t\t\t\t\t\t\t\t\t} else if (data.extras.type === 'port') {\r\n\t\t\t\t\t\t\t\t\t\tnode = new MyEditableNodeModel(data.name, data.color, data.extras, data.ins, data.outs, false);\r\n\t\t\t\t\t\t\t\t\t} else if (data.extras.type === \"logic\") {\r\n\t\t\t\t\t\t\t\t\t\tnode = new MyEditableNodeModel(data.name, data.color, data.extras, data.ins, data.outs, false);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tnode = new MyNodeModel(data.name, data.color);\r\n\t\t\t\t\t\t\t\t\t\tnode.extras = data.extras\r\n\t\t\t\t\t\t\t\t\t\tdata.outs.forEach((method: string) => {\r\n\t\t\t\t\t\t\t\t\t\t\tnode.addOutPort(method)\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tdata.ins.forEach((method: string) => {\r\n\t\t\t\t\t\t\t\t\t\t\tnode.addInPort(method)\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tnode.setPosition(props.app.getDiagramEngine().getRelativeMousePoint(event));\r\n\t\t\t\t\t\t\t\t\tprops.app.getDiagramEngine().getModel().addNode(node);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tsetRerender(!rerender);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonDragOver={(event: any) => {\r\n\t\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonClick={(event: any) => {\r\n\t\t\t\t\t\t\t\tsetRerender(!rerender);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div style={{ width: '100%', height: '100%' }}>\r\n\t\t\t\t\t\t\t\t<DemoCanvasWidget >\r\n\t\t\t\t\t\t\t\t\t<CanvasWidget engine={props.app.getDiagramEngine()} />\r\n\t\t\t\t\t\t\t\t</DemoCanvasWidget>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</S.Layer>\r\n\t\t\t\t\t</S.Content>\r\n\t\t\t\t</S.Body >\r\n\t\t\t</div>\r\n\t\t\t<div className=\"float-child-right\">\r\n\t\t\t\t<Code model={model} />\r\n\t\t\t</div>\r\n\t\t</div >\r\n\t)\r\n\r\n}\r\nexport default React.memo(BodyWidget)","import { LabelModel } from '@projectstorm/react-diagrams';\r\nimport { BaseModelOptions, DeserializeEvent } from '@projectstorm/react-canvas-core';\r\n\r\nexport interface EditableLabelOptions extends BaseModelOptions {\r\n\tvalue?: string;\r\n}\r\n\r\nexport class EditableLabelModel extends LabelModel {\r\n\tvalue: string;\r\n\r\n\tconstructor(options: EditableLabelOptions = {}) {\r\n\t\tsuper({\r\n\t\t\t...options,\r\n\t\t\ttype: 'editable-label'\r\n\t\t});\r\n\t\tthis.value = options.value || '';\r\n\t}\r\n\r\n\tserialize() {\r\n\t\treturn {\r\n\t\t\t...super.serialize(),\r\n\t\t\tvalue: this.value\r\n\t\t};\r\n\t}\r\n\r\n\tdeserialize(event: DeserializeEvent<this>): void {\r\n\t\tsuper.deserialize(event);\r\n\t\tthis.value = event.data.value;\r\n\t}\r\n}\r\n","import * as React from 'react';\r\n\r\nimport { EditableLabelModel } from './EditableLabelModel';\r\nimport styled from '@emotion/styled';\r\nimport { action } from '@storybook/addon-actions';\r\n\r\nexport interface FlowAliasLabelWidgetProps {\r\n\tmodel: EditableLabelModel;\r\n}\r\n\r\nnamespace S {\r\n\t// NOTE: this CSS rules allows to interact with elements in label\r\n\texport const Label = styled.div`\r\n\t\tuser-select: none;\r\n\t\tpointer-events: auto;\r\n\t`;\r\n}\r\n\r\n// now we can render all what we want in the label\r\nexport const EditableLabelWidget: React.FunctionComponent<FlowAliasLabelWidgetProps> = (props) => {\r\n\tconst [str, setStr] = React.useState(props.model.value);\r\n\r\n\treturn (\r\n\t\t<S.Label>\r\n\t\t\t<input\r\n\t\t\t\tvalue={str}\r\n\t\t\t\tonChange={(event) => {\r\n\t\t\t\t\tconst newVal = event.target.value;\r\n\r\n\t\t\t\t\t// update value both in internal component state\r\n\t\t\t\t\tsetStr(newVal);\r\n\t\t\t\t\t// and in model object\r\n\t\t\t\t\tprops.model.value = newVal;\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\r\n\t\t\t<button onClick={() => action('model eventDidFire')('You clicked the button')}>Click me!</button>\r\n\t\t</S.Label>\r\n\t);\r\n};\r\n","import * as React from 'react';\r\nimport { AbstractReactFactory, GenerateWidgetEvent } from '@projectstorm/react-canvas-core';\r\nimport { DiagramEngine } from '@projectstorm/react-diagrams';\r\n\r\nimport { EditableLabelModel } from './EditableLabelModel';\r\nimport { EditableLabelWidget } from './EditableLabelWidget';\r\n\r\nexport class EditableLabelFactory extends AbstractReactFactory<EditableLabelModel, DiagramEngine> {\r\n\tconstructor() {\r\n\t\tsuper('editable-label');\r\n\t}\r\n\r\n\tgenerateModel(): EditableLabelModel {\r\n\t\treturn new EditableLabelModel();\r\n\t}\r\n\r\n\tgenerateReactWidget(event: GenerateWidgetEvent<EditableLabelModel>): JSX.Element {\r\n\t\treturn <EditableLabelWidget model={event.model} />;\r\n\t}\r\n}\r\n","import * as React from \"react\";\r\nimport AutosizeInput from 'react-input-autosize';\r\n\r\nexport interface IEditableSingleFieldProps {\r\n  beingEdited: boolean;\r\n  content: string;\r\n  onChange: (evt: React.FormEvent<HTMLInputElement>) => void;\r\n  onBlurOrEnter: () => void;\r\n  editingKey: string;\r\n  elementKey: string;\r\n  isAbstract?: boolean;\r\n}\r\nconst Editor = ({\r\n  content,\r\n  onChange,\r\n  onBlurOrEnter,\r\n}: {\r\n  content: string;\r\n  onChange: (evt: React.FormEvent<HTMLInputElement>) => void;\r\n  onBlurOrEnter: () => void;\r\n}) => {\r\n  return (\r\n    <AutosizeInput\r\n      autoFocus\r\n      inputStyle={{\r\n        padding: 1,\r\n        borderStyle: \"dotted\",\r\n        borderWidth: 1,\r\n        borderColor: \"black\"\r\n      }}\r\n      type=\"text\"\r\n      value={content}\r\n      onChange={onChange}\r\n      onBlur={onBlurOrEnter}\r\n      onKeyDown={(event: any) => {\r\n        if (event.keyCode === 13) onBlurOrEnter();\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default class EditableSingleField extends React.Component<\r\n  IEditableSingleFieldProps\r\n> {\r\n  constructor(props: IEditableSingleFieldProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <div>\r\n        {this.props.beingEdited &&\r\n          this.props.editingKey === this.props.elementKey ? (\r\n          <Editor\r\n            content={this.props.content}\r\n            onChange={this.props.onChange}\r\n            onBlurOrEnter={this.props.onBlurOrEnter}\r\n          />\r\n        ) : (\r\n          <p\r\n            style={{\r\n              margin: 0,\r\n              padding: 0,\r\n              fontStyle: this.props.isAbstract ? \"italic\" : \"normal\"\r\n            }}\r\n          >\r\n            {this.props.content}\r\n          </p>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import * as React from \"react\";\r\n\r\nexport interface ISelectableFieldProps {\r\n  beingEdited: boolean;\r\n  options: Array<string>\r\n  content: string;\r\n  onChange: (evt: React.ChangeEvent<HTMLSelectElement>) => void;\r\n  onBlurOrEnter: () => void;\r\n  editingKey: string;\r\n  elementKey: string;\r\n  isAbstract?: boolean;\r\n}\r\n\r\nexport interface ISelectableFieldState { }\r\n\r\nconst Editor = ({\r\n  content,\r\n  onChange,\r\n  onBlurOrEnter,\r\n  options\r\n}: {\r\n  content: string;\r\n  onChange: (evt: React.ChangeEvent<HTMLSelectElement>) => void;\r\n  onBlurOrEnter: () => void;\r\n  options: Array<string>;\r\n}) => {\r\n  return (\r\n    <select name=\"values\" id=\"values\"\r\n      value={content}\r\n      onChange={onChange}\r\n      onBlur={onBlurOrEnter}\r\n    >\r\n      {\r\n        options.map((x, y) =>\r\n          <option key={y}>{x}</option>)\r\n      }\r\n    </select>\r\n  );\r\n};\r\n\r\nexport default class SelectableField extends React.Component<\r\n  ISelectableFieldProps,\r\n  ISelectableFieldState\r\n> {\r\n  constructor(props: ISelectableFieldProps) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <div>\r\n        {this.props.beingEdited &&\r\n          this.props.editingKey === this.props.elementKey ? (\r\n          <Editor\r\n            content={this.props.content}\r\n            onChange={this.props.onChange}\r\n            onBlurOrEnter={this.props.onBlurOrEnter}\r\n            options={this.props.options}\r\n          />\r\n        ) : (\r\n          <p\r\n            style={{\r\n              margin: 0,\r\n              padding: 0,\r\n              fontStyle: this.props.isAbstract ? \"italic\" : \"normal\"\r\n            }}\r\n          >\r\n            {this.props.content}\r\n          </p>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","//@ts-nocheck\r\nimport * as React from \"react\";\r\nimport { MyEditableNodeModel } from \"./MyEditableNodeModel\";\r\nimport \"./MyEditableNodeWidgedStyle.css\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { DiagramEngine, DefaultPortLabel } from \"@projectstorm/react-diagrams\";\r\nimport styled from '@emotion/styled';\r\n\r\nimport EditableSingleField from \"../custom-node/custom_components/EditableSingleField\";\r\nimport SelectableField from \"../custom-node/custom_components/SelectableField\";\r\n\r\nnamespace S {\r\n  export const Node = styled.div<{ background: string; selected: boolean }>`\r\n\t\tbackground-color: ${(p) => p.background};\r\n\t\tborder-radius: 5px;\r\n\t\tfont-family: sans-serif;\r\n\t\tcolor: white;\r\n\t\tborder: solid 2px black;\r\n\t\toverflow: visible;\r\n\t\tfont-size: 11px;\r\n\t\tborder: solid 2px ${(p) => (p.selected ? 'rgb(0,192,255)' : 'black')};\r\n\t`;\r\n\r\n  export const Title = styled.div`\r\n\t\tbackground: rgba(0, 0, 0, 0.3);\r\n\t\tdisplay: flex;\r\n\t\twhite-space: nowrap;\r\n\t\tjustify-items: center;\r\n\t`;\r\n\r\n  export const TitleName = styled.div`\r\n\t\tflex-grow: 1;\r\n\t\tpadding: 5px 5px;\r\n\t`;\r\n\r\n  export const Ports = styled.div`\r\n\t\tdisplay: flex;\r\n\t\tbackground-image: linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.2));\r\n\t`;\r\n\r\n  export const PortsContainer = styled.div`\r\n\t\tflex-grow: 1;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\r\n\t\t&:first-of-type {\r\n\t\t\tmargin-right: 10px;\r\n\t\t}\r\n\r\n\t\t&:only-child {\r\n\t\t\tmargin-right: 0px;\r\n\t\t}\r\n\t`;\r\n}\r\n\r\nexport interface MyEditableWidgetProps {\r\n  nodeModel: MyEditableNodeModel;\r\n  engine: DiagramEngine\r\n}\r\n\r\nexport interface MyEditableWidgetState {\r\n  content: string;\r\n  height: number;\r\n  width: number;\r\n  editingSomething: boolean;\r\n  editingKey: string;\r\n}\r\nexport class MyEditableNodeWidget extends React.Component<\r\n  MyEditableWidgetProps,\r\n  MyEditableWidgetState\r\n> {\r\n  private divElement: HTMLDivElement;\r\n\r\n  constructor(props: MyEditableWidgetProps) {\r\n    super(props);\r\n    this.state = {\r\n      content: { name: '', value: '' },\r\n      variableType: '',\r\n      editingSomething: false,\r\n      editingKey: \"\"\r\n    };\r\n\r\n    //binding the methods to this element\r\n    this._editableObjectDoubleClick = this._editableObjectDoubleClick.bind(this);\r\n    this._contentOnChange = this._contentOnChange.bind(this);\r\n    this._onBlurOrEnter = this._onBlurOrEnter.bind(this);\r\n  }\r\n  generatePort = (port) => {\r\n    return <DefaultPortLabel engine={this.props.engine} port={port} key={port.getID()} />;\r\n  };\r\n\r\n  /**\r\n   * Pass this on onDoubleClick.\r\n   * You change the states to make the fields know it's in edit mode, and tell who is in the edit mode\r\n   */\r\n  _editableObjectDoubleClick = (content: string) => {\r\n    if (this.state.editingSomething) return;\r\n    this.setState({\r\n      editingSomething: true,\r\n      editingKey: content\r\n    });\r\n  };\r\n\r\n  /**\r\n   * What you'll do when the content is changed\r\n   * Usually, you update the model and the state\r\n   */\r\n  _contentOnChange = (evt: React.FormEvent<HTMLInputElement>) => {\r\n\r\n    this.props.nodeModel.content[this.state.editingKey] = evt.currentTarget.value;\r\n    this.setState({ content: evt.currentTarget.value });\r\n  };\r\n\r\n  /**\r\n   * What you will do when the InputField lost focus or you press enter\r\n   * Usually, you change the states to make the fields know it's not in edit mode\r\n   */\r\n  _onBlurOrEnter = () => {\r\n    this.setState({\r\n      editingSomething: false,\r\n      editingKey: \"\"\r\n    });\r\n  };\r\n\r\n  /**\r\n   * copy atributes from nodeModel\r\n   */\r\n  UNSAFE_componentWillMount() {\r\n    this.setState({\r\n      content: this.props.nodeModel.content\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <S.Node\r\n        data-default-node-name={this.props.nodeModel.getOptions().name}\r\n        selected={this.props.nodeModel.isSelected()}\r\n        background={this.props.nodeModel.getOptions().color}>\r\n        <S.Title>\r\n          {this.props.nodeModel.content.name && <div className={\"editable-node\"}\r\n            ref={divElement => (this.divElement = divElement)}>\r\n            <div className=\"editable-border\">\r\n              <div className=\"editable-header\">\r\n                <div\r\n                  onDoubleClick={() => {\r\n                    this._editableObjectDoubleClick(\"name\");\r\n                  }}\r\n                >\r\n                  <EditableSingleField\r\n                    elementKey=\"name\"\r\n                    editingKey={this.state.editingKey}\r\n                    beingEdited={this.state.editingSomething}\r\n                    content={this.props.nodeModel.content.name}\r\n                    onChange={this._contentOnChange}\r\n                    onBlurOrEnter={this._onBlurOrEnter}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>}\r\n          <S.TitleName>{this.props.nodeModel.getOptions().name}:\r\n          </S.TitleName>\r\n          <div className={\"editable-node\"}\r\n            ref={divElement => (this.divElement = divElement)}>\r\n            <div className=\"editable-border\">\r\n              <div className=\"editable-header\">\r\n                <div\r\n                  onDoubleClick={() => {\r\n                    this._editableObjectDoubleClick(\"value\");\r\n                  }}\r\n                >\r\n                  {(this.props.nodeModel.portsOut[0].options.name === 'bool' ||\r\n                    this.props.nodeModel.portsOut[0].options.name === 'port' ||\r\n                    this.props.nodeModel.getOptions().name === 'Condition'\r\n                  ) ?\r\n                    <SelectableField\r\n                      elementKey=\"value\"\r\n                      options={this.props.nodeModel.selectableOptions}\r\n                      editingKey={this.state.editingKey}\r\n                      beingEdited={this.state.editingSomething}\r\n                      content={this.props.nodeModel.content.value}\r\n                      onChange={this._contentOnChange}\r\n                      onBlurOrEnter={this._onBlurOrEnter}\r\n                    />\r\n                    :\r\n                    <EditableSingleField\r\n                      elementKey=\"value\"\r\n                      editingKey={this.state.editingKey}\r\n                      beingEdited={this.state.editingSomething}\r\n                      content={this.props.nodeModel.content.value}\r\n                      onChange={this._contentOnChange}\r\n                      onBlurOrEnter={this._onBlurOrEnter}\r\n                    />\r\n                  }\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </S.Title>\r\n        <S.Ports>\r\n          <S.PortsContainer>{_.map(this.props.nodeModel.getInPorts(), this.generatePort)}</S.PortsContainer>\r\n          <S.PortsContainer>{_.map(this.props.nodeModel.getOutPorts(), this.generatePort)}</S.PortsContainer>\r\n        </S.Ports>\r\n      </S.Node>\r\n    );\r\n  }\r\n}\r\n","import { MyEditableNodeWidget } from \"./MyEditableNodeWidget\";\r\nimport { MyEditableNodeModel } from \"./MyEditableNodeModel\";\r\nimport { AbstractReactFactory } from '@projectstorm/react-canvas-core'\r\nimport { DiagramEngine } from \"@projectstorm/react-diagrams\";\r\n\r\nexport class MyEditableNodeFactory extends AbstractReactFactory<MyEditableNodeModel, DiagramEngine> {\r\n\tgenerateModel(event: import(\"@projectstorm/react-canvas-core\").GenerateModelEvent): MyEditableNodeModel {\r\n\t\treturn new MyEditableNodeModel('name', 'pink', 'test', ['t'], ['t']);\r\n\t}\r\n\tconstructor() {\r\n\t\tsuper(\"MyEditable\");\r\n\t}\r\n\r\n\tgenerateReactWidget(event: { model: MyEditableNodeModel }): JSX.Element {\r\n\t\treturn <MyEditableNodeWidget nodeModel={event.model} engine={this.engine} />;\r\n\t}\r\n}\r\n","import * as SRD from '@projectstorm/react-diagrams';\r\nimport { EditableLabelFactory } from './custom-label/EditableLabelFactory';\r\nimport { MyEditableNodeFactory } from './editableNode/MyEditableNodeFactory';\r\n\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nexport class Application {\r\n\tprotected activeModel: any;//SRD.DiagramModel\r\n\tprotected diagramEngine: SRD.DiagramEngine;\r\n\r\n\tconstructor() {\r\n\t\tthis.diagramEngine = SRD.default();\r\n\t\tthis.diagramEngine.getLabelFactories().registerFactory(new EditableLabelFactory());\r\n\t\tthis.diagramEngine.getNodeFactories().registerFactory(new MyEditableNodeFactory());\r\n\t\tthis.newModel();\r\n\t}\r\n\r\n\tpublic newModel() {\r\n\t\tthis.activeModel = new SRD.DiagramModel();\r\n\t\tthis.diagramEngine.setModel(this.activeModel);\r\n\t}\r\n\r\n\tpublic getActiveDiagram(): SRD.DiagramModel {\r\n\t\treturn this.activeModel;\r\n\t}\r\n\r\n\tpublic getDiagramEngine(): SRD.DiagramEngine {\r\n\t\treturn this.diagramEngine;\r\n\t}\r\n}\r\n","import BodyWidget from '../components/react-diagrams/BodyWidget';\r\nimport { Application } from '../components/react-diagrams/Application';\r\n\r\nexport default function EditorPage() {\r\n  var app = new Application();\r\n  return <BodyWidget app={app} />\r\n}","export default __webpack_public_path__ + \"static/media/flow.43bedc99.svg\";","export default __webpack_public_path__ + \"static/media/cym_s.cbee123b.svg\";","import flowDiagram from '../assets/flow.svg'\r\nimport cym_s from '../assets/cym_s.svg'\r\nexport default function HomePage() {\r\n    return <div>\r\n        <h2>\r\n            Welcome to MDD4CPS!\r\n        </h2>\r\n        <img src={flowDiagram} alt=\"Architecture Diagram\" style={{ maxHeight: '80vh', maxWidth: '100%' }} />\r\n        <img src={cym_s} alt=\"CYM-S\" style={{ maxHeight: '80vh', maxWidth: '100%' }} />\r\n    </div>\r\n}","export default __webpack_public_path__ + \"static/media/cym_s_extended.79a380b4.svg\";","export default __webpack_public_path__ + \"static/media/cym_d.8652356e.svg\";","import modelsDiagram from '../assets/cym_s_extended.svg'\r\nimport stateDiagram from '../assets/cym_d.svg'\r\nexport default function ModelsPage() {\r\n    return <div>\r\n        <img src={modelsDiagram} alt=\"Architecture Diagram\" style={{ maxHeight: '80vh', maxWidth: '100%' }} />\r\n        <img src={stateDiagram} alt=\"Architecture Diagram\" style={{ maxHeight: '80vh', maxWidth: '90%' }} />\r\n    </div>\r\n}","export default __webpack_public_path__ + \"static/media/transformations.40b625af.png\";","import transformations from '../assets/transformations.png'\r\nexport default function TransformationsPage() {\r\n    return <div>\r\n        <img src={transformations} alt=\"Transformations\" style={{ maxHeight: '80vh', maxWidth: '90%' }} />\r\n    </div>\r\n}","import { useEffect } from \"react\";\r\nimport Prism from \"prismjs\";\r\nimport paletteNodes from \"../paletteNodes\";\r\n\r\nexport default function PalettePage() {\r\n    useEffect(() => {\r\n        Prism.highlightAll();\r\n    }, [])\r\n    return <div>\r\n\r\n        {\r\n            paletteNodes.map((node) => {\r\n                return <div key={node.name} className=\"grid-container\" style={{\r\n                    display: 'grid',\r\n                    gridTemplateColumns: ' 1fr 1fr',\r\n                    gridGap: '20px'\r\n                }}>\r\n                    <pre className=\"grid-child \">\r\n                        <code className=\"language-clike\">{JSON.stringify(node, null, \"\\t\")}</code>\r\n                    </pre>\r\n                    <div className=\"grid-child\">\r\n                        <div style={{ maxWidth: '400px', border: 'solid', fontSize: '.9em', color: 'black', margin: '60px 0px 25px 0', backgroundColor: 'lightgrey' }}>\r\n                            <div style={{ width: '100%', borderBottom: 'solid 3px', fontSize: '1.2em' }}>\r\n                                {node.name}\r\n                            </div>\r\n\r\n                            {node.extras.library &&\r\n                                <div style={{ width: '100%', borderBottom: 'solid 2px' }}>\r\n                                    Library={node.extras.library}\r\n                                </div>\r\n                            }\r\n                            {node.ins && node.ins.length > 0 &&\r\n                                node.ins.map((port: any) => {\r\n                                    return <div key={port}>\r\n                                        <p>{port}</p>\r\n                                    </div>\r\n                                })\r\n                            }\r\n                            {node.outs && node.outs.length > 0 &&\r\n                                node.outs.map((port: any) => {\r\n                                    return <div key={port}>\r\n                                        <p>{port}</p>\r\n                                    </div>\r\n                                })\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            }\r\n            )\r\n        }\r\n\r\n    </div>\r\n}","\r\nexport default function PalettePage() {\r\n    return <>\r\n        <h3>Planned Settings</h3>\r\n        <ul>\r\n            <li>Show/Hide copy button on code panel</li>\r\n            <li>Show/Hide all comments</li>\r\n            <li>Show/Hide all warnings</li>\r\n            <li>Show/Hide diagram overlay</li>\r\n            <li>Show/Hide palette expansion panels</li>\r\n            <li></li>\r\n            <li>Enable code editing</li>\r\n            <li></li>\r\n            <li>Enforce typings</li>\r\n            <li>Enforce lose ends</li>\r\n            <li>Enforce sequencial port usage</li>\r\n            <li>Remove link restrictions</li>\r\n            <li></li>\r\n            <li>Reset all settings on this page</li>\r\n            <li>Reset custom palette</li>\r\n            <li>Erase all localStorage data</li>\r\n            <li></li>\r\n            <li>Contact info</li>\r\n        </ul>\r\n\r\n    </>\r\n}","/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport './App.css';\r\nimport NavigationBar from './components/NavigationBar'\r\nimport { Routes, Route } from \"react-router-dom\";\r\nimport EditorPage from './pages/Editor'\r\nimport HomePage from './pages/Home';\r\nimport ModelsPage from './pages/Models';\r\nimport TransformationsPage from './pages/Transformations';\r\nimport PalettePage from './pages/Palette';\r\nimport SettingsPage from './pages/Settings';\r\nexport default function App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <header className=\"App-header\">\r\n        <Routes >\r\n          <Route path='/mdd4/' element={<HomePage />} />\r\n          <Route path='/mdd4/models' element={<ModelsPage />} />\r\n          <Route path='/mdd4/transformations' element={<TransformationsPage />} />\r\n          <Route path='/mdd4/palette' element={<PalettePage />} />\r\n          <Route path='/mdd4/editor' element={<EditorPage />} />\r\n          <Route path='/mdd4/settings' element={<SettingsPage />} />\r\n        </Routes>\r\n        <NavigationBar />\r\n      </header>\r\n    </div>\r\n  );\r\n}\r\n\r\n","import ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { BrowserRouter } from 'react-router-dom'\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}