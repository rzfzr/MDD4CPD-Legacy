(this.webpackJsonpmdd4iot=this.webpackJsonpmdd4iot||[]).push([[0],{268:function(t,e,n){},269:function(t,e,n){},508:function(t,e,n){"use strict";n.r(e);var r=n(64),a=n.n(r),o=(n(268),n(269),n(114)),i=n(0),c=n(528),l=n(529),s=n(256),d=n.n(s),u=n(259),j=n.n(u),p=n(257),f=n.n(p),h=n(258),b=n.n(h),g=n(530),m=n(260),O=n.n(m),x=n(20),v=Object(x.b)({}),y=n(2);function k(){var t=Object(i.useState)("/"),e=Object(o.a)(t,2),n=e[0],r=e[1],a=v.location.pathname;return n!==a&&r(a),Object(y.jsx)(g.a,{position:"fixed",color:"primary",style:{top:"auto",bottom:0},children:Object(y.jsxs)(c.a,{value:n,onChange:function(t,e){r(e),v.push(e)},showLabels:!0,children:["location.pathname",Object(y.jsx)(l.a,{label:"Home",value:"/",icon:Object(y.jsx)(d.a,{})}),Object(y.jsx)(l.a,{label:"Models",value:"/models",icon:Object(y.jsx)(f.a,{})}),Object(y.jsx)(l.a,{label:"State",value:"/state",icon:Object(y.jsx)(b.a,{})}),Object(y.jsx)(l.a,{label:"Editor",value:"/editor",icon:Object(y.jsx)(j.a,{})}),Object(y.jsx)(l.a,{label:"Palette",value:"/palette",icon:Object(y.jsx)(O.a,{})})]})})}var D=n(14),w=n(261),E=n.n(w);n(278);function M(t){if(0===Object.keys(t).length)return"Empty Diagram";console.log("generating from ",t);var e=[];Object.entries(t.layers[0].models).forEach((function(t){e.push(t[1])}));var n=[];if(Object.entries(t.layers[1].models).forEach((function(t){n.push(t[1])})),0===n.length)return"No nodes";var r="",a=n.find((function(t){return"Arduino"===t.name})),o=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach((function(t){r+=t})),r+="\n"},i=function(t){return e.find((function(e){return e.id===t}))},c=function(t,e){return n.find((function(e){return e.id===t})).ports.find((function(t){return t.id===e}))};return a.ports.forEach((function(t){o(t.label,"{\n"),t.links.forEach((function(t){var e,r=i(t),a=c(r.target,r.targetPort),l=(e=a.parentNode,n.find((function(t){return t.id===e})));if("Condition"===l.name){var s=function(t){try{var e=t.ports.find((function(t){return"value"===t.name})).links[0],n=i(e);return c(n.source,n.sourcePort)}catch(r){return console.log(r),"Lacking Value"}}(l),d=function(t){try{var e=t.ports.find((function(t){return"True"===t.name})).links[0],n=i(e);return c(n.target,n.targetPort)}catch(r){return console.log(r),"Lacking Outcome"}}(l);o("if (",s.name,a.name.replace("if",""),") {"),o(d.label),o("}\n")}else console.log(l),o(l.ports[0].name)})),o("}\n")})),function(t){var e=[],n=0;return t.split("\n").forEach((function(t){t.includes("}")&&n--,e.push("    ".repeat(n)+t),t.includes("{")&&n++})),e.join("\n")}(r)}function N(){var t=Object(i.useState)("Hello World"),e=Object(o.a)(t,2),n=e[0],r=e[1];return Object(i.useEffect)((function(){E.a.highlightAll(),setInterval((function(){try{var t=localStorage.getItem("model");t===localStorage.getItem("oldModel")||(localStorage.setItem("oldModel",t||"{}"),r(M(JSON.parse(t||"{}"))))}catch(e){console.log(e)}}),1500)}),[]),Object(y.jsx)("div",{className:"Code",children:Object(y.jsx)("pre",{className:"line-numbers",children:Object(y.jsx)("code",{className:"language-clike",children:n})})})}var C,S,A=n(30),P=n(37),T=n(38),I=n(50),L=n(49),H=n(13);(S||(S={})).Tray=H.default.div(C||(C=Object(A.a)(["\n\t\tmin-width: 200px;\n\t\tbackground: rgb(20, 20, 20);\n\t\tflex-grow: 0;\n\t\tflex-shrink: 0;\n\t"])));var J,W,B=function(t){Object(I.a)(n,t);var e=Object(L.a)(n);function n(){return Object(P.a)(this,n),e.apply(this,arguments)}return Object(T.a)(n,[{key:"render",value:function(){return Object(y.jsx)(S.Tray,{children:this.props.children})}}]),n}(i.Component);!function(t){t.Tray=H.default.div(J||(J=Object(A.a)(["\n\t\tcolor: white;\n\t\tfont-family: Helvetica, Arial;\n\t\tpadding: 5px;\n\t\tmargin: 0px 10px;\n\t\tborder: solid 1px ",";\n\t\tborder-radius: 5px;\n\t\tmargin-bottom: 2px;\n\t\tcursor: pointer;\n\t"])),(function(t){return t.color}))}(W||(W={}));var V,z,F,G=function(t){Object(I.a)(n,t);var e=Object(L.a)(n);function n(){return Object(P.a)(this,n),e.apply(this,arguments)}return Object(T.a)(n,[{key:"render",value:function(){var t=this;return Object(y.jsx)(W.Tray,{color:this.props.color||"red",draggable:!0,onDragStart:function(e){e.dataTransfer.setData("storm-diagram-node",JSON.stringify(t.props.model))},className:"tray-item",children:this.props.name})}}]),n}(i.Component),R=n(51),U=n.n(R),q=n(10),K=n(57);!function(t){t.Container=H.default.div(V||(V=Object(A.a)(["\n\t\theight: 100%;\n\t\tbackground-color: ",";\n\t\tbackground-size: 50px 50px;\n\t\tdisplay: flex;\n\n\t\t> * {\n\t\t\theight: 100%;\n\t\t\tmin-height: 100%;\n\t\t\twidth: 100%;\n\t\t}\n\n\t\tbackground-image: linear-gradient(\n\t\t\t\t0deg,\n\t\t\t\ttransparent 24%,\n\t\t\t\t"," 25%,\n\t\t\t\t"," 26%,\n\t\t\t\ttransparent 27%,\n\t\t\t\ttransparent 74%,\n\t\t\t\t"," 75%,\n\t\t\t\t"," 76%,\n\t\t\t\ttransparent 77%,\n\t\t\t\ttransparent\n\t\t\t),\n\t\t\tlinear-gradient(\n\t\t\t\t90deg,\n\t\t\t\ttransparent 24%,\n\t\t\t\t"," 25%,\n\t\t\t\t"," 26%,\n\t\t\t\ttransparent 27%,\n\t\t\t\ttransparent 74%,\n\t\t\t\t"," 75%,\n\t\t\t\t"," 76%,\n\t\t\t\ttransparent 77%,\n\t\t\t\ttransparent\n\t\t\t);\n\t"])),(function(t){return t.background}),(function(t){return t.color}),(function(t){return t.color}),(function(t){return t.color}),(function(t){return t.color}),(function(t){return t.color}),(function(t){return t.color}),(function(t){return t.color}),(function(t){return t.color})),t.Expand=Object(K.css)(z||(z=Object(A.a)(["\n\t\thtml,\n\t\tbody,\n\t\t#root {\n\t\t\theight: 100%;\n\t\t}\n\t"])))}(F||(F={}));var Q,X,Y,Z,$,_=function(t){Object(I.a)(n,t);var e=Object(L.a)(n);function n(){return Object(P.a)(this,n),e.apply(this,arguments)}return Object(T.a)(n,[{key:"render",value:function(){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(K.Global,{styles:F.Expand}),Object(y.jsx)(F.Container,{background:this.props.background||"rgb(60, 60, 60)",color:this.props.color||"rgba(255,255,255, 0.05)",children:this.props.children})]})}}]),n}(i.Component);!function(t){t.Body=H.default.div(Q||(Q=Object(A.a)(["\n\t\tflex-grow: 1;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tmin-height: 100%;\n\t"]))),t.Header=H.default.div(X||(X=Object(A.a)(["\n\t\tdisplay: flex;\n\t\tbackground: rgb(30, 30, 30);\n\t\tflex-grow: 0;\n\t\tflex-shrink: 0;\n\t\tcolor: white;\n\t\tfont-family: Helvetica, Arial, sans-serif;\n\t\tpadding: 10px;\n\t\talign-items: center;\n\t"]))),t.Content=H.default.div(Y||(Y=Object(A.a)(["\n\t\tdisplay: flex;\n\t\tflex-grow: 1;\n\t"]))),t.Layer=H.default.div(Z||(Z=Object(A.a)(["\n\t\tposition: relative;\n\t\tflex-grow: 1;\n\t"])))}($||($={}));var tt=function(t){Object(I.a)(n,t);var e=Object(L.a)(n);function n(){return Object(P.a)(this,n),e.apply(this,arguments)}return Object(T.a)(n,[{key:"componentDidMount",value:function(){var t=this;setInterval((function(){var e=JSON.stringify(t.props.app.getDiagramEngine().getModel().serialize());e!==localStorage.getItem("model")&&localStorage.setItem("model",e)}),1500)}},{key:"render",value:function(){var t=this;return Object(y.jsx)($.Body,{children:Object(y.jsxs)($.Content,{style:{width:"100%",height:"100%"},children:[Object(y.jsxs)(B,{children:[Object(y.jsx)(G,{model:{type:"Arduino"},name:"Arduino",color:"green"}),Object(y.jsx)(G,{model:{type:"Condition"},name:"Condition",color:"grey"}),Object(y.jsx)(G,{model:{type:"LED"},name:"LED",color:"red"}),Object(y.jsx)(G,{model:{type:"TemperatureSensor"},name:"TemperatureSensor",color:"blue"})]}),Object(y.jsx)($.Layer,{onDrop:function(e){var n=JSON.parse(e.dataTransfer.getData("storm-diagram-node")),r=null;"Arduino"===n.type?((r=new R.DefaultNodeModel("Arduino","green")).addOutPort("setup()"),r.addOutPort("loop()")):"Condition"===n.type?((r=new R.DefaultNodeModel("Condition","grey")).addInPort("if <= 20"),r.addInPort("value"),r.addOutPort("True")):"LED"===n.type?(r=new R.DefaultNodeModel("Led","red")).addInPort("setValue()"):"TemperatureSensor"===n.type&&(r=new R.DefaultNodeModel("TemperatureSensor","Blue")).addOutPort("getValue()");var a=t.props.app.getDiagramEngine().getRelativeMousePoint(e);r.setPosition(a),t.props.app.getDiagramEngine().getModel().addNode(r),t.forceUpdate()},onDragOver:function(t){t.preventDefault()},children:Object(y.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(y.jsx)(_,{children:Object(y.jsx)(q.CanvasWidget,{engine:this.props.app.getDiagramEngine()})})})})]})})}}]),n}(i.Component),et=function(){function t(){Object(P.a)(this,t),this.activeModel=void 0,this.diagramEngine=void 0,this.diagramEngine=U.a(),this.newModel()}return Object(T.a)(t,[{key:"newModel",value:function(){this.activeModel=new R.DiagramModel,this.diagramEngine.setModel(this.activeModel)}},{key:"getActiveDiagram",value:function(){return this.activeModel}},{key:"getDiagramEngine",value:function(){return this.diagramEngine}}]),t}(),nt=function(){var t=new et;return Object(y.jsx)(tt,{app:t})};function rt(){return Object(y.jsxs)("div",{className:"float-container",children:[Object(y.jsx)("div",{className:"float-child-left",children:Object(y.jsx)(nt,{})}),Object(y.jsx)("div",{className:"float-child-right",children:Object(y.jsx)(N,{})})]})}function at(){return Object(y.jsx)("div",{children:Object(y.jsx)("h2",{children:"Welcome to MDD4IoT!"})})}var ot=n.p+"static/media/models.435be54c.png";function it(){return Object(y.jsx)("div",{children:Object(y.jsx)("img",{src:ot,alt:"Architecture Diagram",style:{maxHeight:"80vh",maxWidth:"100%"}})})}var ct=n.p+"static/media/state.da9f951e.png";function lt(){return Object(y.jsx)("div",{children:Object(y.jsx)("img",{src:ct,alt:"Architecture Diagram",style:{maxHeight:"80vh",maxWidth:"90%"}})})}function st(){return Object(y.jsxs)("div",{children:[Object(y.jsx)("h3",{children:"Caution!"}),Object(y.jsx)("div",{style:{width:"80vh",height:"60vh"}})]})}function dt(){return Object(y.jsx)("div",{className:"App",children:Object(y.jsxs)("header",{className:"App-header",children:[Object(y.jsxs)(D.b,{history:v,children:[Object(y.jsx)(D.a,{path:"/",exact:!0,component:at}),Object(y.jsx)(D.a,{path:"/models",exact:!0,component:it}),Object(y.jsx)(D.a,{path:"/state",exact:!0,component:lt}),Object(y.jsx)(D.a,{path:"/palette",exact:!0,component:st}),Object(y.jsx)(D.a,{path:"/editor",component:rt})]}),Object(y.jsx)(k,{})]})})}var ut=n(151);a.a.render(Object(y.jsx)(ut.a,{children:Object(y.jsx)(dt,{})}),document.getElementById("root"))}},[[508,1,2]]]);
//# sourceMappingURL=main.d98b8210.chunk.js.map