(this.webpackJsonpmdd4iot=this.webpackJsonpmdd4iot||[]).push([[0],{268:function(t,e,n){},269:function(t,e,n){},508:function(t,e,n){"use strict";n.r(e);var r=n(63),a=n.n(r),i=(n(268),n(269),n(114)),o=n(0),c=n(528),s=n(529),l=n(256),u=n.n(l),d=n(259),j=n.n(d),p=n(257),h=n.n(p),f=n(258),b=n.n(f),g=n(530),m=n(260),O=n.n(m),v=n(20),x=Object(v.b)({}),y=n(3);function k(){var t=Object(o.useState)("/"),e=Object(i.a)(t,2),n=e[0],r=e[1],a=x.location.pathname;return n!==a&&r(a),Object(y.jsx)(g.a,{position:"fixed",color:"primary",style:{top:"auto",bottom:0},children:Object(y.jsxs)(c.a,{value:n,onChange:function(t,e){r(e),x.push(e)},showLabels:!0,children:["location.pathname",Object(y.jsx)(s.a,{label:"Home",value:"/",icon:Object(y.jsx)(u.a,{})}),Object(y.jsx)(s.a,{label:"Models",value:"/models",icon:Object(y.jsx)(h.a,{})}),Object(y.jsx)(s.a,{label:"State",value:"/state",icon:Object(y.jsx)(b.a,{})}),Object(y.jsx)(s.a,{label:"Editor",value:"/editor",icon:Object(y.jsx)(j.a,{})}),Object(y.jsx)(s.a,{label:"Palette",value:"/palette",icon:Object(y.jsx)(O.a,{})})]})})}var w=n(14),E=n(261),S=n.n(E);n(278);function D(t){if(0===Object.keys(t).length)return"Empty Diagram";console.log("generating from ",t);var e=[];Object.entries(t.layers[0].models).forEach((function(t){e.push(t[1])}));var n=[];if(Object.entries(t.layers[1].models).forEach((function(t){n.push(t[1])})),0===n.length)return"No nodes";var r="",a=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach((function(t){r+=t})),r+="\n"},i=function(t){return e.find((function(e){return e.id===t}))},o=function(t,e){return n.find((function(e){return e.id===t})).ports.find((function(t){return t.id===e}))},c=n.find((function(t){return t.name.includes("Arduino")}));if(!c)return"No Arduino";return c.ports.forEach((function(t){a(t.label,"{\n"),t.links.forEach((function(t){var e,r=i(t),c=o(r.target,r.targetPort),s=(e=c.parentNode,n.find((function(t){return t.id===e})));if("Condition"===s.name){var l=function(t){try{var e=t.ports.find((function(t){return"value"===t.name})).links[0],n=i(e);return o(n.source,n.sourcePort)}catch(r){return{name:"/* Lacking Value */"}}}(s),u=function(t){try{var e=t.ports.find((function(t){return"True"===t.name})).links[0],n=i(e);return o(n.target,n.targetPort)}catch(r){return{label:"//Lacking Outcome"}}}(s);a("if (",l.name,c.name.replace("if",""),") {"),a(u.label),a("}\n")}else console.log(s),a(s.ports[0].name)})),a("}\n")})),function(t){var e=[],n=0;return t.split("\n").forEach((function(t){t.includes("}")&&n--,e.push("    ".repeat(n)+t),t.includes("{")&&n++})),e.join("\n")}(r)}function M(){var t=Object(o.useState)("Hello World"),e=Object(i.a)(t,2),n=e[0],r=e[1];return Object(o.useEffect)((function(){S.a.highlightAll(),setInterval((function(){try{var t=localStorage.getItem("model");t===localStorage.getItem("oldModel")||(localStorage.setItem("oldModel",t||"{}"),r(D(JSON.parse(t||"{}"))))}catch(e){console.log(e)}}),1500)}),[]),Object(y.jsx)("div",{className:"Code",children:Object(y.jsx)("pre",{className:"line-numbers",children:Object(y.jsx)("code",{className:"language-clike",children:n})})})}var N,C,A=n(30),I=n(37),P=n(38),T=n(50),H=n(49),J=n(13);(C||(C={})).Tray=J.default.div(N||(N=Object(A.a)(["\n\t\tmin-width: 200px;\n\t\tbackground: rgb(20, 20, 20);\n\t\tflex-grow: 0;\n\t\tflex-shrink: 0;\n\t"])));var L,W,B=function(t){Object(T.a)(n,t);var e=Object(H.a)(n);function n(){return Object(I.a)(this,n),e.apply(this,arguments)}return Object(P.a)(n,[{key:"render",value:function(){return Object(y.jsx)(C.Tray,{children:this.props.children})}}]),n}(o.Component);!function(t){t.Tray=J.default.div(L||(L=Object(A.a)(["\n\t\tcolor: white;\n\t\tfont-family: Helvetica, Arial;\n\t\tpadding: 5px;\n\t\tmargin: 0px 10px;\n\t\tborder: solid 1px ",";\n\t\tborder-radius: 5px;\n\t\tmargin-bottom: 2px;\n\t\tcursor: pointer;\n\t"])),(function(t){return t.color}))}(W||(W={}));var V,_,z,F=function(t){Object(T.a)(n,t);var e=Object(H.a)(n);function n(){return Object(I.a)(this,n),e.apply(this,arguments)}return Object(P.a)(n,[{key:"render",value:function(){var t=this;return Object(y.jsx)(W.Tray,{color:this.props.color||"red",draggable:!0,onDragStart:function(e){e.dataTransfer.setData("storm-diagram-node",JSON.stringify(t.props.model))},className:"tray-item",children:this.props.name})}}]),n}(o.Component),U=n(84),G=n.n(U),R=n(10),q=n(56);!function(t){t.Container=J.default.div(V||(V=Object(A.a)(["\n\t\theight: 100%;\n\t\tbackground-color: ",";\n\t\tbackground-size: 50px 50px;\n\t\tdisplay: flex;\n\n\t\t> * {\n\t\t\theight: 100%;\n\t\t\tmin-height: 100%;\n\t\t\twidth: 100%;\n\t\t}\n\n\t\tbackground-image: linear-gradient(\n\t\t\t\t0deg,\n\t\t\t\ttransparent 24%,\n\t\t\t\t"," 25%,\n\t\t\t\t"," 26%,\n\t\t\t\ttransparent 27%,\n\t\t\t\ttransparent 74%,\n\t\t\t\t"," 75%,\n\t\t\t\t"," 76%,\n\t\t\t\ttransparent 77%,\n\t\t\t\ttransparent\n\t\t\t),\n\t\t\tlinear-gradient(\n\t\t\t\t90deg,\n\t\t\t\ttransparent 24%,\n\t\t\t\t"," 25%,\n\t\t\t\t"," 26%,\n\t\t\t\ttransparent 27%,\n\t\t\t\ttransparent 74%,\n\t\t\t\t"," 75%,\n\t\t\t\t"," 76%,\n\t\t\t\ttransparent 77%,\n\t\t\t\ttransparent\n\t\t\t);\n\t"])),(function(t){return t.background}),(function(t){return t.color}),(function(t){return t.color}),(function(t){return t.color}),(function(t){return t.color}),(function(t){return t.color}),(function(t){return t.color}),(function(t){return t.color}),(function(t){return t.color})),t.Expand=Object(q.css)(_||(_=Object(A.a)(["\n\t\thtml,\n\t\tbody,\n\t\t#root {\n\t\t\theight: 100%;\n\t\t}\n\t"])))}(z||(z={}));var K,Q,X,Y,Z,$=function(t){Object(T.a)(n,t);var e=Object(H.a)(n);function n(){return Object(I.a)(this,n),e.apply(this,arguments)}return Object(P.a)(n,[{key:"render",value:function(){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(q.Global,{styles:z.Expand}),Object(y.jsx)(z.Container,{background:this.props.background||"rgb(60, 60, 60)",color:this.props.color||"rgba(255,255,255, 0.05)",children:this.props.children})]})}}]),n}(o.Component);!function(t){t.Body=J.default.div(K||(K=Object(A.a)(["\n\t\tflex-grow: 1;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tmin-height: 100%;\n\t"]))),t.Header=J.default.div(Q||(Q=Object(A.a)(["\n\t\tdisplay: flex;\n\t\tbackground: rgb(30, 30, 30);\n\t\tflex-grow: 0;\n\t\tflex-shrink: 0;\n\t\tcolor: white;\n\t\tfont-family: Helvetica, Arial, sans-serif;\n\t\tpadding: 10px;\n\t\talign-items: center;\n\t"]))),t.Content=J.default.div(X||(X=Object(A.a)(["\n\t\tdisplay: flex;\n\t\tflex-grow: 1;\n\t"]))),t.Layer=J.default.div(Y||(Y=Object(A.a)(["\n\t\tposition: relative;\n\t\tflex-grow: 1;\n\t"])))}(Z||(Z={}));var tt=[{name:"Arduino Uno",color:"green",analogPorts:6,digitalPorts:14,ins:[],outs:["setup()","loop()"]},{name:"Condition",color:"grey",outs:["True","False"],ins:["if <= 20","value"]},{name:"Led",color:"red",ins:["setValue()"],outs:[]},{name:"TemperatureSensor",color:"blue",ins:[],outs:["getValue()"]},{name:"Button",color:"blue",ins:[],outs:["getValue()"]},{name:"Servo",color:"orange",ins:["void detach()","void write(int)","void writeMicroseconds(int)"],outs:["uint8_t attach(int)","uint8_t attach(int, int, int)","int read()","int readMicroseconds()","bool attached()"]},{name:"Stepper",color:"orange",ins:["Stepper(int, int, int)","Stepper(int, int, int, int, int)","Stepper(int, int, int, int, int, int)","-","void setSpeed(long whatSpeed)","void step(int number_of_steps)"],outs:["int version(void)"]}],et=function(t){Object(T.a)(n,t);var e=Object(H.a)(n);function n(){return Object(I.a)(this,n),e.apply(this,arguments)}return Object(P.a)(n,[{key:"componentDidMount",value:function(){var t=this;setInterval((function(){var e=JSON.stringify(t.props.app.getDiagramEngine().getModel().serialize());e!==localStorage.getItem("model")&&localStorage.setItem("model",e)}),1500)}},{key:"render",value:function(){var t=this;return Object(y.jsx)(Z.Body,{children:Object(y.jsxs)(Z.Content,{style:{width:"100%",height:"100%"},children:[Object(y.jsx)(B,{children:tt.map((function(t){return Object(y.jsx)(F,{model:t,name:t.name,color:t.color})}))}),Object(y.jsx)(Z.Layer,{onDrop:function(e){var n=JSON.parse(e.dataTransfer.getData("storm-diagram-node")),r=null;n&&(r=new U.DefaultNodeModel(n.name,n.color),n.outs.forEach((function(t){r.addOutPort(t)})),n.ins.forEach((function(t){r.addInPort(t)})));var a=t.props.app.getDiagramEngine().getRelativeMousePoint(e);r.setPosition(a),t.props.app.getDiagramEngine().getModel().addNode(r),t.forceUpdate()},onDragOver:function(t){t.preventDefault()},children:Object(y.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(y.jsx)($,{children:Object(y.jsx)(R.CanvasWidget,{engine:this.props.app.getDiagramEngine()})})})})]})})}}]),n}(o.Component),nt=function(){function t(){Object(I.a)(this,t),this.activeModel=void 0,this.diagramEngine=void 0,this.diagramEngine=G.a(),this.newModel()}return Object(P.a)(t,[{key:"newModel",value:function(){this.activeModel=new U.DiagramModel,this.diagramEngine.setModel(this.activeModel)}},{key:"getActiveDiagram",value:function(){return this.activeModel}},{key:"getDiagramEngine",value:function(){return this.diagramEngine}}]),t}(),rt=function(){var t=new nt;return Object(y.jsx)(et,{app:t})};function at(){return Object(y.jsxs)("div",{className:"float-container",children:[Object(y.jsx)("div",{className:"float-child-left",children:Object(y.jsx)(rt,{})}),Object(y.jsx)("div",{className:"float-child-right",children:Object(y.jsx)(M,{})})]})}function it(){return Object(y.jsx)("div",{children:Object(y.jsx)("h2",{children:"Welcome to MDD4IoT!"})})}var ot=n.p+"static/media/models.d4b41b6f.png";function ct(){return Object(y.jsx)("div",{children:Object(y.jsx)("img",{src:ot,alt:"Architecture Diagram",style:{maxHeight:"80vh",maxWidth:"100%"}})})}var st=n.p+"static/media/state.da9f951e.png";function lt(){return Object(y.jsx)("div",{children:Object(y.jsx)("img",{src:st,alt:"Architecture Diagram",style:{maxHeight:"80vh",maxWidth:"90%"}})})}function ut(){return Object(y.jsxs)("div",{children:[Object(y.jsx)("h3",{children:"Caution!"}),Object(y.jsx)("div",{style:{width:"80vh",height:"60vh"}})]})}function dt(){return Object(y.jsx)("div",{className:"App",children:Object(y.jsxs)("header",{className:"App-header",children:[Object(y.jsxs)(w.b,{history:x,children:[Object(y.jsx)(w.a,{path:"/",exact:!0,component:it}),Object(y.jsx)(w.a,{path:"/models",exact:!0,component:ct}),Object(y.jsx)(w.a,{path:"/state",exact:!0,component:lt}),Object(y.jsx)(w.a,{path:"/palette",exact:!0,component:ut}),Object(y.jsx)(w.a,{path:"/editor",component:at})]}),Object(y.jsx)(k,{})]})})}var jt=n(151);a.a.render(Object(y.jsx)(jt.a,{children:Object(y.jsx)(dt,{})}),document.getElementById("root"))}},[[508,1,2]]]);
//# sourceMappingURL=main.52595277.chunk.js.map