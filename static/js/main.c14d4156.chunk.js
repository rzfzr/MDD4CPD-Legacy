(this.webpackJsonpmdd4iot=this.webpackJsonpmdd4iot||[]).push([[0],{262:function(e,t,n){},263:function(e,t,n){},273:function(e,t,n){},503:function(e,t,n){"use strict";n.r(t);var a=n(58),r=n.n(a),c=(n(262),n(60)),o=(n(263),n(0)),i=n(523),s=n(524),l=n(251),d=n.n(l),u=n(254),j=n.n(u),f=n(252),b=n.n(f),h=n(253),O=n.n(h),m=n(525),v=n(19),x=Object(v.b)({}),p=n(6);function g(){var e=Object(o.useState)("/"),t=Object(c.a)(e,2),n=t[0],a=t[1],r=x.location.pathname;return n!==r&&a(r),Object(p.jsx)(m.a,{position:"fixed",color:"primary",style:{top:"auto",bottom:0},children:Object(p.jsxs)(i.a,{value:n,onChange:function(e,t){a(t),x.push(t)},showLabels:!0,children:["location.pathname",Object(p.jsx)(s.a,{label:"Home",value:"/",icon:Object(p.jsx)(d.a,{})}),Object(p.jsx)(s.a,{label:"Models",value:"/models",icon:Object(p.jsx)(b.a,{})}),Object(p.jsx)(s.a,{label:"State",value:"/state",icon:Object(p.jsx)(O.a,{})}),Object(p.jsx)(s.a,{label:"Editor",value:"/editor",icon:Object(p.jsx)(j.a,{})})]})})}var N=n(13),P=Object(o.createContext)({model:{},setModel:function(e){}}),y=n(255),M=n.n(y);n(272),n(273);function w(e){var t="",n=[];Object.entries(e.layers[0].models).forEach((function(e){n.push(e[1])}));var a=[];Object.entries(e.layers[1].models).forEach((function(e){a.push(e[1])}));var r=a.find((function(e){return"Arduino"===e.name})),c=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];n.forEach((function(e){t+=e})),t+="\n"},o=function(e){return n.find((function(t){return t.id===e}))},i=function(e,t){return a.find((function(t){return t.id===e})).ports.find((function(e){return e.id===t}))};return r.ports.forEach((function(e){c(e.label,"{\n"),e.links.forEach((function(e){var t,n=o(e),r=i(n.target,n.targetPort),s=(t=r.parentNode,a.find((function(e){return e.id===t})));if("Condition"===s.name){var l=function(e){var t=e.ports.find((function(e){return"value"===e.name})).links[0],n=o(t);return i(n.source,n.sourcePort)}(s),d=function(e){var t=e.ports.find((function(e){return"True"===e.name})).links[0],n=o(t);return i(n.target,n.targetPort)}(s);c("if (",l.name,r.name.replace("if",""),") {"),c(d.label),c("}\n")}})),c("}\n")})),function(e){var t=[],n=0;return e.split("\n").forEach((function(e){e.includes("}")&&n--,t.push("    ".repeat(n)+e),e.includes("{")&&n++})),t.join("\n")}(t)}function D(){var e=Object(o.useState)("Hello World"),t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(o.useEffect)((function(){M.a.highlightAll(),setInterval((function(){try{a(w(JSON.parse(localStorage.getItem("model")||"{}")))}catch(e){console.log(e)}}),5e3)}),[]),Object(p.jsx)("div",{className:"Code",children:Object(p.jsx)("pre",{className:"line-numbers",children:Object(p.jsx)("code",{className:"language-clike",children:n})})})}var E=n(52),k=n.n(E),A=n(10);function I(){var e=k()(),t=function(){var e=new E.DiagramModel,t=new E.DefaultNodeModel("Arduino","green"),n=t.addOutPort("setup()");t.addOutPort("loop()"),t.setPosition(50,70);var a=new E.DefaultNodeModel("Condition","grey"),r=a.addInPort("if <= 20"),c=a.addInPort("value"),o=a.addOutPort("True");a.addOutPort("False"),a.setPosition(230,100);var i=new E.DefaultNodeModel("Led","red"),s=i.addInPort("setValue()");i.setPosition(400,70);var l=new E.DefaultNodeModel("TemperatureSensor","Blue"),d=l.addOutPort("getValue()");return l.setPosition(30,170),e.addAll(t,a,n.link(r),o.link(s),d.link(c),i,l),e}();return e.setModel(t),Object(o.useEffect)((function(){console.log("Rendering Diagram"),setInterval((function(){localStorage.setItem("model",JSON.stringify(t.serialize()))}),5e3)}),[]),Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(p.jsx)(A.CanvasWidget,{className:"canvas",engine:e})})})}function S(){return Object(p.jsxs)("div",{className:"float-container",children:[Object(p.jsx)("div",{className:"float-child-left",children:Object(p.jsx)(I,{})}),Object(p.jsx)("div",{className:"float-child-right",children:Object(p.jsx)(D,{})})]})}function C(){return Object(p.jsx)("div",{children:Object(p.jsx)("h2",{children:"Welcome to MDD4IoT!"})})}var W=n.p+"static/media/models.435be54c.png";function H(){return Object(p.jsx)("div",{children:Object(p.jsx)("img",{src:W,alt:"Architecture Diagram",style:{maxHeight:"80vh",maxWidth:"100%"}})})}var J=n.p+"static/media/state.da9f951e.png";function T(){return Object(p.jsx)("div",{children:Object(p.jsx)("img",{src:J,alt:"Architecture Diagram",style:{maxHeight:"80vh",maxWidth:"90%"}})})}function B(){var e=Object(o.useState)({}),t=Object(c.a)(e,2),n=t[0],a=t[1],r=Object(o.useMemo)((function(){return{model:n,setModel:a}}),[n]);return Object(p.jsx)("div",{className:"App",children:Object(p.jsxs)("header",{className:"App-header",children:[Object(p.jsxs)(N.b,{history:x,children:[Object(p.jsx)(N.a,{path:"/",exact:!0,component:C}),Object(p.jsx)(N.a,{path:"/models",exact:!0,component:H}),Object(p.jsx)(N.a,{path:"/state",exact:!0,component:T}),Object(p.jsx)(P.Provider,{value:r,children:Object(p.jsx)(N.a,{path:"/editor",component:S})})]}),Object(p.jsx)(g,{})]})})}var F=n(146);r.a.render(Object(p.jsx)(F.a,{children:Object(p.jsx)(B,{})}),document.getElementById("root"))}},[[503,1,2]]]);
//# sourceMappingURL=main.c14d4156.chunk.js.map