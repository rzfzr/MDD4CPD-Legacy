{"version":3,"sources":["components/NavigationBar.tsx","components/react-diagrams/TrayWidget.tsx","components/react-diagrams/TrayItemWidget.tsx","components/react-diagrams/myNode/MyLinkModel.ts","components/react-diagrams/myNode/MyPortModel.ts","components/react-diagrams/myNode/MyNodeModel.ts","components/react-diagrams/helpers/DemoCanvasWidget.tsx","components/react-diagrams/custom-node/custom_nodes/editableNode/EditablePortModel.ts","components/react-diagrams/custom-node/custom_nodes/editableNode/EditableNodeModel.ts","components/react-diagrams/editableNode/MyEditableNodeModel.ts","paletteNodes.js","components/PrismEdit.tsx","components/Code.tsx","components/react-diagrams/BodyWidget.tsx","components/react-diagrams/custom-label/EditableLabelModel.ts","components/react-diagrams/custom-label/EditableLabelWidget.tsx","components/react-diagrams/custom-label/EditableLabelFactory.tsx","components/react-diagrams/custom-node/custom_components/EditableSingleField.tsx","components/react-diagrams/custom-node/custom_nodes/editableNode/EditableNodeWidget.tsx","components/react-diagrams/custom-node/custom_nodes/editableNode/EditableNodeFactory.tsx","components/react-diagrams/diamond/DiamondNodeWidget.tsx","components/react-diagrams/diamond/DiamondPortModel.ts","components/react-diagrams/diamond/DiamondNodeModel.ts","components/react-diagrams/diamond/DiamondNodeFactory.tsx","components/react-diagrams/diamond/SimplePortFactory.ts","components/react-diagrams/custom-node/custom_components/SelectableField.tsx","components/react-diagrams/editableNode/MyEditableNodeWidget.tsx","components/react-diagrams/editableNode/MyEditableNodeFactory.tsx","components/react-diagrams/Application.ts","pages/Editor.tsx","assets/flow.svg","assets/cym_s.svg","pages/Home.tsx","assets/cym_s_extended.svg","pages/Models.tsx","assets/cym_d.svg","pages/State.tsx","pages/Palette.tsx","App.tsx","index.tsx"],"names":["SimpleBottomNavigation","pathname","window","location","useState","value","setValue","AppBar","position","color","style","top","bottom","BottomNavigation","onChange","event","newValue","showLabels","BottomNavigationAction","component","Link","label","to","icon","S","styled","div","TrayWidget","Tray","this","props","children","React","p","TrayItemWidget","node","draggable","onDragStart","dataTransfer","setData","JSON","stringify","className","name","fontSize","id","type","effect","place","width","height","backgroundColor","border","borderBottom","extras","library","ins","length","map","port","outs","MyLinkModel","options","selectedColor","curvyness","getOptions","alignment","PortModelAlignment","RIGHT","LEFT","TOP","points","curve","BezierCurve","setSource","getFirstPoint","getPosition","setTarget","getLastPoint","setSourceControl","clone","setTargetControl","sourcePort","getSourceControl","translate","calculateControlOffset","getSourcePort","targetPort","getTargetControl","getTargetPort","getSVGCurve","data","fireEvent","LinkModel","MyPortModel","in","PortModel","MyNodeModel","portsIn","portsOut","lookupTable","splice","indexOf","push","after","addPort","_","portsInOrder","getPortFromID","portsOutOrder","getID","NodeModel","background","css","DemoCanvasWidget","styles","Expand","Container","EditablePortModel","pos","EditableNodeModel","content","merge","MyEditableNodeModel","selectableOptions","console","log","forEach","method","addInPort","addOutPort","Array","from","keys","x","toString","analogPorts","digitalPorts","diagram","Edit","editorRef","useRef","code","setCode","onEditableChange","useCallback","slice","useEditable","disabled","indentation","defaultProps","language","tokens","getTokenProps","getLineProps","ref","line","i","Fragment","filter","token","empty","key","Code","model","Object","links","entries","layers","models","nodes","logics","components","controllers","libraries","usedDigital","usedAnalog","n","instance","toLowerCase","c","includes","controller","add","message","m","addOnTop","getLink","linkID","find","l","getPort","nodeID","portID","ports","getNode","getCoditionalValue","conditionNode","portName","link","source","parent","getParent","error","getOutcome","ifThis","target","childNode","parentNode","removeType","String","split","callWithParameters","contents","toPort","toNode","shift","processLink","fromPort","fromNode","xValue","yValue","outcome2","toNode2","outcome3","toNode3","lib","comp","logic","callPort","original","level","repeat","join","indentCode","generateCode","parse","useEffect","Prism","highlightAll","PrismEdit","lastType","BodyWidget","setModel","rerender","setRerender","rawModel","app","getDiagramEngine","getModel","serialize","str","Body","Content","paletteNodes","margin","Layer","onDrop","getData","getActiveDiagram","deserializeModel","setPosition","getRelativeMousePoint","addNode","onDragOver","preventDefault","onClick","engine","EditableLabelModel","LabelModel","EditableLabelWidget","setStr","Label","newVal","action","EditableLabelFactory","AbstractReactFactory","Editor","onBlurOrEnter","autoFocus","inputStyle","padding","borderStyle","borderWidth","borderColor","onBlur","onKeyDown","keyCode","EditableSingleField","state","beingEdited","editingKey","elementKey","fontStyle","isAbstract","EditableNodeWidget","divElement","_editableObjectDoubleClick","editingSomething","setState","_contentOnChange","evt","nodeModel","currentTarget","_onBlurOrEnter","bind","clientHeight","clientWidth","onDoubleClick","zIndex","left","EditableNodeFactory","DiamondNodeWidget","size","dangerouslySetInnerHTML","__html","isSelected","Port","BOTTOM","DiamondPortModel","DefaultLinkModel","DiamondNodeModel","arg0","Error","DiamondNodeFactory","SimplePortFactory","cb","initialConfig","AbstractModelFactory","y","SelectableField","selected","MyEditableNodeWidget","generatePort","variableType","Node","Title","TitleName","Ports","PortsContainer","getInPorts","getOutPorts","MyEditableNodeFactory","Application","activeModel","diagramEngine","SRD","getPortFactories","registerFactory","config","getLabelFactories","getNodeFactories","newModel","EditorPage","HomePage","src","flowDiagram","alt","maxHeight","maxWidth","cym_s","ModelsPage","modelsDiagram","StatePage","stateDiagram","PalettePage","App","path","element","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a32734b5.chunk.js","sourcesContent":["import { Link } from 'react-router-dom';\r\nimport { useState } from 'react';\r\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\r\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport MapIcon from '@material-ui/icons/Map';\r\nimport SwapHorizIcon from '@material-ui/icons/SwapHoriz';\r\nimport { AppBar } from '@material-ui/core';\r\nimport PaletteIcon from '@material-ui/icons/Palette';\r\n\r\nexport default function SimpleBottomNavigation() {\r\n    const pathname = window.location.pathname; // in case user visits the path directly. The BottomNavBar is able to follow suit.\r\n    const [value, setValue] = useState(pathname);\r\n    const handleChange = (event: any, newValue: any) => {\r\n        setValue(newValue);\r\n    };\r\n    return (\r\n        <AppBar position=\"fixed\" color=\"primary\" style={{ top: \"auto\", bottom: 0 }}>\r\n            <BottomNavigation\r\n                value={value}\r\n                onChange={handleChange}\r\n                showLabels\r\n            >\r\n                location.pathname\r\n                <BottomNavigationAction component={Link} label=\"Home\" to=\"/mdd4/\" icon={<HomeIcon />} />\r\n                <BottomNavigationAction component={Link} label=\"Models\" to=\"/mdd4/models\" icon={<MapIcon />} />\r\n                <BottomNavigationAction component={Link} label=\"State\" to=\"/mdd4/state\" icon={<SwapHorizIcon />} />\r\n                <BottomNavigationAction component={Link} label=\"Palette\" to=\"/mdd4/palette\" icon={<PaletteIcon />} />\r\n                <BottomNavigationAction component={Link} label=\"Editor\" to=\"/mdd4/editor\" icon={<EditIcon />} />\r\n            </BottomNavigation>\r\n        </AppBar>\r\n    );\r\n}","import * as React from 'react';\r\nimport styled from '@emotion/styled';\r\n\r\nnamespace S {\r\n\texport const Tray = styled.div`\r\n\t\tmin-width: 200px;\r\n\t\tbackground: rgb(20, 20, 20);\r\n\t\tflex-grow: 0;\r\n\t\tflex-shrink: 0;\r\n\t`;\r\n}\r\n\r\nexport class TrayWidget extends React.Component {\r\n\trender() {\r\n\t\treturn <S.Tray>{this.props.children}</S.Tray>;\r\n\t}\r\n}\r\n","/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport * as React from 'react';\r\nimport styled from '@emotion/styled';\r\nimport OpenInNewIcon from '@mui/icons-material/OpenInNew';\r\nimport modelsDiagram from '../../assets/cym_s_extended.svg'\r\n// import { Dispatch, SetStateAction, useEffect } from 'react';\r\nimport ReactTooltip from 'react-tooltip';\r\nexport interface TrayItemWidgetProps {\r\n\tnode: any;\r\n}\r\n\r\nnamespace S {\r\n\texport const Tray = styled.div<{ color: string }>`\r\n\t\tcolor: white;\r\n\t\tfont-family: Helvetica, Arial;\r\n\t\tfont-size:0.6em;\r\n\t\tpadding: 0px 2px;\r\n\t\tmargin:\t 0px ;\r\n\t\tborder: solid 1px ${(p) => p.color};\r\n\t\tborder-radius: 100px;\r\n\t\tmargin-bottom: 2px;\r\n\t\tcursor: pointer;\r\n\t`;\r\n}\r\n\r\nexport class TrayItemWidget extends React.Component<TrayItemWidgetProps> {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<S.Tray\r\n\t\t\t\tcolor={this.props.node.color || 'red'}\r\n\t\t\t\tdraggable={true}\r\n\t\t\t\tonDragStart={(event) => {\r\n\t\t\t\t\tevent.dataTransfer.setData('storm-diagram-node', JSON.stringify(this.props.node));\r\n\t\t\t\t}}\r\n\t\t\t\tclassName=\"tray-item\">\r\n\t\t\t\t{this.props.node.name}\r\n\t\t\t\t<a data-tip data-for={'tip-' + this.props.node.name} >\r\n\t\t\t\t\t<OpenInNewIcon style={{ fontSize: '1rem' }} />\r\n\t\t\t\t</a>\r\n\t\t\t\t{/* todo9: remove dragged image, override default behaviour, replace with component button */}\r\n\t\t\t\t<ReactTooltip id={'tip-' + this.props.node.name} type='light' effect='solid' place=\"bottom\">\r\n\t\t\t\t\t<div style={{ width: '300px', height: '300px', backgroundColor: 'white', border: 'solid', fontSize: '1.3em' }}>\r\n\t\t\t\t\t\t<div style={{ width: '100%', borderBottom: 'solid 3px', fontSize: '2em' }}>\r\n\t\t\t\t\t\t\t{this.props.node.name}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div style={{ width: '100%', borderBottom: 'solid 2px' }}>\r\n\t\t\t\t\t\t\tLibrary={this.props.node.extras.library}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{this.props.node.ins && this.props.node.ins.length > 0 &&\r\n\t\t\t\t\t\t\tthis.props.node.ins.map((port: any) => {\r\n\t\t\t\t\t\t\t\treturn <div key={port}>\r\n\t\t\t\t\t\t\t\t\t<p>{port}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{this.props.node.outs && this.props.node.outs.length > 0 &&\r\n\t\t\t\t\t\t\tthis.props.node.outs.map((port: any) => {\r\n\t\t\t\t\t\t\t\treturn <div key={port}>\r\n\t\t\t\t\t\t\t\t\t<p>{port}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/* {JSON.stringify(this.props.node)} */}\r\n\t\t\t\t</ReactTooltip>\r\n\t\t\t</S.Tray>\r\n\t\t);\r\n\t}\r\n}\r\n","// LabelModel,\r\nimport {\r\n\tLinkModel,\r\n\tLinkModelGenerics,\r\n\tLinkModelListener,\r\n\tPortModel,\r\n\tPortModelAlignment\r\n} from '@projectstorm/react-diagrams-core';\r\n// import { DefaultLabelModel } from './DefaultLabelModel';\r\nimport { BezierCurve } from '@projectstorm/geometry';\r\nimport { BaseModelOptions, DeserializeEvent } from '@projectstorm/react-canvas-core';\r\nexport interface DefaultLinkModelListener extends LinkModelListener {\r\n\t// colorChanged?(event: BaseEntityEvent<DefaultLinkModel> & { color: null | string }): void;\r\n\r\n\t// widthChanged?(event: BaseEntityEvent<DefaultLinkModel> & { width: 0 | number }): void;\r\n}\r\n\r\nexport interface DefaultLinkModelOptions extends BaseModelOptions {\r\n\twidth?: number;\r\n\tcolor?: string;\r\n\tselectedColor?: string;\r\n\tcurvyness?: number;\r\n\ttype?: string;\r\n\ttestName?: string;\r\n}\r\n\r\nexport interface DefaultLinkModelGenerics extends LinkModelGenerics {\r\n\tLISTENER: DefaultLinkModelListener;\r\n\tOPTIONS: DefaultLinkModelOptions;\r\n}\r\n\r\nexport class MyLinkModel extends LinkModel<DefaultLinkModelGenerics> {\r\n\tconstructor(options: DefaultLinkModelOptions = {}) {\r\n\t\tsuper({\r\n\t\t\ttype: 'default',\r\n\t\t\twidth: options.width || 3,\r\n\t\t\tcolor: options.color || 'gray',\r\n\t\t\tselectedColor: options.selectedColor || 'rgb(0,192,255)',\r\n\t\t\tcurvyness: 50,\r\n\t\t\t...options\r\n\t\t});\r\n\t}\r\n\r\n\tcalculateControlOffset(port: PortModel): [number, number] {\r\n\t\tif (port.getOptions().alignment === PortModelAlignment.RIGHT) {\r\n\t\t\treturn [this.options.curvyness || 0, 0];\r\n\t\t} else if (port.getOptions().alignment === PortModelAlignment.LEFT) {\r\n\t\t\treturn [-(this.options.curvyness || 0), 0];\r\n\t\t} else if (port.getOptions().alignment === PortModelAlignment.TOP) {\r\n\t\t\treturn [0, -(this.options.curvyness || 0)];\r\n\t\t}\r\n\t\treturn [0, this.options.curvyness || 0];\r\n\t}\r\n\r\n\tgetSVGPath(): string | undefined {\r\n\t\tif (this.points.length === 2) {\r\n\t\t\tconst curve = new BezierCurve();\r\n\t\t\tcurve.setSource(this.getFirstPoint().getPosition());\r\n\t\t\tcurve.setTarget(this.getLastPoint().getPosition());\r\n\t\t\tcurve.setSourceControl(this.getFirstPoint().getPosition().clone());\r\n\t\t\tcurve.setTargetControl(this.getLastPoint().getPosition().clone());\r\n\r\n\t\t\tif (this.sourcePort) {\r\n\t\t\t\tcurve.getSourceControl().translate(...this.calculateControlOffset(this.getSourcePort()));\r\n\t\t\t}\r\n\r\n\t\t\tif (this.targetPort) {\r\n\t\t\t\tcurve.getTargetControl().translate(...this.calculateControlOffset(this.getTargetPort()));\r\n\t\t\t}\r\n\t\t\treturn curve.getSVGCurve();\r\n\t\t}\r\n\t}\r\n\r\n\tserialize() {\r\n\t\treturn {\r\n\t\t\t...super.serialize(),\r\n\t\t\twidth: this.options.width,\r\n\t\t\tcolor: this.options.color,\r\n\t\t\tcurvyness: this.options.curvyness,\r\n\t\t\tselectedColor: this.options.selectedColor\r\n\t\t};\r\n\t}\r\n\r\n\tdeserialize(event: DeserializeEvent<this>) {\r\n\t\tsuper.deserialize(event);\r\n\t\tthis.options.color = event.data.color;\r\n\t\tthis.options.width = event.data.width;\r\n\t\tthis.options.curvyness = event.data.curvyness;\r\n\t\tthis.options.selectedColor = event.data.selectedColor;\r\n\t}\r\n\tsetWidth(width: number) {\r\n\t\tthis.options.width = width;\r\n\t\tthis.fireEvent({ width }, 'widthChanged');\r\n\t}\r\n\r\n\tsetColor(color: string) {\r\n\t\tthis.options.color = color;\r\n\t\tthis.fireEvent({ color }, 'colorChanged');\r\n\t}\r\n}\r\n","import {\r\n\tLinkModel,\r\n\tPortModel,\r\n\tPortModelAlignment,\r\n\tPortModelGenerics,\r\n\tPortModelOptions\r\n} from '@projectstorm/react-diagrams-core';\r\nimport { MyLinkModel } from './MyLinkModel';\r\nimport { DeserializeEvent } from '@projectstorm/react-canvas-core';\r\n\r\nexport interface DefaultPortModelOptions extends PortModelOptions {\r\n\tlabel?: string;\r\n\tin?: boolean;\r\n}\r\n\r\nexport interface DefaultPortModelGenerics extends PortModelGenerics {\r\n\tOPTIONS: DefaultPortModelOptions;\r\n}\r\n\r\nexport class MyPortModel extends PortModel<DefaultPortModelGenerics> {\r\n\tconstructor(isIn: boolean, name?: string, label?: string);\r\n\tconstructor(options: DefaultPortModelOptions);\r\n\tconstructor(options: DefaultPortModelOptions | boolean, name?: string, label?: string) {\r\n\t\tif (!!name) {\r\n\t\t\toptions = {\r\n\t\t\t\tin: !!options,\r\n\t\t\t\tname: name,\r\n\t\t\t\tlabel: label\r\n\t\t\t};\r\n\t\t}\r\n\t\toptions = options as DefaultPortModelOptions;\r\n\t\tsuper({\r\n\t\t\tlabel: options.label || options.name,\r\n\t\t\talignment: options.in ? PortModelAlignment.LEFT : PortModelAlignment.RIGHT,\r\n\t\t\ttype: 'default',\r\n\t\t\t...options\r\n\t\t});\r\n\t}\r\n\r\n\tdeserialize(event: DeserializeEvent<this>) {\r\n\t\tsuper.deserialize(event);\r\n\t\tthis.options.in = event.data.in;\r\n\t\tthis.options.label = event.data.label;\r\n\t}\r\n\r\n\tserialize() {\r\n\t\treturn {\r\n\t\t\t...super.serialize(),\r\n\t\t\tin: this.options.in,\r\n\t\t\tlabel: this.options.label\r\n\t\t};\r\n\t}\r\n\r\n\tcanLinkToPort(port: PortModel): boolean {\r\n\t\t// if (port instanceof DefaultPortModel) {\r\n\t\t// \treturn this.options.in !== port.getOptions().in;\r\n\t\t// }\r\n\t\treturn true;\r\n\t}\r\n\r\n\tcreateLinkModel(): LinkModel {\r\n\t\tconst link = new MyLinkModel();\r\n\t\t// let label = new DefaultLabelModel();\r\n\t\t// label.setLabel(\"I'm a sad label\");\r\n\t\t// link.addLabel(label)\r\n\t\treturn link\r\n\t}\r\n}\r\n","import * as _ from 'lodash';\r\nimport { NodeModel, NodeModelGenerics, PortModelAlignment } from '@projectstorm/react-diagrams-core';\r\nimport { BasePositionModelOptions, DeserializeEvent } from '@projectstorm/react-canvas-core';\r\nimport { MyPortModel } from './MyPortModel';\r\n\r\nexport interface DefaultNodeModelOptions extends BasePositionModelOptions {\r\n    name?: string;\r\n    color?: string;\r\n}\r\n\r\nexport interface DefaultNodeModelGenerics extends NodeModelGenerics {\r\n    OPTIONS: DefaultNodeModelOptions;\r\n}\r\n\r\nexport class MyNodeModel extends NodeModel<DefaultNodeModelGenerics> {\r\n    protected portsIn: MyPortModel[];\r\n    protected portsOut: MyPortModel[];\r\n    extras: any;\r\n\r\n    constructor(name: string, color: string);\r\n    constructor(options?: DefaultNodeModelOptions);\r\n    constructor(options: any = {}, color?: string) {\r\n        if (typeof options === 'string') {\r\n            options = {\r\n                name: options,\r\n                color: color\r\n            };\r\n        }\r\n        super({\r\n            type: 'default',\r\n            name: 'Untitled',\r\n            color: 'rgb(0,192,255)',\r\n            ...options\r\n        });\r\n        this.portsOut = [];\r\n        this.portsIn = [];\r\n    }\r\n\r\n    doClone(lookupTable: {}, clone: any): void {\r\n        clone.portsIn = [];\r\n        clone.portsOut = [];\r\n        super.doClone(lookupTable, clone);\r\n    }\r\n\r\n    removePort(port: MyPortModel): void {\r\n        super.removePort(port);\r\n        if (port.getOptions().in) {\r\n            this.portsIn.splice(this.portsIn.indexOf(port), 1);\r\n        } else {\r\n            this.portsOut.splice(this.portsOut.indexOf(port), 1);\r\n        }\r\n    }\r\n\r\n    addPort<T extends MyPortModel>(port: T): T {\r\n        super.addPort(port);\r\n        if (port.getOptions().in) {\r\n            if (this.portsIn.indexOf(port) === -1) {\r\n                this.portsIn.push(port);\r\n            }\r\n        } else {\r\n            if (this.portsOut.indexOf(port) === -1) {\r\n                this.portsOut.push(port);\r\n            }\r\n        }\r\n        return port;\r\n    }\r\n\r\n    addInPort(label: string, after = true): MyPortModel {\r\n        const p = new MyPortModel({\r\n            in: true,\r\n            name: label,\r\n            label: label,\r\n            alignment: PortModelAlignment.LEFT\r\n        });\r\n        if (!after) {\r\n            this.portsIn.splice(0, 0, p);\r\n        }\r\n        return this.addPort(p);\r\n    }\r\n\r\n    addOutPort(label: string, after = true): MyPortModel {\r\n        const p = new MyPortModel({\r\n            in: false,\r\n            name: label,\r\n            label: label,\r\n            alignment: PortModelAlignment.RIGHT\r\n        });\r\n        if (!after) {\r\n            this.portsOut.splice(0, 0, p);\r\n        }\r\n        return this.addPort(p);\r\n    }\r\n\r\n    addExtras(extras: any): any {\r\n        this.extras = extras;\r\n        return this.extras\r\n    }\r\n\r\n    deserialize(event: DeserializeEvent<this>) {\r\n        super.deserialize(event);\r\n        this.options.name = event.data.name;\r\n        this.options.color = event.data.color;\r\n        this.portsIn = _.map(event.data.portsInOrder, (id) => {\r\n            return this.getPortFromID(id);\r\n        }) as MyPortModel[];\r\n        this.portsOut = _.map(event.data.portsOutOrder, (id) => {\r\n            return this.getPortFromID(id);\r\n        }) as MyPortModel[];\r\n        this.extras = event.data.extras\r\n    }\r\n\r\n    serialize(): any {\r\n        return {\r\n            ...super.serialize(),\r\n            name: this.options.name,\r\n            color: this.options.color,\r\n            portsInOrder: _.map(this.portsIn, (port) => {\r\n                return port.getID();\r\n            }),\r\n            portsOutOrder: _.map(this.portsOut, (port) => {\r\n                return port.getID();\r\n            }),\r\n            extras: this.extras\r\n        };\r\n    }\r\n\r\n    getInPorts(): MyPortModel[] {\r\n        return this.portsIn;\r\n    }\r\n\r\n    getOutPorts(): MyPortModel[] {\r\n        return this.portsOut;\r\n    }\r\n}","import * as React from 'react';\r\nimport styled from '@emotion/styled';\r\nimport { css, Global } from '@emotion/react';\r\n\r\nexport interface DemoCanvasWidgetProps {\r\n\tcolor?: string;\r\n\tbackground?: string;\r\n}\r\n\r\nnamespace S {\r\n\texport const Container = styled.div<{ color: string; background: string }>`\r\n\t\theight: 100%;\r\n\t\tbackground-color: ${(p) => p.background};\r\n\t\tbackground-size: 50px 50px;\r\n\t\tdisplay: flex;\r\n\r\n\t\t> * {\r\n\t\t\theight: 100%;\r\n\t\t\tmin-height: 100%;\r\n\t\t\twidth: 100%;\r\n\t\t}\r\n\r\n\t\tbackground-image: linear-gradient(\r\n\t\t\t\t0deg,\r\n\t\t\t\ttransparent 24%,\r\n\t\t\t\t${(p) => p.color} 25%,\r\n\t\t\t\t${(p) => p.color} 26%,\r\n\t\t\t\ttransparent 27%,\r\n\t\t\t\ttransparent 74%,\r\n\t\t\t\t${(p) => p.color} 75%,\r\n\t\t\t\t${(p) => p.color} 76%,\r\n\t\t\t\ttransparent 77%,\r\n\t\t\t\ttransparent\r\n\t\t\t),\r\n\t\t\tlinear-gradient(\r\n\t\t\t\t90deg,\r\n\t\t\t\ttransparent 24%,\r\n\t\t\t\t${(p) => p.color} 25%,\r\n\t\t\t\t${(p) => p.color} 26%,\r\n\t\t\t\ttransparent 27%,\r\n\t\t\t\ttransparent 74%,\r\n\t\t\t\t${(p) => p.color} 75%,\r\n\t\t\t\t${(p) => p.color} 76%,\r\n\t\t\t\ttransparent 77%,\r\n\t\t\t\ttransparent\r\n\t\t\t);\r\n\t`;\r\n\r\n\texport const Expand = css`\r\n\t\thtml,\r\n\t\tbody,\r\n\t\t#root {\r\n\t\t\theight: 100%;\r\n\t\t}\r\n\t`;\r\n}\r\n\r\nexport class DemoCanvasWidget extends React.Component<DemoCanvasWidgetProps> {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<Global styles={S.Expand} />\r\n\t\t\t\t<S.Container\r\n\t\t\t\t\tbackground={this.props.background || 'rgb(60, 60, 60)'}\r\n\t\t\t\t\tcolor={this.props.color || 'rgba(255,255,255, 0.05)'}>\r\n\t\t\t\t\t{this.props.children}\r\n\t\t\t\t</S.Container>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n","//@ts-nocheck\r\nimport * as _ from \"lodash\";\r\nimport { PortModel, PortModelAlignment } from \"@projectstorm/react-diagrams\";\r\n\r\nexport class EditablePortModel extends PortModel {\r\n\r\n\tconstructor(pos: PortModelAlignment = PortModelAlignment.TOP) {\r\n\t\tsuper({ alignment: pos, name: pos });\r\n\t}\r\n\tserialize() {\r\n\t\treturn _.merge(super.serialize(), {\r\n\t\t\tposition: this.options.alignment\r\n\t\t});\r\n\t}\r\n}\r\n","import { EditablePortModel } from \"./EditablePortModel\";\r\nimport _ from \"lodash\";\r\nimport { NodeModel, PortModelAlignment } from '@projectstorm/react-diagrams'\r\nexport class EditableNodeModel extends NodeModel {\r\n  content: string;\r\n  constructor(\r\n    content: string = \"content\"\r\n  ) {\r\n    super({ type: \"Editable\" });\r\n    this.content = content;\r\n    this.addPort(new EditablePortModel(PortModelAlignment.LEFT));\r\n    this.addPort(new EditablePortModel(PortModelAlignment.RIGHT));\r\n  }\r\n\r\n  serialize() {\r\n    return _.merge(super.serialize(), {\r\n      content: this.content\r\n    });\r\n  }\r\n}\r\n","import * as _ from 'lodash';\r\nimport { NodeModel, NodeModelGenerics, PortModelAlignment } from '@projectstorm/react-diagrams-core';\r\nimport { BasePositionModelOptions, DeserializeEvent } from '@projectstorm/react-canvas-core';\r\nimport { MyPortModel } from '../myNode/MyPortModel';\r\n\r\nexport interface DefaultNodeModelOptions extends BasePositionModelOptions {\r\n    name?: string;\r\n    color?: string;\r\n}\r\n\r\nexport interface DefaultNodeModelGenerics extends NodeModelGenerics {\r\n    OPTIONS: DefaultNodeModelOptions;\r\n}\r\n\r\nexport class MyEditableNodeModel extends NodeModel<DefaultNodeModelGenerics> {\r\n    portsIn: MyPortModel[] = [];\r\n    portsOut: MyPortModel[] = [];\r\n    content: string;\r\n    extras: any;\r\n    selectableOptions: string[];\r\n    constructor(name: string, color: string, extras: any, ins: any[], outs: any[]) {\r\n        super({\r\n            type: 'MyEditable',\r\n            name: name,\r\n            color: color,\r\n        });\r\n        console.log('creating', name, color, extras, ins, outs)\r\n        this.extras = extras;\r\n\r\n        ins.forEach((method: string) => {\r\n            this.addInPort(method)\r\n        });\r\n        outs.forEach((method: string) => {\r\n            this.addOutPort(method)\r\n        });\r\n\r\n        switch (outs[0]) {\r\n            case 'bool':\r\n                this.content = 'true'\r\n                this.selectableOptions = ['true', 'false'];\r\n                break;\r\n            default:\r\n                this.content = '0'\r\n                this.selectableOptions = Array.from(Array(10).keys()).map(x => x.toString())\r\n        }\r\n    }\r\n\r\n    doClone(lookupTable: {}, clone: any): void {\r\n        clone.portsIn = [];\r\n        clone.portsOut = [];\r\n        super.doClone(lookupTable, clone);\r\n    }\r\n\r\n    removePort(port: MyPortModel): void {\r\n        super.removePort(port);\r\n        if (port.getOptions().in) {\r\n            this.portsIn.splice(this.portsIn.indexOf(port), 1);\r\n        } else {\r\n            this.portsOut.splice(this.portsOut.indexOf(port), 1);\r\n        }\r\n    }\r\n\r\n    addPort<T extends MyPortModel>(port: T): T {\r\n        super.addPort(port);\r\n        if (port.getOptions().in) {\r\n            if (this.portsIn.indexOf(port) === -1) {\r\n                this.portsIn.push(port);\r\n            }\r\n        } else {\r\n            if (this.portsOut.indexOf(port) === -1) {\r\n                this.portsOut.push(port);\r\n            }\r\n        }\r\n        return port;\r\n    }\r\n\r\n    addInPort(label: string, after = true): MyPortModel {\r\n        const p = new MyPortModel({\r\n            in: true,\r\n            name: label,\r\n            label: label,\r\n            alignment: PortModelAlignment.LEFT\r\n        });\r\n        if (!after) {\r\n            this.portsIn.splice(0, 0, p);\r\n        }\r\n        return this.addPort(p);\r\n    }\r\n\r\n    addOutPort(label: string, after = true): MyPortModel {\r\n        const p = new MyPortModel({\r\n            in: false,\r\n            name: label,\r\n            label: label,\r\n            alignment: PortModelAlignment.RIGHT\r\n        });\r\n        if (!after) {\r\n            this.portsOut.splice(0, 0, p);\r\n        }\r\n        return this.addPort(p);\r\n    }\r\n\r\n    addExtras(extras: any): any {\r\n        this.extras = extras;\r\n        return this.extras\r\n    }\r\n\r\n    deserialize(event: DeserializeEvent<this>) {\r\n        super.deserialize(event);\r\n        this.options.name = event.data.name;\r\n        this.options.color = event.data.color;\r\n        this.portsIn = _.map(event.data.portsInOrder, (id) => {\r\n            return this.getPortFromID(id);\r\n        }) as MyPortModel[];\r\n        this.portsOut = _.map(event.data.portsOutOrder, (id) => {\r\n            return this.getPortFromID(id);\r\n        }) as MyPortModel[];\r\n        this.extras = event.data.extras\r\n        this.content = event.data.content\r\n    }\r\n\r\n    serialize(): any {\r\n        return {\r\n            ...super.serialize(),\r\n            name: this.options.name,\r\n            color: this.options.color,\r\n            portsInOrder: _.map(this.portsIn, (port) => {\r\n                return port.getID();\r\n            }),\r\n            portsOutOrder: _.map(this.portsOut, (port) => {\r\n                return port.getID();\r\n            }),\r\n            extras: this.extras,\r\n            content: this.content\r\n        };\r\n    }\r\n\r\n    getInPorts(): MyPortModel[] {\r\n        return this.portsIn;\r\n    }\r\n\r\n    getOutPorts(): MyPortModel[] {\r\n        return this.portsOut;\r\n    }\r\n}","// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default [{\r\n        name: 'Arduino Uno',\r\n        color: 'green',\r\n        extras: {\r\n            type: 'controller',\r\n            analogPorts: 6,\r\n            digitalPorts: 14,\r\n        },\r\n        ins: [],\r\n        outs: [\r\n            'setup()',\r\n            'loop()'\r\n        ]\r\n    },\r\n    {\r\n        name: 'Arduino Mega',\r\n        color: 'green',\r\n        extras: {\r\n            type: 'controller',\r\n            analogPorts: 16,\r\n            digitalPorts: 54,\r\n        },\r\n        ins: [],\r\n        outs: [\r\n            'setup()',\r\n            'loop()'\r\n        ]\r\n    }, {\r\n        name: 'Digital Port',\r\n        color: 'white',\r\n        extras: {\r\n            type: 'port'\r\n        },\r\n        ins: [],\r\n        outs: [\r\n            'port',\r\n        ]\r\n    }, {\r\n        name: 'Analog Port',\r\n        color: 'white',\r\n        extras: {\r\n            type: 'port'\r\n        },\r\n        ins: [],\r\n        outs: [\r\n            'port',\r\n        ]\r\n    },\r\n    {\r\n        name: 'Function',\r\n        extras: {\r\n            type: 'logic'\r\n        },\r\n        color: 'grey',\r\n        outs: [\r\n            'call',\r\n        ],\r\n        ins: [\r\n            'trigger',\r\n        ]\r\n    }, {\r\n        name: 'Condition',\r\n        extras: {\r\n            type: 'logic'\r\n        },\r\n        color: 'grey',\r\n        outs: [\r\n            'True',\r\n            'False'\r\n        ],\r\n        ins: [\r\n            'trigger',\r\n            'x',\r\n            'y'\r\n        ]\r\n    },\r\n    {\r\n        name: 'Loop',\r\n        extras: {\r\n            type: 'logic'\r\n        },\r\n        color: 'grey',\r\n        outs: [\r\n            'True',\r\n            'False'\r\n        ],\r\n        ins: [\r\n            'startValue',\r\n            'stopValue'\r\n        ]\r\n    },\r\n    {\r\n        name: 'Led',\r\n        color: 'red',\r\n        extras: {\r\n            type: 'component',\r\n            library: 'Setter.h'\r\n        },\r\n        ins: [\r\n            'setValue()'\r\n        ],\r\n        outs: []\r\n\r\n    },\r\n    {\r\n        name: 'TemperatureSensor',\r\n        color: 'blue',\r\n        extras: {\r\n            type: 'component',\r\n            library: 'Getter.h'\r\n        },\r\n        ins: [],\r\n        outs: [\r\n            'getValue()'\r\n        ]\r\n    },\r\n    {\r\n        name: 'Button',\r\n        color: 'blue',\r\n        extras: {\r\n            type: 'component',\r\n            library: 'Getter.h'\r\n        },\r\n        ins: [\r\n            'setValue(bool)'\r\n        ],\r\n        outs: []\r\n    },\r\n    {\r\n        name: 'Servo',\r\n        color: 'orange',\r\n        extras: {\r\n            type: 'component',\r\n            library: 'Servo.h'\r\n        },\r\n        ins: [\r\n            'void detach()',\r\n            'void write(int)',\r\n            'void writeMicroseconds(int)',\r\n        ],\r\n        outs: [\r\n            'uint8_t attach(int)',\r\n            'uint8_t attach(int, int, int)',\r\n            'int read()',\r\n            'int readMicroseconds()',\r\n            'bool attached()',\r\n        ]\r\n    },\r\n    {\r\n        name: 'Stepper',\r\n        color: 'orange',\r\n        extras: {\r\n            type: 'component',\r\n            library: 'Stepper.h'\r\n        },\r\n        ins: [\r\n            'Stepper(int, int, int)',\r\n            'Stepper(int, int, int, int, int)',\r\n            'Stepper(int, int, int, int, int, int)',\r\n            'void setSpeed(long whatSpeed)',\r\n            'void step(int number_of_steps)',\r\n        ],\r\n        outs: [\r\n            'int version(void)',\r\n        ]\r\n    },\r\n    {\r\n        name: 'Variable Integer',\r\n        color: 'purple',\r\n        extras: {\r\n            type: 'variable'\r\n        },\r\n        ins: [\r\n            'void setValue(int)',\r\n        ],\r\n        outs: [\r\n            'int getValue()',\r\n        ]\r\n    },\r\n    {\r\n        name: 'Variable Boolean',\r\n        color: 'purple',\r\n        extras: {\r\n            type: 'variable'\r\n        },\r\n        ins: [\r\n            'void setValue(bool)',\r\n        ],\r\n        outs: [\r\n            'bool',\r\n        ]\r\n    },\r\n    {\r\n        name: 'Constant Integer',\r\n        color: 'purple',\r\n        extras: {\r\n            type: 'variable'\r\n        },\r\n        ins: [],\r\n        outs: [\r\n            'int',\r\n        ]\r\n    }, {\r\n        name: 'Constant Boolean',\r\n        color: 'purple',\r\n        extras: {\r\n            type: 'variable'\r\n        },\r\n        ins: [],\r\n        outs: [\r\n            'bool',\r\n        ]\r\n    },\r\n    {\r\n        name: 'ThermoServo',\r\n        color: 'white',\r\n        extras: {\r\n            type: 'diagram',\r\n            diagram: {\r\n                \"id\": \"d6b5717e-2da5-4f3a-9d8c-3ace0ec6f282\",\r\n                \"offsetX\": 282.5965420081967,\r\n                \"offsetY\": -1.8605532786886627,\r\n                \"zoom\": 110.00000000000003,\r\n                \"gridSize\": 0,\r\n                \"layers\": [{\r\n                    \"id\": \"95b8e5fd-5c97-444f-bf41-4336c9183141\",\r\n                    \"type\": \"diagram-links\",\r\n                    \"isSvg\": true,\r\n                    \"transformed\": true,\r\n                    \"models\": {\r\n                        \"07eb34b6-ba24-43cd-809d-13132e33da51\": {\r\n                            \"id\": \"07eb34b6-ba24-43cd-809d-13132e33da51\",\r\n                            \"type\": \"default\",\r\n                            \"selected\": false,\r\n                            \"source\": \"df05ca88-a562-4d4c-9ac6-3351ac43760e\",\r\n                            \"sourcePort\": \"7e465aa4-d0f3-443c-8b36-3ca4ee008db5\",\r\n                            \"target\": \"512bc35e-9c08-498f-995c-d05f0629761c\",\r\n                            \"targetPort\": \"af8d3171-365c-49e7-8ed9-f150fe82e172\",\r\n                            \"points\": [{\r\n                                \"id\": \"47994ec8-c991-4825-a29b-61ec993e5350\",\r\n                                \"type\": \"point\",\r\n                                \"x\": 344.78177029969225,\r\n                                \"y\": 209.69108306384467\r\n                            }, {\r\n                                \"id\": \"796b3738-ce95-43d4-a628-33511fa02937\",\r\n                                \"type\": \"point\",\r\n                                \"x\": 373.5681112320696,\r\n                                \"y\": 356.3373563172386\r\n                            }],\r\n                            \"labels\": [],\r\n                            \"width\": 3,\r\n                            \"color\": \"gray\",\r\n                            \"curvyness\": 50,\r\n                            \"selectedColor\": \"rgb(0,192,255)\"\r\n                        },\r\n                        \"11ff809f-c2aa-431d-a557-d2728d947406\": {\r\n                            \"id\": \"11ff809f-c2aa-431d-a557-d2728d947406\",\r\n                            \"type\": \"default\",\r\n                            \"selected\": false,\r\n                            \"source\": \"512bc35e-9c08-498f-995c-d05f0629761c\",\r\n                            \"sourcePort\": \"af8d3171-365c-49e7-8ed9-f150fe82e172\",\r\n                            \"target\": \"49d7e112-0f62-440a-990a-a30d71039672\",\r\n                            \"targetPort\": \"53d975ee-bdca-4a40-9282-f4c29491f5b8\",\r\n                            \"points\": [{\r\n                                \"id\": \"cb21f57c-5a25-47ca-b296-7abac16ff601\",\r\n                                \"type\": \"point\",\r\n                                \"x\": 373.5681112320696,\r\n                                \"y\": 356.3373563172386\r\n                            }, {\r\n                                \"id\": \"0ef07a28-eda6-4aad-8909-11ed44a98604\",\r\n                                \"type\": \"point\",\r\n                                \"x\": 393.57685626921244,\r\n                                \"y\": 513.6255243019981\r\n                            }],\r\n                            \"labels\": [],\r\n                            \"width\": 3,\r\n                            \"color\": \"gray\",\r\n                            \"curvyness\": 50,\r\n                            \"selectedColor\": \"rgb(0,192,255)\"\r\n                        },\r\n                        \"70add750-063f-4dc5-a67f-a8c14fab60c1\": {\r\n                            \"id\": \"70add750-063f-4dc5-a67f-a8c14fab60c1\",\r\n                            \"type\": \"default\",\r\n                            \"selected\": false,\r\n                            \"source\": \"df05ca88-a562-4d4c-9ac6-3351ac43760e\",\r\n                            \"sourcePort\": \"be658169-ab18-4a43-86d1-70bd53418c8d\",\r\n                            \"target\": \"6ced9206-ae32-4b05-8853-71d9a11c2dfe\",\r\n                            \"targetPort\": \"6803560d-cf97-47f6-8ef6-51f22409db16\",\r\n                            \"points\": [{\r\n                                \"id\": \"b77d1881-35bd-48da-b02b-959004872078\",\r\n                                \"type\": \"point\",\r\n                                \"x\": 344.78177029969225,\r\n                                \"y\": 225.69108656586187\r\n                            }, {\r\n                                \"id\": \"b3ab152f-3176-4c80-aa4f-71382b1f85b1\",\r\n                                \"type\": \"point\",\r\n                                \"selected\": false,\r\n                                \"x\": 346.01716188524597,\r\n                                \"y\": 271.6229508196721\r\n                            }, {\r\n                                \"id\": \"4129d80b-8b7f-4424-90c1-c6ca1858c44c\",\r\n                                \"type\": \"point\",\r\n                                \"selected\": false,\r\n                                \"x\": 100.11552254098359,\r\n                                \"y\": 283.4262295081968\r\n                            }, {\r\n                                \"id\": \"9cb55657-c602-4e7a-8d38-398f80d8ccef\",\r\n                                \"type\": \"point\",\r\n                                \"selected\": false,\r\n                                \"x\": 43.066342213114766,\r\n                                \"y\": 319.81967213114757\r\n                            }, {\r\n                                \"id\": \"baa37b37-4e6d-4106-9799-1e146ed586b2\",\r\n                                \"type\": \"point\",\r\n                                \"x\": 88.95413358094245,\r\n                                \"y\": 358.3155857774076\r\n                            }],\r\n                            \"labels\": [],\r\n                            \"width\": 3,\r\n                            \"color\": \"gray\",\r\n                            \"curvyness\": 50,\r\n                            \"selectedColor\": \"rgb(0,192,255)\"\r\n                        },\r\n                        \"fb8c0a43-5bf4-48e6-81d4-a368a5075dd6\": {\r\n                            \"id\": \"fb8c0a43-5bf4-48e6-81d4-a368a5075dd6\",\r\n                            \"type\": \"default\",\r\n                            \"selected\": false,\r\n                            \"source\": \"4fa142c2-b229-4294-be53-e35f2244affc\",\r\n                            \"sourcePort\": \"5d42ad8c-05da-4623-a573-447cfd67f313\",\r\n                            \"target\": \"6ced9206-ae32-4b05-8853-71d9a11c2dfe\",\r\n                            \"targetPort\": \"21c74953-b688-4c2a-8c36-32a7dc485d86\",\r\n                            \"points\": [{\r\n                                \"id\": \"23b0e7ee-14ee-4959-8bda-b20174ab7af4\",\r\n                                \"type\": \"point\",\r\n                                \"x\": 24.442624951972277,\r\n                                \"y\": 339.627301325563\r\n                            }, {\r\n                                \"id\": \"a56e2c41-2fdf-41a3-9936-ce5cf8874c20\",\r\n                                \"type\": \"point\",\r\n                                \"x\": 88.95413358094245,\r\n                                \"y\": 374.31558177510226\r\n                            }],\r\n                            \"labels\": [],\r\n                            \"width\": 3,\r\n                            \"color\": \"gray\",\r\n                            \"curvyness\": 50,\r\n                            \"selectedColor\": \"rgb(0,192,255)\"\r\n                        },\r\n                        \"84078498-b460-40ec-88f8-50f7e0a3d07d\": {\r\n                            \"id\": \"84078498-b460-40ec-88f8-50f7e0a3d07d\",\r\n                            \"type\": \"default\",\r\n                            \"selected\": false,\r\n                            \"source\": \"6ced9206-ae32-4b05-8853-71d9a11c2dfe\",\r\n                            \"sourcePort\": \"65ad99a6-a95e-4d8a-9a10-0b0837d57677\",\r\n                            \"target\": \"b7620813-1d70-4ec9-963d-0de893381809\",\r\n                            \"targetPort\": \"7b3fd1de-cfd1-45d3-b5d9-43139f9c591d\",\r\n                            \"points\": [{\r\n                                \"id\": \"76798d61-83d7-458a-b228-2437806d7e34\",\r\n                                \"type\": \"point\",\r\n                                \"x\": 192.04791559938494,\r\n                                \"y\": 358.31558577740714\r\n                            }, {\r\n                                \"id\": \"1c072e78-9c55-4cdb-a6fb-eab25523dcbb\",\r\n                                \"type\": \"point\",\r\n                                \"selected\": false,\r\n                                \"x\": 245.6892930327869,\r\n                                \"y\": 357.1967213114754\r\n                            }, {\r\n                                \"id\": \"4397b5e1-aaec-4038-b0bd-19b2b351e532\",\r\n                                \"type\": \"point\",\r\n                                \"selected\": false,\r\n                                \"x\": 249.17662537257826,\r\n                                \"y\": 421.98062593144556\r\n                            }, {\r\n                                \"id\": \"2ca8ce88-0cf6-4b47-932a-b7dd7b8ec1ea\",\r\n                                \"type\": \"point\",\r\n                                \"x\": 37.236174036244776,\r\n                                \"y\": 474.3847316054044\r\n                            }],\r\n                            \"labels\": [],\r\n                            \"width\": 3,\r\n                            \"color\": \"gray\",\r\n                            \"curvyness\": 50,\r\n                            \"selectedColor\": \"rgb(0,192,255)\"\r\n                        },\r\n                        \"47994c2c-7089-457e-852b-8840a735f92b\": {\r\n                            \"id\": \"47994c2c-7089-457e-852b-8840a735f92b\",\r\n                            \"type\": \"default\",\r\n                            \"selected\": false,\r\n                            \"source\": \"b7620813-1d70-4ec9-963d-0de893381809\",\r\n                            \"sourcePort\": \"7b3fd1de-cfd1-45d3-b5d9-43139f9c591d\",\r\n                            \"target\": \"49d7e112-0f62-440a-990a-a30d71039672\",\r\n                            \"targetPort\": \"4d27e2bc-1ed7-4a25-809b-5f39309a5dbe\",\r\n                            \"points\": [{\r\n                                \"id\": \"97f0f35c-1437-4334-b234-bc7d7f3ecffc\",\r\n                                \"type\": \"point\",\r\n                                \"x\": 37.236174036244776,\r\n                                \"y\": 474.3847316054044\r\n                            }, {\r\n                                \"id\": \"7043f7f0-76b8-4c1f-81f5-9c78810f2f72\",\r\n                                \"type\": \"point\",\r\n                                \"x\": 94.85811427382139,\r\n                                \"y\": 529.6255202996922\r\n                            }],\r\n                            \"labels\": [],\r\n                            \"width\": 3,\r\n                            \"color\": \"gray\",\r\n                            \"curvyness\": 50,\r\n                            \"selectedColor\": \"rgb(0,192,255)\"\r\n                        },\r\n                        \"ff2344b3-09b0-458e-b229-dc8416a0db3c\": {\r\n                            \"id\": \"ff2344b3-09b0-458e-b229-dc8416a0db3c\",\r\n                            \"type\": \"default\",\r\n                            \"selected\": false,\r\n                            \"source\": \"d9469763-8e16-493a-ace1-5beb2a9143d0\",\r\n                            \"sourcePort\": \"c67f8fa3-b522-42e0-8e73-363c0afbab50\",\r\n                            \"target\": \"6ced9206-ae32-4b05-8853-71d9a11c2dfe\",\r\n                            \"targetPort\": \"70460e22-0d44-4ec5-b440-018f7ed7e89e\",\r\n                            \"points\": [{\r\n                                \"id\": \"1fda732e-1f4b-4f33-a350-ff7eecde5acc\",\r\n                                \"type\": \"point\",\r\n                                \"x\": -7.278176229508219,\r\n                                \"y\": 418.2205510373978\r\n                            }, {\r\n                                \"id\": \"41d295bd-c704-4034-adf5-d3ccc91b9c2e\",\r\n                                \"type\": \"point\",\r\n                                \"x\": 88.95413358094243,\r\n                                \"y\": 390.3155777727967\r\n                            }],\r\n                            \"labels\": [],\r\n                            \"width\": 3,\r\n                            \"color\": \"gray\",\r\n                            \"curvyness\": 50,\r\n                            \"selectedColor\": \"rgb(0,192,255)\"\r\n                        }\r\n                    }\r\n                }, {\r\n                    \"id\": \"ce83d161-802f-41ec-89e7-2abbc3dcd9d9\",\r\n                    \"type\": \"diagram-nodes\",\r\n                    \"isSvg\": false,\r\n                    \"transformed\": true,\r\n                    \"models\": {\r\n                        \"df05ca88-a562-4d4c-9ac6-3351ac43760e\": {\r\n                            \"id\": \"df05ca88-a562-4d4c-9ac6-3351ac43760e\",\r\n                            \"type\": \"default\",\r\n                            \"selected\": false,\r\n                            \"extras\": {\r\n                                \"type\": \"controller\",\r\n                                \"analogPorts\": 6,\r\n                                \"digitalPorts\": 14\r\n                            },\r\n                            \"x\": 279.1319159836066,\r\n                            \"y\": 177.1967213114754,\r\n                            \"ports\": [{\r\n                                \"id\": \"7e465aa4-d0f3-443c-8b36-3ca4ee008db5\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 337.2817702996929,\r\n                                \"y\": 202.19108306384462,\r\n                                \"name\": \"setup()\",\r\n                                \"alignment\": \"right\",\r\n                                \"parentNode\": \"df05ca88-a562-4d4c-9ac6-3351ac43760e\",\r\n                                \"links\": [\"07eb34b6-ba24-43cd-809d-13132e33da51\"],\r\n                                \"in\": false,\r\n                                \"label\": \"setup()\"\r\n                            }, {\r\n                                \"id\": \"be658169-ab18-4a43-86d1-70bd53418c8d\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 337.2817702996929,\r\n                                \"y\": 218.19107906153928,\r\n                                \"name\": \"loop()\",\r\n                                \"alignment\": \"right\",\r\n                                \"parentNode\": \"df05ca88-a562-4d4c-9ac6-3351ac43760e\",\r\n                                \"links\": [\"70add750-063f-4dc5-a67f-a8c14fab60c1\"],\r\n                                \"in\": false,\r\n                                \"label\": \"loop()\"\r\n                            }],\r\n                            \"name\": \"Arduino Uno\",\r\n                            \"color\": \"green\",\r\n                            \"portsInOrder\": [],\r\n                            \"portsOutOrder\": [\"7e465aa4-d0f3-443c-8b36-3ca4ee008db5\", \"be658169-ab18-4a43-86d1-70bd53418c8d\"]\r\n                        },\r\n                        \"49d7e112-0f62-440a-990a-a30d71039672\": {\r\n                            \"id\": \"49d7e112-0f62-440a-990a-a30d71039672\",\r\n                            \"type\": \"default\",\r\n                            \"selected\": false,\r\n                            \"extras\": {\r\n                                \"type\": \"component\",\r\n                                \"library\": \"Servo.h\"\r\n                            },\r\n                            \"x\": 85.36142418032786,\r\n                            \"y\": 481.1311475409836,\r\n                            \"ports\": [{\r\n                                \"id\": \"53d975ee-bdca-4a40-9282-f4c29491f5b8\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 386.0768562692119,\r\n                                \"y\": 506.1255243019972,\r\n                                \"name\": \"uint8_t attach(int)\",\r\n                                \"alignment\": \"right\",\r\n                                \"parentNode\": \"49d7e112-0f62-440a-990a-a30d71039672\",\r\n                                \"links\": [\"11ff809f-c2aa-431d-a557-d2728d947406\"],\r\n                                \"in\": false,\r\n                                \"label\": \"uint8_t attach(int)\"\r\n                            }, {\r\n                                \"id\": \"d4b088ed-ea94-475d-a316-a9a0da22422e\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 386.0768562692119,\r\n                                \"y\": 522.1255202996921,\r\n                                \"name\": \"uint8_t attach(int, int, int)\",\r\n                                \"alignment\": \"right\",\r\n                                \"parentNode\": \"49d7e112-0f62-440a-990a-a30d71039672\",\r\n                                \"links\": [],\r\n                                \"in\": false,\r\n                                \"label\": \"uint8_t attach(int, int, int)\"\r\n                            }, {\r\n                                \"id\": \"eb6eee34-ae1a-4047-9827-3655e7bde42e\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 386.0768562692119,\r\n                                \"y\": 538.1255162973868,\r\n                                \"name\": \"int read()\",\r\n                                \"alignment\": \"right\",\r\n                                \"parentNode\": \"49d7e112-0f62-440a-990a-a30d71039672\",\r\n                                \"links\": [],\r\n                                \"in\": false,\r\n                                \"label\": \"int read()\"\r\n                            }, {\r\n                                \"id\": \"8987ac73-e6f0-4536-a15f-5be603b35094\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 386.0768562692119,\r\n                                \"y\": 554.1255122950819,\r\n                                \"name\": \"int readMicroseconds()\",\r\n                                \"alignment\": \"right\",\r\n                                \"parentNode\": \"49d7e112-0f62-440a-990a-a30d71039672\",\r\n                                \"links\": [],\r\n                                \"in\": false,\r\n                                \"label\": \"int readMicroseconds()\"\r\n                            }, {\r\n                                \"id\": \"79f1f51a-4e03-4b59-ba50-c3923359f440\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 386.0768562692119,\r\n                                \"y\": 570.1255082927768,\r\n                                \"name\": \"bool attached()\",\r\n                                \"alignment\": \"right\",\r\n                                \"parentNode\": \"49d7e112-0f62-440a-990a-a30d71039672\",\r\n                                \"links\": [],\r\n                                \"in\": false,\r\n                                \"label\": \"bool attached()\"\r\n                            }, {\r\n                                \"id\": \"478ef04c-9381-4214-a8b0-b5cab2de9868\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 87.35811427382158,\r\n                                \"y\": 506.1255243019972,\r\n                                \"name\": \"void detach()\",\r\n                                \"alignment\": \"left\",\r\n                                \"parentNode\": \"49d7e112-0f62-440a-990a-a30d71039672\",\r\n                                \"links\": [],\r\n                                \"in\": true,\r\n                                \"label\": \"void detach()\"\r\n                            }, {\r\n                                \"id\": \"4d27e2bc-1ed7-4a25-809b-5f39309a5dbe\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 87.35811427382158,\r\n                                \"y\": 522.1255202996921,\r\n                                \"name\": \"void write(int)\",\r\n                                \"alignment\": \"left\",\r\n                                \"parentNode\": \"49d7e112-0f62-440a-990a-a30d71039672\",\r\n                                \"links\": [\"47994c2c-7089-457e-852b-8840a735f92b\"],\r\n                                \"in\": true,\r\n                                \"label\": \"void write(int)\"\r\n                            }, {\r\n                                \"id\": \"3f61b0dd-3ced-402a-b20a-74db2ff0b592\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 87.35811427382158,\r\n                                \"y\": 538.1255162973868,\r\n                                \"name\": \"void writeMicroseconds(int)\",\r\n                                \"alignment\": \"left\",\r\n                                \"parentNode\": \"49d7e112-0f62-440a-990a-a30d71039672\",\r\n                                \"links\": [],\r\n                                \"in\": true,\r\n                                \"label\": \"void writeMicroseconds(int)\"\r\n                            }],\r\n                            \"name\": \"Servo\",\r\n                            \"color\": \"orange\",\r\n                            \"portsInOrder\": [\"478ef04c-9381-4214-a8b0-b5cab2de9868\", \"4d27e2bc-1ed7-4a25-809b-5f39309a5dbe\", \"3f61b0dd-3ced-402a-b20a-74db2ff0b592\"],\r\n                            \"portsOutOrder\": [\"53d975ee-bdca-4a40-9282-f4c29491f5b8\", \"d4b088ed-ea94-475d-a316-a9a0da22422e\", \"eb6eee34-ae1a-4047-9827-3655e7bde42e\", \"8987ac73-e6f0-4536-a15f-5be603b35094\", \"79f1f51a-4e03-4b59-ba50-c3923359f440\"]\r\n                        },\r\n                        \"512bc35e-9c08-498f-995c-d05f0629761c\": {\r\n                            \"id\": \"512bc35e-9c08-498f-995c-d05f0629761c\",\r\n                            \"type\": \"MyEditable\",\r\n                            \"selected\": false,\r\n                            \"extras\": {\r\n                                \"type\": \"port\"\r\n                            },\r\n                            \"x\": 269.2958504098361,\r\n                            \"y\": 317.8524590163934,\r\n                            \"ports\": [{\r\n                                \"id\": \"af8d3171-365c-49e7-8ed9-f150fe82e172\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 366.06811123206967,\r\n                                \"y\": 348.8373563172385,\r\n                                \"name\": \"port\",\r\n                                \"alignment\": \"right\",\r\n                                \"parentNode\": \"512bc35e-9c08-498f-995c-d05f0629761c\",\r\n                                \"links\": [\"07eb34b6-ba24-43cd-809d-13132e33da51\", \"11ff809f-c2aa-431d-a557-d2728d947406\"],\r\n                                \"in\": false,\r\n                                \"label\": \"port\"\r\n                            }],\r\n                            \"name\": \"Digital Port\",\r\n                            \"color\": \"white\",\r\n                            \"portsInOrder\": [],\r\n                            \"portsOutOrder\": [\"af8d3171-365c-49e7-8ed9-f150fe82e172\"],\r\n                            \"content\": \"1\"\r\n                        },\r\n                        \"6ced9206-ae32-4b05-8853-71d9a11c2dfe\": {\r\n                            \"id\": \"6ced9206-ae32-4b05-8853-71d9a11c2dfe\",\r\n                            \"type\": \"MyEditable\",\r\n                            \"selected\": false,\r\n                            \"extras\": {\r\n                                \"type\": \"logic\"\r\n                            },\r\n                            \"x\": 79.45978483606555,\r\n                            \"y\": 319.81967213114757,\r\n                            \"ports\": [{\r\n                                \"id\": \"65ad99a6-a95e-4d8a-9a10-0b0837d57677\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 184.54791559938494,\r\n                                \"y\": 350.81558577740714,\r\n                                \"name\": \"True\",\r\n                                \"alignment\": \"right\",\r\n                                \"parentNode\": \"6ced9206-ae32-4b05-8853-71d9a11c2dfe\",\r\n                                \"links\": [\"84078498-b460-40ec-88f8-50f7e0a3d07d\"],\r\n                                \"in\": false,\r\n                                \"label\": \"True\"\r\n                            }, {\r\n                                \"id\": \"f2e4e772-5d44-4a2b-bc82-bcedd7145ef1\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 184.54791559938494,\r\n                                \"y\": 366.81558177510203,\r\n                                \"name\": \"False\",\r\n                                \"alignment\": \"right\",\r\n                                \"parentNode\": \"6ced9206-ae32-4b05-8853-71d9a11c2dfe\",\r\n                                \"links\": [],\r\n                                \"in\": false,\r\n                                \"label\": \"False\"\r\n                            }, {\r\n                                \"id\": \"6803560d-cf97-47f6-8ef6-51f22409db16\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 81.45413358094243,\r\n                                \"y\": 350.81558577740714,\r\n                                \"name\": \"trigger\",\r\n                                \"alignment\": \"left\",\r\n                                \"parentNode\": \"6ced9206-ae32-4b05-8853-71d9a11c2dfe\",\r\n                                \"links\": [\"70add750-063f-4dc5-a67f-a8c14fab60c1\"],\r\n                                \"in\": true,\r\n                                \"label\": \"trigger\"\r\n                            }, {\r\n                                \"id\": \"21c74953-b688-4c2a-8c36-32a7dc485d86\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 81.45413358094243,\r\n                                \"y\": 366.81558177510203,\r\n                                \"name\": \"x\",\r\n                                \"alignment\": \"left\",\r\n                                \"parentNode\": \"6ced9206-ae32-4b05-8853-71d9a11c2dfe\",\r\n                                \"links\": [\"fb8c0a43-5bf4-48e6-81d4-a368a5075dd6\"],\r\n                                \"in\": true,\r\n                                \"label\": \"x\"\r\n                            }, {\r\n                                \"id\": \"70460e22-0d44-4ec5-b440-018f7ed7e89e\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 81.45413358094243,\r\n                                \"y\": 382.8155777727967,\r\n                                \"name\": \"y\",\r\n                                \"alignment\": \"left\",\r\n                                \"parentNode\": \"6ced9206-ae32-4b05-8853-71d9a11c2dfe\",\r\n                                \"links\": [\"ff2344b3-09b0-458e-b229-dc8416a0db3c\"],\r\n                                \"in\": true,\r\n                                \"label\": \"y\"\r\n                            }],\r\n                            \"name\": \"Condition\",\r\n                            \"color\": \"grey\",\r\n                            \"portsInOrder\": [\"6803560d-cf97-47f6-8ef6-51f22409db16\", \"21c74953-b688-4c2a-8c36-32a7dc485d86\", \"70460e22-0d44-4ec5-b440-018f7ed7e89e\"],\r\n                            \"portsOutOrder\": [\"65ad99a6-a95e-4d8a-9a10-0b0837d57677\", \"f2e4e772-5d44-4a2b-bc82-bcedd7145ef1\"],\r\n                            \"content\": \">=\"\r\n                        },\r\n                        \"b7620813-1d70-4ec9-963d-0de893381809\": {\r\n                            \"id\": \"b7620813-1d70-4ec9-963d-0de893381809\",\r\n                            \"type\": \"MyEditable\",\r\n                            \"selected\": false,\r\n                            \"extras\": {\r\n                                \"type\": \"variable\"\r\n                            },\r\n                            \"x\": -103.49103483606554,\r\n                            \"y\": 435.88524590163934,\r\n                            \"ports\": [{\r\n                                \"id\": \"7b3fd1de-cfd1-45d3-b5d9-43139f9c591d\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 29.736174036244776,\r\n                                \"y\": 466.8847316054055,\r\n                                \"name\": \"int\",\r\n                                \"alignment\": \"right\",\r\n                                \"parentNode\": \"b7620813-1d70-4ec9-963d-0de893381809\",\r\n                                \"links\": [\"84078498-b460-40ec-88f8-50f7e0a3d07d\", \"47994c2c-7089-457e-852b-8840a735f92b\"],\r\n                                \"in\": false,\r\n                                \"label\": \"int\"\r\n                            }],\r\n                            \"name\": \"Constant Integer\",\r\n                            \"color\": \"purple\",\r\n                            \"portsInOrder\": [],\r\n                            \"portsOutOrder\": [\"7b3fd1de-cfd1-45d3-b5d9-43139f9c591d\"],\r\n                            \"content\": \"10\"\r\n                        },\r\n                        \"4fa142c2-b229-4294-be53-e35f2244affc\": {\r\n                            \"id\": \"4fa142c2-b229-4294-be53-e35f2244affc\",\r\n                            \"type\": \"MyEditable\",\r\n                            \"selected\": false,\r\n                            \"extras\": {\r\n                                \"type\": \"variable\"\r\n                            },\r\n                            \"x\": -116.27792008196724,\r\n                            \"y\": 301.13114754098353,\r\n                            \"ports\": [{\r\n                                \"id\": \"5d42ad8c-05da-4623-a573-447cfd67f313\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 16.942624951972277,\r\n                                \"y\": 332.1273013255633,\r\n                                \"name\": \"int\",\r\n                                \"alignment\": \"right\",\r\n                                \"parentNode\": \"4fa142c2-b229-4294-be53-e35f2244affc\",\r\n                                \"links\": [\"fb8c0a43-5bf4-48e6-81d4-a368a5075dd6\"],\r\n                                \"in\": false,\r\n                                \"label\": \"int\"\r\n                            }],\r\n                            \"name\": \"Constant Integer\",\r\n                            \"color\": \"purple\",\r\n                            \"portsInOrder\": [],\r\n                            \"portsOutOrder\": [\"5d42ad8c-05da-4623-a573-447cfd67f313\"],\r\n                            \"content\": \"25\"\r\n                        },\r\n                        \"d9469763-8e16-493a-ace1-5beb2a9143d0\": {\r\n                            \"id\": \"d9469763-8e16-493a-ace1-5beb2a9143d0\",\r\n                            \"type\": \"default\",\r\n                            \"selected\": false,\r\n                            \"extras\": {\r\n                                \"type\": \"component\",\r\n                                \"library\": \"Getter.h\"\r\n                            },\r\n                            \"x\": -108.4090676229508,\r\n                            \"y\": 385.72131147540983,\r\n                            \"ports\": [{\r\n                                \"id\": \"c67f8fa3-b522-42e0-8e73-363c0afbab50\",\r\n                                \"type\": \"default\",\r\n                                \"x\": -14.778176229508219,\r\n                                \"y\": 410.72055103739723,\r\n                                \"name\": \"getValue()\",\r\n                                \"alignment\": \"right\",\r\n                                \"parentNode\": \"d9469763-8e16-493a-ace1-5beb2a9143d0\",\r\n                                \"links\": [\"ff2344b3-09b0-458e-b229-dc8416a0db3c\"],\r\n                                \"in\": false,\r\n                                \"label\": \"getValue()\"\r\n                            }],\r\n                            \"name\": \"TemperatureSensor\",\r\n                            \"color\": \"blue\",\r\n                            \"portsInOrder\": [],\r\n                            \"portsOutOrder\": [\"c67f8fa3-b522-42e0-8e73-363c0afbab50\"]\r\n                        }\r\n                    }\r\n                }]\r\n            }\r\n        }\r\n    }, {\r\n        name: 'Single',\r\n        color: 'white',\r\n        extras: {\r\n            type: 'diagram',\r\n            diagram: {\r\n                \"id\": \"ef62da61-e1e0-4ac7-afb2-703ca4fb01a1\",\r\n                \"offsetX\": 0,\r\n                \"offsetY\": 0,\r\n                \"zoom\": 100,\r\n                \"gridSize\": 0,\r\n                \"layers\": [{\r\n                    \"id\": \"017b9bfb-6d1f-491e-8558-3b6232bf89d1\",\r\n                    \"type\": \"diagram-links\",\r\n                    \"isSvg\": true,\r\n                    \"transformed\": true,\r\n                    \"models\": {\r\n                        \"60953129-55d1-4b8c-90b8-3b5a1a2f9813\": {\r\n                            \"id\": \"60953129-55d1-4b8c-90b8-3b5a1a2f9813\",\r\n                            \"type\": \"default\",\r\n                            \"selected\": false,\r\n                            \"source\": \"b3c810a9-65b1-474b-868b-0565a6b1e4ed\",\r\n                            \"sourcePort\": \"4f79fef6-0094-49f5-a3ef-b6eb305bb07c\",\r\n                            \"target\": \"c4d9126f-08e8-4e4a-ab48-1c453a864b3c\",\r\n                            \"targetPort\": \"a0b5b58c-adab-4ba8-af1f-680aa5eae0af\",\r\n                            \"points\": [{\r\n                                \"id\": \"72e3e0af-cfb1-4c73-98b1-5c74f33e8382\",\r\n                                \"type\": \"point\",\r\n                                \"x\": 236.640625,\r\n                                \"y\": 127.5\r\n                            }, {\r\n                                \"id\": \"35245d16-99d2-4da3-81c8-4fd9e686d06f\",\r\n                                \"type\": \"point\",\r\n                                \"x\": 256.265625,\r\n                                \"y\": 260.5\r\n                            }],\r\n                            \"labels\": [],\r\n                            \"width\": 3,\r\n                            \"color\": \"gray\",\r\n                            \"curvyness\": 50,\r\n                            \"selectedColor\": \"rgb(0,192,255)\"\r\n                        },\r\n                        \"cea8d59f-e0ee-47f1-ae33-8c54b1d47c56\": {\r\n                            \"id\": \"cea8d59f-e0ee-47f1-ae33-8c54b1d47c56\",\r\n                            \"type\": \"default\",\r\n                            \"selected\": false,\r\n                            \"source\": \"c4d9126f-08e8-4e4a-ab48-1c453a864b3c\",\r\n                            \"sourcePort\": \"a0b5b58c-adab-4ba8-af1f-680aa5eae0af\",\r\n                            \"target\": \"9c72dd1a-65bb-47e0-a3a7-eb39a695aff7\",\r\n                            \"targetPort\": \"f7d82be0-7c73-494b-8f01-8b4aa8b56f76\",\r\n                            \"points\": [{\r\n                                \"id\": \"855e837c-7740-4400-a78e-d7ad81bec37e\",\r\n                                \"type\": \"point\",\r\n                                \"x\": 256.265625,\r\n                                \"y\": 260.5\r\n                            }, {\r\n                                \"id\": \"f9626f8a-6808-49d6-be7b-f09051ee043c\",\r\n                                \"type\": \"point\",\r\n                                \"x\": 484.234375,\r\n                                \"y\": 355.5\r\n                            }],\r\n                            \"labels\": [],\r\n                            \"width\": 3,\r\n                            \"color\": \"gray\",\r\n                            \"curvyness\": 50,\r\n                            \"selectedColor\": \"rgb(0,192,255)\"\r\n                        }\r\n                    }\r\n                }, {\r\n                    \"id\": \"e7421b15-ad31-441a-8a63-9416311d3fdc\",\r\n                    \"type\": \"diagram-nodes\",\r\n                    \"isSvg\": false,\r\n                    \"transformed\": true,\r\n                    \"models\": {\r\n                        \"b3c810a9-65b1-474b-868b-0565a6b1e4ed\": {\r\n                            \"id\": \"b3c810a9-65b1-474b-868b-0565a6b1e4ed\",\r\n                            \"type\": \"default\",\r\n                            \"extras\": {\r\n                                \"type\": \"controller\",\r\n                                \"analogPorts\": 6,\r\n                                \"digitalPorts\": 14\r\n                            },\r\n                            \"x\": 170.984375,\r\n                            \"y\": 95,\r\n                            \"ports\": [{\r\n                                \"id\": \"4f79fef6-0094-49f5-a3ef-b6eb305bb07c\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 229.140625,\r\n                                \"y\": 120,\r\n                                \"name\": \"setup()\",\r\n                                \"alignment\": \"right\",\r\n                                \"parentNode\": \"b3c810a9-65b1-474b-868b-0565a6b1e4ed\",\r\n                                \"links\": [\"60953129-55d1-4b8c-90b8-3b5a1a2f9813\"],\r\n                                \"in\": false,\r\n                                \"label\": \"setup()\"\r\n                            }, {\r\n                                \"id\": \"c3074eed-81aa-4265-89e4-b8a9e85dafa9\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 229.140625,\r\n                                \"y\": 136,\r\n                                \"name\": \"loop()\",\r\n                                \"alignment\": \"right\",\r\n                                \"parentNode\": \"b3c810a9-65b1-474b-868b-0565a6b1e4ed\",\r\n                                \"links\": [],\r\n                                \"in\": false,\r\n                                \"label\": \"loop()\"\r\n                            }],\r\n                            \"name\": \"Arduino Uno\",\r\n                            \"color\": \"green\",\r\n                            \"portsInOrder\": [],\r\n                            \"portsOutOrder\": [\"4f79fef6-0094-49f5-a3ef-b6eb305bb07c\", \"c3074eed-81aa-4265-89e4-b8a9e85dafa9\"]\r\n                        },\r\n                        \"c4d9126f-08e8-4e4a-ab48-1c453a864b3c\": {\r\n                            \"id\": \"c4d9126f-08e8-4e4a-ab48-1c453a864b3c\",\r\n                            \"type\": \"MyEditable\",\r\n                            \"selected\": true,\r\n                            \"extras\": {\r\n                                \"type\": \"port\"\r\n                            },\r\n                            \"x\": 151.984375,\r\n                            \"y\": 222,\r\n                            \"ports\": [{\r\n                                \"id\": \"a0b5b58c-adab-4ba8-af1f-680aa5eae0af\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 248.765625,\r\n                                \"y\": 253,\r\n                                \"name\": \"port\",\r\n                                \"alignment\": \"right\",\r\n                                \"parentNode\": \"c4d9126f-08e8-4e4a-ab48-1c453a864b3c\",\r\n                                \"links\": [\"60953129-55d1-4b8c-90b8-3b5a1a2f9813\", \"cea8d59f-e0ee-47f1-ae33-8c54b1d47c56\"],\r\n                                \"in\": false,\r\n                                \"label\": \"port\"\r\n                            }],\r\n                            \"name\": \"Digital Port\",\r\n                            \"color\": \"white\",\r\n                            \"portsInOrder\": [],\r\n                            \"portsOutOrder\": [\"a0b5b58c-adab-4ba8-af1f-680aa5eae0af\"],\r\n                            \"content\": \"1\"\r\n                        },\r\n                        \"9c72dd1a-65bb-47e0-a3a7-eb39a695aff7\": {\r\n                            \"id\": \"9c72dd1a-65bb-47e0-a3a7-eb39a695aff7\",\r\n                            \"type\": \"default\",\r\n                            \"extras\": {\r\n                                \"type\": \"component\",\r\n                                \"library\": \"Servo.h\"\r\n                            },\r\n                            \"x\": 182.984375,\r\n                            \"y\": 323,\r\n                            \"ports\": [{\r\n                                \"id\": \"f7d82be0-7c73-494b-8f01-8b4aa8b56f76\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 476.734375,\r\n                                \"y\": 348,\r\n                                \"name\": \"uint8_t attach(int)\",\r\n                                \"alignment\": \"right\",\r\n                                \"parentNode\": \"9c72dd1a-65bb-47e0-a3a7-eb39a695aff7\",\r\n                                \"links\": [\"cea8d59f-e0ee-47f1-ae33-8c54b1d47c56\"],\r\n                                \"in\": false,\r\n                                \"label\": \"uint8_t attach(int)\"\r\n                            }, {\r\n                                \"id\": \"084a1f94-55c5-4d0d-8a85-9742bd356f48\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 476.734375,\r\n                                \"y\": 368.5,\r\n                                \"name\": \"uint8_t attach(int, int, int)\",\r\n                                \"alignment\": \"right\",\r\n                                \"parentNode\": \"9c72dd1a-65bb-47e0-a3a7-eb39a695aff7\",\r\n                                \"links\": [],\r\n                                \"in\": false,\r\n                                \"label\": \"uint8_t attach(int, int, int)\"\r\n                            }, {\r\n                                \"id\": \"932f4c42-3dc5-4d1a-b011-9bea84ffc1cc\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 476.734375,\r\n                                \"y\": 389,\r\n                                \"name\": \"int read()\",\r\n                                \"alignment\": \"right\",\r\n                                \"parentNode\": \"9c72dd1a-65bb-47e0-a3a7-eb39a695aff7\",\r\n                                \"links\": [],\r\n                                \"in\": false,\r\n                                \"label\": \"int read()\"\r\n                            }, {\r\n                                \"id\": \"e87b2720-4147-4c67-881b-50a2527e49c5\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 476.734375,\r\n                                \"y\": 405,\r\n                                \"name\": \"int readMicroseconds()\",\r\n                                \"alignment\": \"right\",\r\n                                \"parentNode\": \"9c72dd1a-65bb-47e0-a3a7-eb39a695aff7\",\r\n                                \"links\": [],\r\n                                \"in\": false,\r\n                                \"label\": \"int readMicroseconds()\"\r\n                            }, {\r\n                                \"id\": \"beb0d0fa-3c4d-4a15-af9b-32da42bc70d8\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 476.734375,\r\n                                \"y\": 421,\r\n                                \"name\": \"bool attached()\",\r\n                                \"alignment\": \"right\",\r\n                                \"parentNode\": \"9c72dd1a-65bb-47e0-a3a7-eb39a695aff7\",\r\n                                \"links\": [],\r\n                                \"in\": false,\r\n                                \"label\": \"bool attached()\"\r\n                            }, {\r\n                                \"id\": \"b9667a7b-6558-4138-abb5-7e5c1925ac5b\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 184.984375,\r\n                                \"y\": 348,\r\n                                \"name\": \"void detach()\",\r\n                                \"alignment\": \"left\",\r\n                                \"parentNode\": \"9c72dd1a-65bb-47e0-a3a7-eb39a695aff7\",\r\n                                \"links\": [],\r\n                                \"in\": true,\r\n                                \"label\": \"void detach()\"\r\n                            }, {\r\n                                \"id\": \"b579c8ee-adae-463b-828a-327d8103fac2\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 184.984375,\r\n                                \"y\": 364,\r\n                                \"name\": \"void write(int)\",\r\n                                \"alignment\": \"left\",\r\n                                \"parentNode\": \"9c72dd1a-65bb-47e0-a3a7-eb39a695aff7\",\r\n                                \"links\": [],\r\n                                \"in\": true,\r\n                                \"label\": \"void write(int)\"\r\n                            }, {\r\n                                \"id\": \"28138d29-0c5b-4212-95fb-666f3f4ea9b6\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 184.984375,\r\n                                \"y\": 384.5,\r\n                                \"name\": \"void writeMicroseconds(int)\",\r\n                                \"alignment\": \"left\",\r\n                                \"parentNode\": \"9c72dd1a-65bb-47e0-a3a7-eb39a695aff7\",\r\n                                \"links\": [],\r\n                                \"in\": true,\r\n                                \"label\": \"void writeMicroseconds(int)\"\r\n                            }],\r\n                            \"name\": \"Servo\",\r\n                            \"color\": \"orange\",\r\n                            \"portsInOrder\": [\"b9667a7b-6558-4138-abb5-7e5c1925ac5b\", \"b579c8ee-adae-463b-828a-327d8103fac2\", \"28138d29-0c5b-4212-95fb-666f3f4ea9b6\"],\r\n                            \"portsOutOrder\": [\"f7d82be0-7c73-494b-8f01-8b4aa8b56f76\", \"084a1f94-55c5-4d0d-8a85-9742bd356f48\", \"932f4c42-3dc5-4d1a-b011-9bea84ffc1cc\", \"e87b2720-4147-4c67-881b-50a2527e49c5\", \"beb0d0fa-3c4d-4a15-af9b-32da42bc70d8\"]\r\n                        }\r\n                    }\r\n                }]\r\n            }\r\n        }\r\n    }, {\r\n        name: 'Dual',\r\n        color: 'white',\r\n        extras: {\r\n            type: 'diagram',\r\n            diagram: {\r\n                \"id\": \"6dff789f-db7f-4f24-be03-28997ed43786\",\r\n                \"offsetX\": 129,\r\n                \"offsetY\": -9,\r\n                \"zoom\": 100,\r\n                \"gridSize\": 0,\r\n                \"layers\": [{\r\n                    \"id\": \"957e1e25-857a-4363-b9b8-790d0b41110f\",\r\n                    \"type\": \"diagram-links\",\r\n                    \"isSvg\": true,\r\n                    \"transformed\": true,\r\n                    \"models\": {\r\n                        \"bd112d94-6c36-42a0-893c-6beb273131b5\": {\r\n                            \"id\": \"bd112d94-6c36-42a0-893c-6beb273131b5\",\r\n                            \"type\": \"default\",\r\n                            \"selected\": false,\r\n                            \"source\": \"8ebe7d92-a203-4ea4-b059-7efdddb4da22\",\r\n                            \"sourcePort\": \"e3cbc1b1-c387-4aff-812d-3ca5296aa7ec\",\r\n                            \"target\": \"70aa1cdf-17b9-4561-9c3e-51a1d5b1f349\",\r\n                            \"targetPort\": \"d4f254e0-dc17-4450-ad07-1c49937cd9ca\",\r\n                            \"points\": [{\r\n                                \"id\": \"b37f001b-0f31-4452-86f3-e7c65a54b05b\",\r\n                                \"type\": \"point\",\r\n                                \"x\": 134.640625,\r\n                                \"y\": 162.5\r\n                            }, {\r\n                                \"id\": \"b00141dd-ea09-4ec6-862a-f6b54c7c250f\",\r\n                                \"type\": \"point\",\r\n                                \"x\": 150.265625,\r\n                                \"y\": 362.5\r\n                            }],\r\n                            \"labels\": [],\r\n                            \"width\": 3,\r\n                            \"color\": \"gray\",\r\n                            \"curvyness\": 50,\r\n                            \"selectedColor\": \"rgb(0,192,255)\"\r\n                        },\r\n                        \"1bf7388c-43a8-49f3-a61d-f4ac47e304b5\": {\r\n                            \"id\": \"1bf7388c-43a8-49f3-a61d-f4ac47e304b5\",\r\n                            \"type\": \"default\",\r\n                            \"selected\": false,\r\n                            \"source\": \"70aa1cdf-17b9-4561-9c3e-51a1d5b1f349\",\r\n                            \"sourcePort\": \"d4f254e0-dc17-4450-ad07-1c49937cd9ca\",\r\n                            \"target\": \"75081baf-1bf6-49d0-ac15-43432e468aec\",\r\n                            \"targetPort\": \"e689be08-63fc-4aaf-95d1-4a2eb32bb6f7\",\r\n                            \"points\": [{\r\n                                \"id\": \"ad49ae6a-dab5-4797-97e1-22db353bbc71\",\r\n                                \"type\": \"point\",\r\n                                \"x\": 150.265625,\r\n                                \"y\": 362.5\r\n                            }, {\r\n                                \"id\": \"005518b2-8ddd-4ed9-935f-a4771906406f\",\r\n                                \"type\": \"point\",\r\n                                \"x\": 236.265625,\r\n                                \"y\": 502.5\r\n                            }],\r\n                            \"labels\": [],\r\n                            \"width\": 3,\r\n                            \"color\": \"gray\",\r\n                            \"curvyness\": 50,\r\n                            \"selectedColor\": \"rgb(0,192,255)\"\r\n                        },\r\n                        \"a795a318-edd5-48e3-b9d1-941c3b278347\": {\r\n                            \"id\": \"a795a318-edd5-48e3-b9d1-941c3b278347\",\r\n                            \"type\": \"default\",\r\n                            \"selected\": false,\r\n                            \"source\": \"75081baf-1bf6-49d0-ac15-43432e468aec\",\r\n                            \"sourcePort\": \"e689be08-63fc-4aaf-95d1-4a2eb32bb6f7\",\r\n                            \"target\": \"e526d93a-9272-4f58-9513-994d36004791\",\r\n                            \"targetPort\": \"8a5c2fbc-29c7-47b4-9d9a-82035187d90a\",\r\n                            \"points\": [{\r\n                                \"id\": \"4333421a-5a5b-48d8-9491-bf10afc9d253\",\r\n                                \"type\": \"point\",\r\n                                \"x\": 236.265625,\r\n                                \"y\": 502.5\r\n                            }, {\r\n                                \"id\": \"6050c60f-fa3f-4ea3-9aa1-07d8dbea185f\",\r\n                                \"type\": \"point\",\r\n                                \"x\": 287.203125,\r\n                                \"y\": 644.5\r\n                            }],\r\n                            \"labels\": [],\r\n                            \"width\": 3,\r\n                            \"color\": \"gray\",\r\n                            \"curvyness\": 50,\r\n                            \"selectedColor\": \"rgb(0,192,255)\"\r\n                        }\r\n                    }\r\n                }, {\r\n                    \"id\": \"70070360-f166-4432-9563-40c58f4b37d3\",\r\n                    \"type\": \"diagram-nodes\",\r\n                    \"isSvg\": false,\r\n                    \"transformed\": true,\r\n                    \"models\": {\r\n                        \"8ebe7d92-a203-4ea4-b059-7efdddb4da22\": {\r\n                            \"id\": \"8ebe7d92-a203-4ea4-b059-7efdddb4da22\",\r\n                            \"type\": \"default\",\r\n                            \"extras\": {\r\n                                \"type\": \"controller\",\r\n                                \"analogPorts\": 6,\r\n                                \"digitalPorts\": 14\r\n                            },\r\n                            \"x\": 68.984375,\r\n                            \"y\": 130,\r\n                            \"ports\": [{\r\n                                \"id\": \"e3cbc1b1-c387-4aff-812d-3ca5296aa7ec\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 127.140625,\r\n                                \"y\": 155,\r\n                                \"name\": \"setup()\",\r\n                                \"alignment\": \"right\",\r\n                                \"parentNode\": \"8ebe7d92-a203-4ea4-b059-7efdddb4da22\",\r\n                                \"links\": [\"bd112d94-6c36-42a0-893c-6beb273131b5\"],\r\n                                \"in\": false,\r\n                                \"label\": \"setup()\"\r\n                            }, {\r\n                                \"id\": \"cfeff148-524d-45a8-a5e2-776f0381b056\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 127.140625,\r\n                                \"y\": 171,\r\n                                \"name\": \"loop()\",\r\n                                \"alignment\": \"right\",\r\n                                \"parentNode\": \"8ebe7d92-a203-4ea4-b059-7efdddb4da22\",\r\n                                \"links\": [],\r\n                                \"in\": false,\r\n                                \"label\": \"loop()\"\r\n                            }],\r\n                            \"name\": \"Arduino Uno\",\r\n                            \"color\": \"green\",\r\n                            \"portsInOrder\": [],\r\n                            \"portsOutOrder\": [\"e3cbc1b1-c387-4aff-812d-3ca5296aa7ec\", \"cfeff148-524d-45a8-a5e2-776f0381b056\"]\r\n                        },\r\n                        \"70aa1cdf-17b9-4561-9c3e-51a1d5b1f349\": {\r\n                            \"id\": \"70aa1cdf-17b9-4561-9c3e-51a1d5b1f349\",\r\n                            \"type\": \"MyEditable\",\r\n                            \"selected\": false,\r\n                            \"extras\": {\r\n                                \"type\": \"port\"\r\n                            },\r\n                            \"x\": 45.984375,\r\n                            \"y\": 324,\r\n                            \"ports\": [{\r\n                                \"id\": \"d4f254e0-dc17-4450-ad07-1c49937cd9ca\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 142.765625,\r\n                                \"y\": 355,\r\n                                \"name\": \"port\",\r\n                                \"alignment\": \"right\",\r\n                                \"parentNode\": \"70aa1cdf-17b9-4561-9c3e-51a1d5b1f349\",\r\n                                \"links\": [\"bd112d94-6c36-42a0-893c-6beb273131b5\", \"1bf7388c-43a8-49f3-a61d-f4ac47e304b5\"],\r\n                                \"in\": false,\r\n                                \"label\": \"port\"\r\n                            }],\r\n                            \"name\": \"Digital Port\",\r\n                            \"color\": \"white\",\r\n                            \"portsInOrder\": [],\r\n                            \"portsOutOrder\": [\"d4f254e0-dc17-4450-ad07-1c49937cd9ca\"],\r\n                            \"content\": \"1\"\r\n                        },\r\n                        \"75081baf-1bf6-49d0-ac15-43432e468aec\": {\r\n                            \"id\": \"75081baf-1bf6-49d0-ac15-43432e468aec\",\r\n                            \"type\": \"MyEditable\",\r\n                            \"selected\": false,\r\n                            \"extras\": {\r\n                                \"type\": \"port\"\r\n                            },\r\n                            \"x\": 131.984375,\r\n                            \"y\": 464,\r\n                            \"ports\": [{\r\n                                \"id\": \"e689be08-63fc-4aaf-95d1-4a2eb32bb6f7\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 228.765625,\r\n                                \"y\": 495,\r\n                                \"name\": \"port\",\r\n                                \"alignment\": \"right\",\r\n                                \"parentNode\": \"75081baf-1bf6-49d0-ac15-43432e468aec\",\r\n                                \"links\": [\"1bf7388c-43a8-49f3-a61d-f4ac47e304b5\", \"a795a318-edd5-48e3-b9d1-941c3b278347\"],\r\n                                \"in\": false,\r\n                                \"label\": \"port\"\r\n                            }],\r\n                            \"name\": \"Digital Port\",\r\n                            \"color\": \"white\",\r\n                            \"portsInOrder\": [],\r\n                            \"portsOutOrder\": [\"e689be08-63fc-4aaf-95d1-4a2eb32bb6f7\"],\r\n                            \"content\": \"3\"\r\n                        },\r\n                        \"e526d93a-9272-4f58-9513-994d36004791\": {\r\n                            \"id\": \"e526d93a-9272-4f58-9513-994d36004791\",\r\n                            \"type\": \"default\",\r\n                            \"selected\": false,\r\n                            \"extras\": {\r\n                                \"type\": \"component\",\r\n                                \"library\": \"Servo.h\"\r\n                            },\r\n                            \"x\": -21.015625,\r\n                            \"y\": 596,\r\n                            \"ports\": [{\r\n                                \"id\": \"cc9e6e33-748a-4084-9ea1-30641e78c5b7\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 279.703125,\r\n                                \"y\": 621,\r\n                                \"name\": \"uint8_t attach(int)\",\r\n                                \"alignment\": \"right\",\r\n                                \"parentNode\": \"e526d93a-9272-4f58-9513-994d36004791\",\r\n                                \"links\": [],\r\n                                \"in\": false,\r\n                                \"label\": \"uint8_t attach(int)\"\r\n                            }, {\r\n                                \"id\": \"8a5c2fbc-29c7-47b4-9d9a-82035187d90a\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 279.703125,\r\n                                \"y\": 637,\r\n                                \"name\": \"uint8_t attach(int, int, int)\",\r\n                                \"alignment\": \"right\",\r\n                                \"parentNode\": \"e526d93a-9272-4f58-9513-994d36004791\",\r\n                                \"links\": [\"a795a318-edd5-48e3-b9d1-941c3b278347\"],\r\n                                \"in\": false,\r\n                                \"label\": \"uint8_t attach(int, int, int)\"\r\n                            }, {\r\n                                \"id\": \"55ea420d-ad10-4add-89fb-ebfee46d4c84\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 279.703125,\r\n                                \"y\": 653,\r\n                                \"name\": \"int read()\",\r\n                                \"alignment\": \"right\",\r\n                                \"parentNode\": \"e526d93a-9272-4f58-9513-994d36004791\",\r\n                                \"links\": [],\r\n                                \"in\": false,\r\n                                \"label\": \"int read()\"\r\n                            }, {\r\n                                \"id\": \"eeae8792-9784-413b-913f-1d4951ade7ed\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 279.703125,\r\n                                \"y\": 669,\r\n                                \"name\": \"int readMicroseconds()\",\r\n                                \"alignment\": \"right\",\r\n                                \"parentNode\": \"e526d93a-9272-4f58-9513-994d36004791\",\r\n                                \"links\": [],\r\n                                \"in\": false,\r\n                                \"label\": \"int readMicroseconds()\"\r\n                            }, {\r\n                                \"id\": \"258a047c-95ef-43bf-9d6b-ba10e8caa69e\",\r\n                                \"type\": \"default\",\r\n                                \"x\": 279.703125,\r\n                                \"y\": 685,\r\n                                \"name\": \"bool attached()\",\r\n                                \"alignment\": \"right\",\r\n                                \"parentNode\": \"e526d93a-9272-4f58-9513-994d36004791\",\r\n                                \"links\": [],\r\n                                \"in\": false,\r\n                                \"label\": \"bool attached()\"\r\n                            }, {\r\n                                \"id\": \"0ccf904b-23b6-40ff-a726-a64fadeffdcf\",\r\n                                \"type\": \"default\",\r\n                                \"x\": -19.015625,\r\n                                \"y\": 621,\r\n                                \"name\": \"void detach()\",\r\n                                \"alignment\": \"left\",\r\n                                \"parentNode\": \"e526d93a-9272-4f58-9513-994d36004791\",\r\n                                \"links\": [],\r\n                                \"in\": true,\r\n                                \"label\": \"void detach()\"\r\n                            }, {\r\n                                \"id\": \"c3b6e94c-c470-476f-be81-2695881afd37\",\r\n                                \"type\": \"default\",\r\n                                \"x\": -19.015625,\r\n                                \"y\": 637,\r\n                                \"name\": \"void write(int)\",\r\n                                \"alignment\": \"left\",\r\n                                \"parentNode\": \"e526d93a-9272-4f58-9513-994d36004791\",\r\n                                \"links\": [],\r\n                                \"in\": true,\r\n                                \"label\": \"void write(int)\"\r\n                            }, {\r\n                                \"id\": \"7771f65a-e690-4027-8566-644c7408424f\",\r\n                                \"type\": \"default\",\r\n                                \"x\": -19.015625,\r\n                                \"y\": 653,\r\n                                \"name\": \"void writeMicroseconds(int)\",\r\n                                \"alignment\": \"left\",\r\n                                \"parentNode\": \"e526d93a-9272-4f58-9513-994d36004791\",\r\n                                \"links\": [],\r\n                                \"in\": true,\r\n                                \"label\": \"void writeMicroseconds(int)\"\r\n                            }],\r\n                            \"name\": \"Servo\",\r\n                            \"color\": \"orange\",\r\n                            \"portsInOrder\": [\"0ccf904b-23b6-40ff-a726-a64fadeffdcf\", \"c3b6e94c-c470-476f-be81-2695881afd37\", \"7771f65a-e690-4027-8566-644c7408424f\"],\r\n                            \"portsOutOrder\": [\"cc9e6e33-748a-4084-9ea1-30641e78c5b7\", \"8a5c2fbc-29c7-47b4-9d9a-82035187d90a\", \"55ea420d-ad10-4add-89fb-ebfee46d4c84\", \"eeae8792-9784-413b-913f-1d4951ade7ed\", \"258a047c-95ef-43bf-9d6b-ba10e8caa69e\"]\r\n                        }\r\n                    }\r\n                }]\r\n            }\r\n        }\r\n    }\r\n]","import React, { useState, useRef, useCallback } from \"react\";\r\nimport Highlight, { defaultProps } from \"prism-react-renderer\";\r\nimport { useEditable } from \"use-editable\";\r\n\r\nconst Edit = () => {\r\n    const editorRef = useRef(null);\r\n    const [code, setCode] = useState(\r\n        'function test() {}\\n\\nconsole.log(\"hello\");'\r\n    );\r\n\r\n    const onEditableChange = useCallback((code) => {\r\n        setCode(code.slice(0, -1));\r\n    }, []);\r\n\r\n    useEditable(editorRef, onEditableChange, {\r\n        disabled: false,\r\n        indentation: 2\r\n    });\r\n\r\n    return (\r\n        <Highlight {...defaultProps} code={code} language=\"jsx\">\r\n            {({ className, style, tokens, getLineProps, getTokenProps }) => (\r\n                <pre className={className} style={style} ref={editorRef}>\r\n                    {tokens.map((line, i) => (\r\n                        <React.Fragment key={i}>\r\n                            {line\r\n                                .filter((token) => !token.empty)\r\n                                .map((token, key) => (\r\n                                    <span {...getTokenProps({ token, key })} />\r\n                                ))}\r\n                            {\"\\n\"}\r\n                        </React.Fragment>\r\n                    ))}\r\n                </pre>\r\n            )}\r\n        </Highlight>\r\n    );\r\n};\r\n\r\nexport default Edit;\r\n","import Prism from \"prismjs\";\r\nimport { useEffect } from \"react\";\r\nimport \"./prism.css\";\r\nimport PrismEdit from \"./PrismEdit\";\r\n\r\nfunction generateCode(model: any): string {\r\n    let code = ''\r\n    if (Object.keys(model).length === 0) {\r\n        return '// Empty Diagram!';\r\n    }\r\n    const links: any[] = []\r\n    Object.entries(model.layers[0].models).forEach((x: any) => {\r\n        links.push(x[1])\r\n    })\r\n    const nodes: any[] = []\r\n    const logics: any[] = []\r\n    const components: any[] = []\r\n    const controllers: any[] = []\r\n    const libraries: any[] = []\r\n\r\n    const usedDigital: number[] = []\r\n    const usedAnalog: number[] = []\r\n\r\n    // const functions: any[] = []\r\n\r\n    Object.entries(model.layers[1].models).forEach((x: any) => {\r\n        const n = x[1]\r\n        nodes.push(n)\r\n        switch (n.extras.type) {\r\n            case 'component':\r\n                n.instance = n.name.toLowerCase() + components.filter(c => c.extras.library === n.extras.library).length\r\n                components.push(n)\r\n                if (!libraries.includes(n.extras.library))\r\n                    libraries.push(n.extras.library)\r\n                break\r\n            case 'controller':\r\n                controllers.push(n)\r\n                break\r\n            case 'logic':\r\n                logics.push(n)\r\n                break\r\n        }\r\n    })\r\n\r\n    // console.log('Generating from model:', model, 'Parsed ', nodes, logics, components, controllers)\r\n\r\n    if (nodes.length === 0) return '// You need at least one Node!'\r\n    if (controllers.length === 0) return '// You need an Arduino!'\r\n    if (controllers.length > 1) return '// Only one Arduino allowed!'\r\n\r\n    let controller = controllers[0]\r\n\r\n    let add = (...message: string[]) => {\r\n        message.forEach((m) => {\r\n            code += m;\r\n        });\r\n        // console.log('----', code);\r\n        code += \"\\n\";\r\n    };\r\n    let addOnTop = (...message: string[]) => {\r\n        let top = ''\r\n        message.forEach((m) => {\r\n            top += m;\r\n        });\r\n        code = top + \"\\n\" + code\r\n    };\r\n\r\n    let getLink = (linkID: string) => {\r\n        return links.find(l => l.id === linkID)\r\n    }\r\n    let getPort = (nodeID: string, portID: string) => {\r\n        return nodes.find((n: any) => n.id === nodeID).ports\r\n            .find((p: any) => p.id === portID);\r\n    }\r\n    let getNode = (nodeID: string) => {\r\n        return nodes.find((n: any) => n.id === nodeID)\r\n    }\r\n    let getCoditionalValue = (conditionNode: any, portName: any): string => {\r\n        try {\r\n            let linkID = conditionNode.ports.find((p: any) => p.name === portName).links[0]\r\n            let link = getLink(linkID)\r\n            let port = getPort(link.source, link.sourcePort)\r\n            let parent = getParent(port)\r\n\r\n            if (['variable', 'port'].includes(parent.extras.type)) {\r\n                return parent.content\r\n            }\r\n            else if (['component'].includes(parent.extras.type)) {\r\n                return parent.instance + '.' + port.name\r\n            } else {\r\n                return 'Unknown extras.type'\r\n\r\n            }\r\n        } catch (error) {\r\n            return '/* Lacking Value */'\r\n        }\r\n    }\r\n    let getOutcome = (conditionNode: any, ifThis = 'True') => {\r\n        try {\r\n            let linkID = conditionNode.ports.find((p: any) => p.name === ifThis).links[0]\r\n            let link = getLink(linkID)\r\n            return getPort(link.target, link.targetPort)\r\n        } catch (error) {\r\n            return { label: '// Lacking Outcome' }\r\n        }\r\n    }\r\n    let getParent = (childNode: any) => {\r\n        return nodes.find((n: any) => n.id === childNode.parentNode)\r\n    }\r\n    let removeType = (name: string): string => {//todo: should accept multiple\r\n        return String(name.split(' ').slice(-1))\r\n    }\r\n\r\n    let callWithParameters = (node: any, ...contents: any) => {\r\n        contents.push(node.content)\r\n        node.ports.forEach((port: any) => {\r\n            port.links.forEach((l: any) => {\r\n                const link = getLink(l);\r\n                const toPort = getPort(link.target, link.targetPort)\r\n                const toNode = getNode(toPort.parentNode)\r\n                if (toNode.id === node.id) {\r\n                    //skip as it is the previous link\r\n                } else if (!toNode.instance) {//points to another variable/port\r\n                    callWithParameters(toNode, ...contents)\r\n                } else {//points to a class instance, we hope it is a method call\r\n                    //todo: check for parameter type and numbers\r\n                    add(toNode.instance + '.'\r\n                        + removeType(toPort.name.split(\"(\").shift())\r\n                        + '(' + contents + ')')\r\n                }\r\n            })\r\n        })\r\n    }\r\n\r\n    const processLink = (l: any) => {\r\n        const link = getLink(l);\r\n        const toPort = getPort(link.target, link.targetPort)\r\n        const toNode = getNode(toPort.parentNode)\r\n        const fromPort = getPort(link.source, link.sourcePort)\r\n        const fromNode = getNode(fromPort.parentNode)\r\n\r\n        if (toNode.name === \"Function\") {\r\n            console.log(toNode);\r\n            add(toNode.content, '(', ');')\r\n        } else if (toNode.name === \"Condition\") {\r\n            const xValue = getCoditionalValue(toNode, 'x')\r\n            const yValue = getCoditionalValue(toNode, 'y')\r\n\r\n            const outcome2 = getOutcome(toNode)\r\n            const toNode2 = getParent(outcome2)\r\n\r\n            const outcome3 = getOutcome(toNode, 'False')\r\n            const toNode3 = getParent(outcome3)\r\n\r\n            add('if (', xValue, ' ' + toNode.content + ' ', yValue, ') {')\r\n            if (toNode2) {\r\n                callWithParameters(toNode2)\r\n            } else {\r\n                add('/* Lacking code to be executed if conditional is true */')\r\n            }\r\n            if (toNode3) {\r\n                add('} else {')\r\n                callWithParameters(toNode3)\r\n            }\r\n            add(\"}\\n\");\r\n\r\n        } else {\r\n            if (['variable'].includes(toNode.extras.type)) {\r\n                callWithParameters(toNode)\r\n            } else if (['port'].includes(toNode.extras.type)) {\r\n                console.log('found port', toNode)\r\n                if (toNode.name.includes('Digital')) {\r\n                    console.log('it was digital');\r\n                    usedDigital.push(toNode.content)\r\n                } else {\r\n                    console.log('it was analog');\r\n                    usedAnalog.push(toNode.content)\r\n                }\r\n                callWithParameters(toNode)\r\n            } else {\r\n                if (toNode.instance) {\r\n                    add(toNode.instance + '.' + removeType(toPort.name))\r\n                } else {\r\n                    add(fromNode.instance + '.' + removeType(fromPort.name))\r\n                }\r\n            }\r\n        }\r\n    }\r\n    add('// Libraries')\r\n    libraries.forEach(lib => {\r\n        add('#include <' + lib + '>')\r\n    });\r\n\r\n    add('')\r\n\r\n    add('// Objects')\r\n    libraries.forEach(lib => {\r\n        components.forEach(comp => {\r\n            if (comp.extras.library === lib)\r\n                add(comp.name + ' ' + comp.instance)\r\n        });\r\n    });\r\n\r\n    add('// Functions')\r\n    logics.forEach(logic => {\r\n        if (logic.name === \"Function\") {\r\n            add('void ', logic.content, '() {')\r\n            console.log('logiccccc, ', logic)\r\n\r\n            let callPort = logic.ports.find((x: any) => x.alignment === 'right')\r\n\r\n\r\n\r\n            callPort.links.forEach((l: any) => {\r\n                processLink(l)\r\n            });\r\n\r\n            // const toNode = getNode(toPort.parentNode)\r\n\r\n            // const outcome2 = getOutcome(toNode)\r\n            // const toNode2 = getParent(outcome2)\r\n            // callWithParameters(toNode2)\r\n            console.log('port', callPort);\r\n\r\n\r\n            add('}')\r\n        }\r\n    });\r\n    add('')\r\n    add('// Micro-controller Lifecycle')\r\n\r\n\r\n\r\n\r\n    // let content: string | null = null\r\n    controller.ports.forEach((port: any) => {\r\n        add(port.label, \"{\");\r\n        port.links.forEach((l: any) => {\r\n            processLink(l)\r\n        })\r\n        add(\"}\\n\");\r\n    })\r\n\r\n    addOnTop(\"\")\r\n    addOnTop(`Digital ports ${usedDigital.length}/${controller.extras.digitalPorts} ${usedDigital.length > 0 ? `(${usedDigital})` : \"\"}`, \"*/\")\r\n    addOnTop(`Analog ports ${usedAnalog.length}/${controller.extras.analogPorts} ${usedAnalog.length > 0 ? `(${usedAnalog})` : \"\"} `)\r\n    addOnTop(\"/* Code generated for \", controller.name);\r\n\r\n    function indentCode(original: string) {\r\n        let code: any[] = [];\r\n        let level = 0;\r\n        let tab = \"    \";\r\n        original.split(\"\\n\").forEach((line) => {\r\n            if (line.includes(\"}\")) {\r\n                level--;\r\n            }\r\n            code.push(tab.repeat(level) + line);\r\n            if (line.includes(\"{\")) {\r\n                level++;\r\n            }\r\n        });\r\n        return code.join(\"\\n\");\r\n    }\r\n    return indentCode(code);\r\n}\r\nexport default function Code(props: { model: string }) {\r\n    console.log('CodeComponent render')\r\n    const model = props.model\r\n    let code = 'Initializing Generator'\r\n    if (model === \"{}\" || model === \"\") {\r\n        //\r\n    } else {\r\n        code = generateCode(JSON.parse(model))\r\n    }\r\n    useEffect(() => {\r\n        Prism.highlightAll();\r\n    }, [props])\r\n    return (\r\n        <>\r\n            <div className=\"Code\">\r\n                <pre >\r\n                    <code className=\"language-clike\">{code}</code>\r\n                </pre>\r\n            </div>\r\n            <PrismEdit />\r\n        </>\r\n    );\r\n}","import * as React from 'react';\r\nimport { TrayWidget } from './TrayWidget';\r\nimport { Application } from './Application';\r\nimport { TrayItemWidget } from './TrayItemWidget';\r\nimport { MyNodeModel } from './myNode/MyNodeModel';\r\nimport { CanvasWidget } from '@projectstorm/react-canvas-core';\r\nimport { DemoCanvasWidget } from './helpers/DemoCanvasWidget';\r\nimport styled from '@emotion/styled';\r\n// import { DiamondNodeModel } from './diamond/DiamondNodeModel';\r\n// import { EditableLabelModel } from './custom-label/EditableLabelModel';\r\n// import { DefaultNodeModel } from '@projectstorm/react-diagrams';\r\nimport { EditableNodeModel } from './custom-node/custom_nodes/editableNode/EditableNodeModel';\r\nimport { MyEditableNodeModel } from './editableNode/MyEditableNodeModel';\r\nimport paletteNodes from '../../paletteNodes';\r\nimport { useState } from 'react';\r\nimport Code from '../Code';\r\nexport interface BodyWidgetProps {\r\n\tapp: Application;\r\n}\r\n\r\nnamespace S {\r\n\texport const Body = styled.div`\r\n\t\tflex-grow: 1;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tmin-height: 100%;\r\n\t`;\r\n\r\n\texport const Header = styled.div`\r\n\t\tdisplay: flex;\r\n\t\tbackground: rgb(30, 30, 30);\r\n\t\tflex-grow: 0;\r\n\t\tflex-shrink: 0;\r\n\t\tcolor: white;\r\n\t\tfont-family: Helvetica, Arial, sans-serif;\r\n\t\tpadding: 10px;\r\n\t\talign-items: center;\r\n\t`;\r\n\r\n\texport const Content = styled.div`\r\n\t\tdisplay: flex;\r\n\t\tflex-grow: 1;\r\n\t`;\r\n\r\n\texport const Layer = styled.div`\r\n\t\tposition: relative;\r\n\t\tflex-grow: 1;\r\n\t`;\r\n}\r\nlet lastType = ''\r\n\r\n// extends React.Component < BodyWidgetProps >\r\nfunction BodyWidget(props: BodyWidgetProps) {\r\n\tconst [model, setModel] = useState(\"{}\")\r\n\tconst [rerender, setRerender] = React.useState(false);\r\n\r\n\tconst rawModel = props.app.getDiagramEngine().getModel().serialize()\r\n\tconst str = JSON.stringify(rawModel)\r\n\r\n\tif (str !== model) {\r\n\t\tsetModel(str);\r\n\t}\r\n\treturn (\r\n\t\t<div className=\"float-container\" >\r\n\t\t\t<div className=\"float-child-left\">\r\n\t\t\t\t<S.Body>\r\n\t\t\t\t\t<S.Content style={{ width: '100%', height: '100%' }}>\r\n\t\t\t\t\t\t<TrayWidget >\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tpaletteNodes.map((node) => {\r\n\t\t\t\t\t\t\t\t\tif (node.extras.type !== lastType) {\r\n\t\t\t\t\t\t\t\t\t\tlastType = node.extras.type\r\n\t\t\t\t\t\t\t\t\t\treturn <div key={node.name}>\r\n\t\t\t\t\t\t\t\t\t\t\t<p style={{ margin: \"10px\", fontSize: \"0.9em\" }}>{node.extras.type + 's'}:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<TrayItemWidget node={node} />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\treturn <TrayItemWidget key={node.name} node={node} />\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</TrayWidget>\r\n\t\t\t\t\t\t<S.Layer\r\n\t\t\t\t\t\t\tonDrop={(event) => {\r\n\t\t\t\t\t\t\t\tlet data = JSON.parse(event.dataTransfer.getData('storm-diagram-node'));\r\n\r\n\t\t\t\t\t\t\t\tif (data) {\r\n\t\t\t\t\t\t\t\t\tif (data.extras.type === \"diagram\") {\r\n\t\t\t\t\t\t\t\t\t\tprops.app.getActiveDiagram().deserializeModel(data.extras.diagram,\r\n\t\t\t\t\t\t\t\t\t\t\tprops.app.getDiagramEngine());\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tlet node: any = {};\r\n\t\t\t\t\t\t\t\t\t\tif (data.name === 'NodeEdit') {\r\n\t\t\t\t\t\t\t\t\t\t\tnode = new EditableNodeModel(\"Node1\");\r\n\t\t\t\t\t\t\t\t\t\t\tnode.setPosition(100, 200);\r\n\t\t\t\t\t\t\t\t\t\t} else if (data.extras.type === \"variable\") {\r\n\t\t\t\t\t\t\t\t\t\t\tnode = new MyEditableNodeModel(data.name, data.color, data.extras, data.ins, data.outs);\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('node', node)\r\n\t\t\t\t\t\t\t\t\t\t} else if (data.extras.type === 'port') {\r\n\t\t\t\t\t\t\t\t\t\t\tnode = new MyEditableNodeModel(data.name, data.color, data.extras, data.ins, data.outs);\r\n\t\t\t\t\t\t\t\t\t\t} else if (data.extras.type === \"logic\") {\r\n\t\t\t\t\t\t\t\t\t\t\tnode = new MyEditableNodeModel(data.name, data.color, data.extras, data.ins, data.outs);\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tnode = new MyNodeModel(data.name, data.color);\r\n\t\t\t\t\t\t\t\t\t\t\tnode.extras = data.extras\r\n\t\t\t\t\t\t\t\t\t\t\tdata.outs.forEach((method: string) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tnode.addOutPort(method)\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\tdata.ins.forEach((method: string) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tnode.addInPort(method)\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tnode.setPosition(props.app.getDiagramEngine().getRelativeMousePoint(event));\r\n\t\t\t\t\t\t\t\t\t\tprops.app.getDiagramEngine().getModel().addNode(node);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tsetRerender(!rerender);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonDragOver={(event: any) => {\r\n\t\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonClick={(event: any) => {\r\n\t\t\t\t\t\t\t\tsetRerender(!rerender);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div style={{ width: '100%', height: '100%' }}>\r\n\t\t\t\t\t\t\t\t<DemoCanvasWidget >\r\n\t\t\t\t\t\t\t\t\t<CanvasWidget engine={props.app.getDiagramEngine()} />\r\n\t\t\t\t\t\t\t\t</DemoCanvasWidget>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</S.Layer>\r\n\t\t\t\t\t</S.Content>\r\n\t\t\t\t</S.Body >\r\n\t\t\t</div>\r\n\t\t\t<div className=\"float-child-right\">\r\n\t\t\t\t<Code model={model} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n\r\n}\r\nexport default React.memo(BodyWidget)","import { LabelModel } from '@projectstorm/react-diagrams';\r\nimport { BaseModelOptions, DeserializeEvent } from '@projectstorm/react-canvas-core';\r\n\r\nexport interface EditableLabelOptions extends BaseModelOptions {\r\n\tvalue?: string;\r\n}\r\n\r\nexport class EditableLabelModel extends LabelModel {\r\n\tvalue: string;\r\n\r\n\tconstructor(options: EditableLabelOptions = {}) {\r\n\t\tsuper({\r\n\t\t\t...options,\r\n\t\t\ttype: 'editable-label'\r\n\t\t});\r\n\t\tthis.value = options.value || '';\r\n\t}\r\n\r\n\tserialize() {\r\n\t\treturn {\r\n\t\t\t...super.serialize(),\r\n\t\t\tvalue: this.value\r\n\t\t};\r\n\t}\r\n\r\n\tdeserialize(event: DeserializeEvent<this>): void {\r\n\t\tsuper.deserialize(event);\r\n\t\tthis.value = event.data.value;\r\n\t}\r\n}\r\n","import * as React from 'react';\r\n\r\nimport { EditableLabelModel } from './EditableLabelModel';\r\nimport styled from '@emotion/styled';\r\nimport { action } from '@storybook/addon-actions';\r\n\r\nexport interface FlowAliasLabelWidgetProps {\r\n\tmodel: EditableLabelModel;\r\n}\r\n\r\nnamespace S {\r\n\t// NOTE: this CSS rules allows to interact with elements in label\r\n\texport const Label = styled.div`\r\n\t\tuser-select: none;\r\n\t\tpointer-events: auto;\r\n\t`;\r\n}\r\n\r\n// now we can render all what we want in the label\r\nexport const EditableLabelWidget: React.FunctionComponent<FlowAliasLabelWidgetProps> = (props) => {\r\n\tconst [str, setStr] = React.useState(props.model.value);\r\n\r\n\treturn (\r\n\t\t<S.Label>\r\n\t\t\t<input\r\n\t\t\t\tvalue={str}\r\n\t\t\t\tonChange={(event) => {\r\n\t\t\t\t\tconst newVal = event.target.value;\r\n\r\n\t\t\t\t\t// update value both in internal component state\r\n\t\t\t\t\tsetStr(newVal);\r\n\t\t\t\t\t// and in model object\r\n\t\t\t\t\tprops.model.value = newVal;\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\r\n\t\t\t<button onClick={() => action('model eventDidFire')('You clicked the button')}>Click me!</button>\r\n\t\t</S.Label>\r\n\t);\r\n};\r\n","import * as React from 'react';\r\nimport { AbstractReactFactory, GenerateWidgetEvent } from '@projectstorm/react-canvas-core';\r\nimport { DiagramEngine } from '@projectstorm/react-diagrams';\r\n\r\nimport { EditableLabelModel } from './EditableLabelModel';\r\nimport { EditableLabelWidget } from './EditableLabelWidget';\r\n\r\nexport class EditableLabelFactory extends AbstractReactFactory<EditableLabelModel, DiagramEngine> {\r\n\tconstructor() {\r\n\t\tsuper('editable-label');\r\n\t}\r\n\r\n\tgenerateModel(): EditableLabelModel {\r\n\t\treturn new EditableLabelModel();\r\n\t}\r\n\r\n\tgenerateReactWidget(event: GenerateWidgetEvent<EditableLabelModel>): JSX.Element {\r\n\t\treturn <EditableLabelWidget model={event.model} />;\r\n\t}\r\n}\r\n","import * as React from \"react\";\r\nimport AutosizeInput from 'react-input-autosize';\r\n\r\nexport interface IEditableSingleFieldProps {\r\n  beingEdited: boolean;\r\n  content: string;\r\n  onChange: (evt: React.FormEvent<HTMLInputElement>) => void;\r\n  onBlurOrEnter: () => void;\r\n  editingKey: string;\r\n  elementKey: string;\r\n  isAbstract?: boolean;\r\n}\r\n\r\nexport interface IEditableSingleFieldState { }\r\n\r\n// interface EditorInterface {\r\n//   content: string;\r\n//   onChange: () => any;\r\n// }\r\nconst Editor = ({\r\n  content,\r\n  onChange,\r\n  onBlurOrEnter,\r\n}: {\r\n  content: string;\r\n  onChange: (evt: React.FormEvent<HTMLInputElement>) => void;\r\n  onBlurOrEnter: () => void;\r\n}) => {\r\n  return (\r\n    <AutosizeInput\r\n      autoFocus\r\n      inputStyle={{\r\n        padding: 1,\r\n        borderStyle: \"dotted\",\r\n        borderWidth: 1,\r\n        borderColor: \"black\"\r\n      }}\r\n      type=\"text\"\r\n      value={content}\r\n      onChange={onChange}\r\n      onBlur={onBlurOrEnter}\r\n      onKeyDown={(event: any) => {\r\n        if (event.keyCode === 13) onBlurOrEnter();\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default class EditableSingleField extends React.Component<\r\n  IEditableSingleFieldProps,\r\n  IEditableSingleFieldState\r\n> {\r\n  constructor(props: IEditableSingleFieldProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <div>\r\n        {this.props.beingEdited &&\r\n          this.props.editingKey === this.props.elementKey ? (\r\n          <Editor\r\n            content={this.props.content}\r\n            onChange={this.props.onChange}\r\n            onBlurOrEnter={this.props.onBlurOrEnter}\r\n          />\r\n        ) : (\r\n          <p\r\n            style={{\r\n              margin: 0,\r\n              padding: 0,\r\n              fontStyle: this.props.isAbstract ? \"italic\" : \"normal\"\r\n            }}\r\n          >\r\n            {this.props.content}\r\n          </p>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","//@ts-nocheck\r\nimport * as React from \"react\";\r\nimport { EditableNodeModel } from \"./EditableNodeModel\";\r\nimport \"./EditableNodeWidgedStyle.css\";\r\nimport EditableSingleField from \"../../custom_components/EditableSingleField\";\r\nimport { PortWidget, DiagramEngine, PortModelAlignment } from \"@projectstorm/react-diagrams\";\r\nexport interface EditableWidgetProps {\r\n  nodeModel: EditableNodeModel;\r\n  engine: DiagramEngine\r\n}\r\n\r\nexport interface EditableWidgetState {\r\n  content: string;\r\n  height: number;\r\n  width: number;\r\n  editingSomething: boolean;\r\n  editingKey: string;\r\n}\r\n\r\n// interface ContextInformation {\r\n//   context: string;\r\n//   entity: string;\r\n// }\r\n// interface AtributeInformation {\r\n//   atribute: string;\r\n// }\r\n\r\nexport class EditableNodeWidget extends React.Component<\r\n  EditableWidgetProps,\r\n  EditableWidgetState\r\n> {\r\n  private divElement: HTMLDivElement;\r\n\r\n  constructor(props: EditableWidgetProps) {\r\n    super(props);\r\n    this.state = {\r\n      content: \"\",\r\n      height: 0,\r\n      width: 0,\r\n      editingSomething: false,\r\n      editingKey: \"\"\r\n    };\r\n\r\n    //binding the methods to this element\r\n    this._editableObjectDoubleClick = this._editableObjectDoubleClick.bind(this);\r\n    this._contentOnChange = this._contentOnChange.bind(this);\r\n    this._onBlurOrEnter = this._onBlurOrEnter.bind(this);\r\n  }\r\n\r\n\r\n  /**\r\n   * Pass this on onDoubleClick.\r\n   * You change the states to make the fields know it's in edit mode, and tell who is in the edit mode\r\n   */\r\n  _editableObjectDoubleClick = (content: string) => {\r\n    if (this.state.editingSomething) return;\r\n    this.setState({\r\n      editingSomething: true,\r\n      editingKey: content\r\n    });\r\n  };\r\n\r\n  /**\r\n   * What you'll do when the content is changed\r\n   * Usually, you update the model and the state\r\n   */\r\n  _contentOnChange = (evt: React.FormEvent<HTMLInputElement>) => {\r\n    this.props.nodeModel.content = evt.currentTarget.value;\r\n    this.setState({ content: evt.currentTarget.value });\r\n  };\r\n\r\n  /**\r\n   * What you will do when the InputField lost focus or you press enter\r\n   * Usually, you change the states to make the fields know it's not in edit mode\r\n   */\r\n  _onBlurOrEnter = () => {\r\n    this.setState({\r\n      editingSomething: false,\r\n      editingKey: \"\"\r\n    });\r\n  };\r\n\r\n  /**\r\n   * copy atributes from nodeModel\r\n   */\r\n  UNSAFE_componentWillMount() {\r\n    const content = this.props.nodeModel.content;\r\n    this.setState({ content });\r\n  }\r\n\r\n  /**\r\n   * Change the width and height values of the element, to put the ports on right place\r\n   */\r\n  componentDidMount() {\r\n    const height = this.divElement.clientHeight;\r\n    const width = this.divElement.clientWidth;\r\n    this.setState({ height, width });\r\n  }\r\n  componentDidUpdate() {\r\n    const height = this.divElement.clientHeight;\r\n    const width = this.divElement.clientWidth;\r\n    if (this.state.height !== height || this.state.width !== width)\r\n      this.setState({ height, width });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        ref={divElement => (this.divElement = divElement)}\r\n        className={\"editable-node\"}\r\n      >\r\n        <div className=\"editable-border\">\r\n          <div className=\"editable-header\">\r\n            <div\r\n              onDoubleClick={() => {\r\n                this._editableObjectDoubleClick(\"content\");\r\n              }}>\r\n              <EditableSingleField\r\n                elementKey=\"content\"\r\n                editingKey={this.state.editingKey}\r\n                beingEdited={this.state.editingSomething}\r\n                content={this.props.nodeModel.content}\r\n                onChange={this._contentOnChange}\r\n                onBlurOrEnter={this._onBlurOrEnter}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div\r\n          style={{\r\n            position: \"absolute\",\r\n            zIndex: 10,\r\n            background: \"rgba(0,0,250,0.5)\",\r\n            left: -15, //old: -8\r\n            top: this.state.height / 2 - 8\r\n          }}\r\n        >\r\n          <PortWidget style={{ width: 15, height: 15 }} port={this.props.nodeModel.getPort(PortModelAlignment.LEFT)} engine={this.props.engine} />\r\n        </div>\r\n        <div\r\n          style={{\r\n            position: \"absolute\",\r\n            zIndex: 10,\r\n            background: \"rgba(0,0,250,0.5)\",\r\n            left: this.state.width, //old: this.state.width - 8,\r\n            top: this.state.height / 2 - 8\r\n          }}\r\n        >\r\n          <PortWidget style={{ width: 15, height: 15 }} port={this.props.nodeModel.getPort(PortModelAlignment.RIGHT)} engine={this.props.engine} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import { EditableNodeWidget } from \"./EditableNodeWidget\";\r\nimport { EditableNodeModel } from \"./EditableNodeModel\";\r\nimport { AbstractReactFactory } from '@projectstorm/react-canvas-core'\r\nimport { DiagramEngine } from \"@projectstorm/react-diagrams\";\r\n\r\nexport class EditableNodeFactory extends AbstractReactFactory<EditableNodeModel, DiagramEngine> {\r\n\tgenerateModel(event: import(\"@projectstorm/react-canvas-core\").GenerateModelEvent): EditableNodeModel {\r\n\t\treturn new EditableNodeModel(\"Class\");\r\n\t}\r\n\tconstructor() {\r\n\t\tsuper(\"Editable\");\r\n\t}\r\n\r\n\tgenerateReactWidget(event: { model: EditableNodeModel }): JSX.Element {\r\n\t\treturn <EditableNodeWidget nodeModel={event.model} engine={this.engine} />;\r\n\t}\r\n}\r\n","// @ts-nocheck\r\nimport * as React from 'react';\r\nimport { DiamondNodeModel } from './DiamondNodeModel';\r\nimport { DiagramEngine, PortModelAlignment, PortWidget } from '@projectstorm/react-diagrams';\r\nimport styled from '@emotion/styled';\r\n\r\n\r\nexport interface DiamondNodeWidgetProps {\r\n\tnode: DiamondNodeModel;\r\n\tengine: DiagramEngine;\r\n\tsize?: number;\r\n}\r\n\r\nnamespace S {\r\n\texport const Port = styled.div`\r\n\t\twidth: 16px;\r\n\t\theight: 16px;\r\n\t\tz-index: 10;\r\n\t\tbackground: rgba(0, 0, 0, 0.5);\r\n\t\tborder-radius: 8px;\r\n\t\tcursor: pointer;\r\n\r\n\t\t&:hover {\r\n\t\t\tbackground: rgba(0, 0, 0, 1);\r\n\t\t}\r\n\t`;\r\n}\r\n\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nexport class DiamondNodeWidget extends React.Component<DiamondNodeWidgetProps> {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tclassName={'diamond-node'}\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tposition: 'relative',\r\n\t\t\t\t\twidth: this.props.size,\r\n\t\t\t\t\theight: this.props.size\r\n\t\t\t\t}}>\r\n\t\t\t\t<svg\r\n\t\t\t\t\twidth={this.props.size}\r\n\t\t\t\t\theight={this.props.size}\r\n\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t__html:\r\n\t\t\t\t\t\t\t`\r\n          <g id=\"Layer_1\">\r\n          </g>\r\n          <g id=\"Layer_2\">\r\n            <polygon fill=\"mediumpurple\" stroke=\"${this.props.node.isSelected() ? 'white' : '#000000'\r\n\t\t\t\t\t\t\t}\" stroke-width=\"3\" stroke-miterlimit=\"10\" points=\"10,` +\r\n\t\t\t\t\t\t\tthis.props.size / 2 +\r\n\t\t\t\t\t\t\t` ` +\r\n\t\t\t\t\t\t\tthis.props.size / 2 +\r\n\t\t\t\t\t\t\t`,10 ` +\r\n\t\t\t\t\t\t\t(this.props.size - 10) +\r\n\t\t\t\t\t\t\t`,` +\r\n\t\t\t\t\t\t\tthis.props.size / 2 +\r\n\t\t\t\t\t\t\t` ` +\r\n\t\t\t\t\t\t\tthis.props.size / 2 +\r\n\t\t\t\t\t\t\t`,` +\r\n\t\t\t\t\t\t\t(this.props.size - 10) +\r\n\t\t\t\t\t\t\t` \"/>\r\n          </g>\r\n        `\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<PortWidget\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\ttop: this.props.size / 2 - 8,\r\n\t\t\t\t\t\tleft: -8,\r\n\t\t\t\t\t\tposition: 'absolute'\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tport={this.props.node.getPort(PortModelAlignment.LEFT)}\r\n\t\t\t\t\tengine={this.props.engine}>\r\n\t\t\t\t\t<S.Port />\r\n\t\t\t\t</PortWidget>\r\n\t\t\t\t<PortWidget\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tleft: this.props.size / 2 - 8,\r\n\t\t\t\t\t\ttop: -8,\r\n\t\t\t\t\t\tposition: 'absolute'\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tport={this.props.node.getPort(PortModelAlignment.TOP)}\r\n\t\t\t\t\tengine={this.props.engine}>\r\n\t\t\t\t\t<S.Port />\r\n\t\t\t\t</PortWidget>\r\n\t\t\t\t<PortWidget\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tleft: this.props.size - 8,\r\n\t\t\t\t\t\ttop: this.props.size / 2 - 8,\r\n\t\t\t\t\t\tposition: 'absolute'\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tport={this.props.node.getPort(PortModelAlignment.RIGHT)}\r\n\t\t\t\t\tengine={this.props.engine}>\r\n\t\t\t\t\t<S.Port />\r\n\t\t\t\t</PortWidget>\r\n\t\t\t\t<PortWidget\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tleft: this.props.size / 2 - 8,\r\n\t\t\t\t\t\ttop: this.props.size - 8,\r\n\t\t\t\t\t\tposition: 'absolute'\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tport={this.props.node.getPort(PortModelAlignment.BOTTOM)}\r\n\t\t\t\t\tengine={this.props.engine}>\r\n\t\t\t\t\t<S.Port />\r\n\t\t\t\t</PortWidget>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import { LinkModel, PortModel, DefaultLinkModel, PortModelAlignment } from '@projectstorm/react-diagrams';\r\n\r\nexport class DiamondPortModel extends PortModel {\r\n\tconstructor(alignment: PortModelAlignment) {\r\n\t\tsuper({\r\n\t\t\ttype: 'diamond',\r\n\t\t\tname: alignment,\r\n\t\t\talignment: alignment\r\n\t\t});\r\n\t}\r\n\r\n\tcreateLinkModel(): LinkModel {\r\n\t\treturn new DefaultLinkModel();\r\n\t}\r\n}\r\n","import { NodeModel, NodeModelGenerics, PortModelAlignment } from '@projectstorm/react-diagrams';\r\nimport { DiamondPortModel } from './DiamondPortModel';\r\n\r\nexport interface DiamondNodeModelGenerics {\r\n\tPORT: DiamondPortModel;\r\n}\r\n\r\nexport class DiamondNodeModel extends NodeModel<NodeModelGenerics & DiamondNodeModelGenerics> {\r\n\tsetPosition(arg0: any) {\r\n\t\tthrow new Error('Method not implemented.');\r\n\t}\r\n\tconstructor() {\r\n\t\tsuper({\r\n\t\t\ttype: 'diamond'\r\n\t\t});\r\n\t\tthis.addPort(new DiamondPortModel(PortModelAlignment.TOP));\r\n\t\tthis.addPort(new DiamondPortModel(PortModelAlignment.LEFT));\r\n\t\tthis.addPort(new DiamondPortModel(PortModelAlignment.BOTTOM));\r\n\t\tthis.addPort(new DiamondPortModel(PortModelAlignment.RIGHT));\r\n\t}\r\n}\r\n","import { DiamondNodeWidget } from './DiamondNodeWidget';\r\nimport { DiamondNodeModel } from './DiamondNodeModel';\r\nimport * as React from 'react';\r\nimport { AbstractReactFactory } from '@projectstorm/react-canvas-core';\r\nimport { DiagramEngine } from '@projectstorm/react-diagrams-core';\r\n\r\nexport class DiamondNodeFactory extends AbstractReactFactory<DiamondNodeModel, DiagramEngine> {\r\n\tconstructor() {\r\n\t\tsuper('diamond');\r\n\t}\r\n\r\n\tgenerateReactWidget(event: any): JSX.Element {\r\n\t\treturn <DiamondNodeWidget engine={this.engine} size={50} node={event.model} />;\r\n\t}\r\n\r\n\tgenerateModel(event: any) {\r\n\t\treturn new DiamondNodeModel();\r\n\t}\r\n}\r\n","import { DiagramEngine, PortModel } from '@projectstorm/react-diagrams';\r\nimport { AbstractModelFactory } from '@projectstorm/react-canvas-core';\r\n\r\nexport class SimplePortFactory extends AbstractModelFactory<PortModel, DiagramEngine> {\r\n\tcb: (initialConfig?: any) => PortModel;\r\n\r\n\tconstructor(type: string, cb: (initialConfig?: any) => PortModel) {\r\n\t\tsuper(type);\r\n\t\tthis.cb = cb;\r\n\t}\r\n\r\n\tgenerateModel(event: any): PortModel {\r\n\t\treturn this.cb(event.initialConfig);\r\n\t}\r\n}\r\n","import * as React from \"react\";\r\n\r\nexport interface ISelectableFieldProps {\r\n  beingEdited: boolean;\r\n  options: Array<string>\r\n  content: string;\r\n  onChange: (evt: React.ChangeEvent<HTMLSelectElement>) => void;\r\n  onBlurOrEnter: () => void;\r\n  editingKey: string;\r\n  elementKey: string;\r\n  isAbstract?: boolean;\r\n}\r\n\r\nexport interface ISelectableFieldState { }\r\n\r\nconst Editor = ({\r\n  content,\r\n  onChange,\r\n  onBlurOrEnter,\r\n  options\r\n}: {\r\n  content: string;\r\n  onChange: (evt: React.ChangeEvent<HTMLSelectElement>) => void;\r\n  onBlurOrEnter: () => void;\r\n  options: Array<string>;\r\n}) => {\r\n  return (\r\n\r\n    <select name=\"values\" id=\"values\"\r\n      value={content}\r\n      onChange={onChange}\r\n      onBlur={onBlurOrEnter}\r\n    >\r\n      {\r\n        options.map((x, y) =>\r\n          <option key={y}>{x}</option>)\r\n      }\r\n    </select>\r\n  );\r\n};\r\n\r\nexport default class SelectableField extends React.Component<\r\n  ISelectableFieldProps,\r\n  ISelectableFieldState\r\n> {\r\n  constructor(props: ISelectableFieldProps) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <div>\r\n        {this.props.beingEdited &&\r\n          this.props.editingKey === this.props.elementKey ? (\r\n          <Editor\r\n            content={this.props.content}\r\n            onChange={this.props.onChange}\r\n            onBlurOrEnter={this.props.onBlurOrEnter}\r\n            options={this.props.options}\r\n          />\r\n        ) : (\r\n          <p\r\n            style={{\r\n              margin: 0,\r\n              padding: 0,\r\n              fontStyle: this.props.isAbstract ? \"italic\" : \"normal\"\r\n            }}\r\n          >\r\n            {this.props.content}\r\n          </p>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","//@ts-nocheck\r\nimport * as React from \"react\";\r\nimport { MyEditableNodeModel } from \"./MyEditableNodeModel\";\r\nimport \"./MyEditableNodeWidgedStyle.css\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { PortWidget, DiagramEngine, PortModelAlignment, DefaultPortLabel } from \"@projectstorm/react-diagrams\";\r\nimport styled from '@emotion/styled';\r\n\r\nimport EditableSingleField from \"../custom-node/custom_components/EditableSingleField\";\r\nimport SelectableField from \"../custom-node/custom_components/SelectableField\";\r\n\r\nnamespace S {\r\n  export const Node = styled.div<{ background: string; selected: boolean }>`\r\n\t\tbackground-color: ${(p) => p.background};\r\n\t\tborder-radius: 5px;\r\n\t\tfont-family: sans-serif;\r\n\t\tcolor: white;\r\n\t\tborder: solid 2px black;\r\n\t\toverflow: visible;\r\n\t\tfont-size: 11px;\r\n\t\tborder: solid 2px ${(p) => (p.selected ? 'rgb(0,192,255)' : 'black')};\r\n\t`;\r\n\r\n  export const Title = styled.div`\r\n\t\tbackground: rgba(0, 0, 0, 0.3);\r\n\t\tdisplay: flex;\r\n\t\twhite-space: nowrap;\r\n\t\tjustify-items: center;\r\n\t`;\r\n\r\n  export const TitleName = styled.div`\r\n\t\tflex-grow: 1;\r\n\t\tpadding: 5px 5px;\r\n\t`;\r\n\r\n  export const Ports = styled.div`\r\n\t\tdisplay: flex;\r\n\t\tbackground-image: linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.2));\r\n\t`;\r\n\r\n  export const PortsContainer = styled.div`\r\n\t\tflex-grow: 1;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\r\n\t\t&:first-of-type {\r\n\t\t\tmargin-right: 10px;\r\n\t\t}\r\n\r\n\t\t&:only-child {\r\n\t\t\tmargin-right: 0px;\r\n\t\t}\r\n\t`;\r\n}\r\n\r\nexport interface MyEditableWidgetProps {\r\n  nodeModel: MyEditableNodeModel;\r\n  engine: DiagramEngine\r\n}\r\n\r\nexport interface MyEditableWidgetState {\r\n  content: string;\r\n  height: number;\r\n  width: number;\r\n  editingSomething: boolean;\r\n  editingKey: string;\r\n}\r\nexport class MyEditableNodeWidget extends React.Component<\r\n  MyEditableWidgetProps,\r\n  MyEditableWidgetState\r\n> {\r\n  private divElement: HTMLDivElement;\r\n\r\n  constructor(props: MyEditableWidgetProps) {\r\n    super(props);\r\n    this.state = {\r\n      content: \"\",\r\n      variableType: '',\r\n      editingSomething: false,\r\n      editingKey: \"\"\r\n    };\r\n\r\n    //binding the methods to this element\r\n    this._editableObjectDoubleClick = this._editableObjectDoubleClick.bind(this);\r\n    this._contentOnChange = this._contentOnChange.bind(this);\r\n    this._onBlurOrEnter = this._onBlurOrEnter.bind(this);\r\n  }\r\n  generatePort = (port) => {\r\n    return <DefaultPortLabel engine={this.props.engine} port={port} key={port.getID()} />;\r\n  };\r\n\r\n  /**\r\n   * Pass this on onDoubleClick.\r\n   * You change the states to make the fields know it's in edit mode, and tell who is in the edit mode\r\n   */\r\n  _editableObjectDoubleClick = (content: string) => {\r\n    if (this.state.editingSomething) return;\r\n    this.setState({\r\n      editingSomething: true,\r\n      editingKey: content\r\n    });\r\n  };\r\n\r\n  /**\r\n   * What you'll do when the content is changed\r\n   * Usually, you update the model and the state\r\n   */\r\n  _contentOnChange = (evt: React.FormEvent<HTMLInputElement>) => {\r\n    this.props.nodeModel.content = evt.currentTarget.value;\r\n    this.setState({ content: evt.currentTarget.value });\r\n  };\r\n\r\n  /**\r\n   * What you will do when the InputField lost focus or you press enter\r\n   * Usually, you change the states to make the fields know it's not in edit mode\r\n   */\r\n  _onBlurOrEnter = () => {\r\n    this.setState({\r\n      editingSomething: false,\r\n      editingKey: \"\"\r\n    });\r\n  };\r\n\r\n  /**\r\n   * copy atributes from nodeModel\r\n   */\r\n  UNSAFE_componentWillMount() {\r\n\r\n    this.setState({\r\n      content: this.props.nodeModel.content\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <S.Node\r\n        data-default-node-name={this.props.nodeModel.getOptions().name}\r\n        selected={this.props.nodeModel.isSelected()}\r\n        background={this.props.nodeModel.getOptions().color}>\r\n        <S.Title>\r\n          <S.TitleName>{this.props.nodeModel.getOptions().name}:\r\n          </S.TitleName>\r\n          <div className={\"editable-node\"}\r\n            ref={divElement => (this.divElement = divElement)}>\r\n            <div className=\"editable-border\">\r\n              <div className=\"editable-header\">\r\n                <div\r\n                  onDoubleClick={() => {\r\n                    this._editableObjectDoubleClick(\"content\");\r\n                  }}\r\n                >\r\n                  {this.props.nodeModel.portsOut[0].options.name === 'bool' ?\r\n                    <SelectableField\r\n                      elementKey=\"content\"\r\n                      options={this.props.nodeModel.selectableOptions}\r\n                      editingKey={this.state.editingKey}\r\n                      beingEdited={this.state.editingSomething}\r\n                      content={this.props.nodeModel.content}\r\n                      onChange={this._contentOnChange}\r\n                      onBlurOrEnter={this._onBlurOrEnter}\r\n                    />\r\n                    : this.props.nodeModel.portsOut[0].options.name === 'port' ?\r\n                      <SelectableField\r\n                        elementKey=\"content\"\r\n                        options={this.props.nodeModel.selectableOptions}\r\n                        editingKey={this.state.editingKey}\r\n                        beingEdited={this.state.editingSomething}\r\n                        content={this.props.nodeModel.content}\r\n                        onChange={this._contentOnChange}\r\n                        onBlurOrEnter={this._onBlurOrEnter}\r\n                      />\r\n                      :\r\n                      <EditableSingleField\r\n                        elementKey=\"content\"\r\n                        editingKey={this.state.editingKey}\r\n                        beingEdited={this.state.editingSomething}\r\n                        content={this.props.nodeModel.content}\r\n                        onChange={this._contentOnChange}\r\n                        onBlurOrEnter={this._onBlurOrEnter}\r\n                      />\r\n                  }\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </S.Title>\r\n        <S.Ports>\r\n          <S.PortsContainer>{_.map(this.props.nodeModel.getInPorts(), this.generatePort)}</S.PortsContainer>\r\n          <S.PortsContainer>{_.map(this.props.nodeModel.getOutPorts(), this.generatePort)}</S.PortsContainer>\r\n        </S.Ports>\r\n      </S.Node>\r\n    );\r\n  }\r\n}\r\n","import { MyEditableNodeWidget } from \"./MyEditableNodeWidget\";\r\nimport { MyEditableNodeModel } from \"./MyEditableNodeModel\";\r\nimport { AbstractReactFactory } from '@projectstorm/react-canvas-core'\r\nimport { DiagramEngine } from \"@projectstorm/react-diagrams\";\r\n\r\nexport class MyEditableNodeFactory extends AbstractReactFactory<MyEditableNodeModel, DiagramEngine> {\r\n\tgenerateModel(event: import(\"@projectstorm/react-canvas-core\").GenerateModelEvent): MyEditableNodeModel {\r\n\t\treturn new MyEditableNodeModel('name', 'pink', 'test', ['t'], ['t']);\r\n\t}\r\n\tconstructor() {\r\n\t\tsuper(\"MyEditable\");\r\n\t}\r\n\r\n\tgenerateReactWidget(event: { model: MyEditableNodeModel }): JSX.Element {\r\n\t\treturn <MyEditableNodeWidget nodeModel={event.model} engine={this.engine} />;\r\n\t}\r\n}\r\n","import * as SRD from '@projectstorm/react-diagrams';\r\nimport { PortModelAlignment } from '@projectstorm/react-diagrams';\r\nimport { EditableLabelFactory } from './custom-label/EditableLabelFactory';\r\nimport { EditableNodeFactory } from './custom-node/custom_nodes/editableNode/EditableNodeFactory';\r\nimport { DiamondNodeFactory } from './diamond/DiamondNodeFactory';\r\nimport { DiamondPortModel } from './diamond/DiamondPortModel';\r\nimport { SimplePortFactory } from './diamond/SimplePortFactory';\r\nimport { MyEditableNodeFactory } from './editableNode/MyEditableNodeFactory';\r\n\r\n/**\r\n * @author Dylan Vorster\r\n */\r\nexport class Application {\r\n\tprotected activeModel: any;//SRD.DiagramModel\r\n\tprotected diagramEngine: SRD.DiagramEngine;\r\n\r\n\tconstructor() {\r\n\t\tthis.diagramEngine = SRD.default();\r\n\t\tthis.diagramEngine\r\n\t\t\t.getPortFactories()\r\n\t\t\t.registerFactory(new SimplePortFactory('diamond', (config) => new DiamondPortModel(PortModelAlignment.LEFT)));\r\n\t\tthis.diagramEngine.getLabelFactories().registerFactory(new EditableLabelFactory());\r\n\t\tthis.diagramEngine.getNodeFactories().registerFactory(new EditableNodeFactory());\r\n\t\tthis.diagramEngine.getNodeFactories().registerFactory(new DiamondNodeFactory());\r\n\t\tthis.diagramEngine.getNodeFactories().registerFactory(new MyEditableNodeFactory());\r\n\t\tthis.newModel();\r\n\t}\r\n\r\n\tpublic newModel() {\r\n\t\tthis.activeModel = new SRD.DiagramModel();\r\n\t\tthis.diagramEngine.setModel(this.activeModel);\r\n\t}\r\n\r\n\tpublic getActiveDiagram(): SRD.DiagramModel {\r\n\t\treturn this.activeModel;\r\n\t}\r\n\r\n\tpublic getDiagramEngine(): SRD.DiagramEngine {\r\n\t\treturn this.diagramEngine;\r\n\t}\r\n}\r\n","import BodyWidget from '../components/react-diagrams/BodyWidget';\r\nimport { Application } from '../components/react-diagrams/Application';\r\n\r\nexport default function EditorPage() {\r\n  var app = new Application();\r\n  return <BodyWidget app={app} />\r\n}","export default __webpack_public_path__ + \"static/media/flow.43bedc99.svg\";","export default __webpack_public_path__ + \"static/media/cym_s.cbee123b.svg\";","import flowDiagram from '../assets/flow.svg'\r\nimport cym_s from '../assets/cym_s.svg'\r\nexport default function HomePage() {\r\n    return <div>\r\n        <h2>\r\n            Welcome to MDD4CPS!\r\n        </h2>\r\n        <img src={flowDiagram} alt=\"Architecture Diagram\" style={{ maxHeight: '80vh', maxWidth: '100%' }} />\r\n        <img src={cym_s} alt=\"CYM-S\" style={{ maxHeight: '80vh', maxWidth: '100%' }} />\r\n    </div>\r\n}","export default __webpack_public_path__ + \"static/media/cym_s_extended.79a380b4.svg\";","import modelsDiagram from '../assets/cym_s_extended.svg'\r\nexport default function ModelsPage() {\r\n    return <div>\r\n        <img src={modelsDiagram} alt=\"Architecture Diagram\" style={{ maxHeight: '80vh', maxWidth: '100%' }} />\r\n    </div>\r\n}","export default __webpack_public_path__ + \"static/media/cym_d.8652356e.svg\";","import stateDiagram from '../assets/cym_d.svg'\r\nexport default function StatePage() {\r\n    return <div>\r\n        <img src={stateDiagram} alt=\"Architecture Diagram\" style={{ maxHeight: '80vh', maxWidth: '90%' }} />\r\n    </div>\r\n}","export default function PalettePage() {\r\n    return <div>\r\n        <h3>\r\n            Testing zone for now.\r\n        </h3>\r\n        <div style={{ width: '80vh', height: '60vh' }}>\r\n        </div>\r\n    </div>\r\n}","/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport './App.css';\r\nimport NavigationBar from './components/NavigationBar'\r\nimport { Routes, Route } from \"react-router-dom\";\r\nimport EditorPage from './pages/Editor'\r\nimport HomePage from './pages/Home';\r\nimport ModelsPage from './pages/Models';\r\nimport StatePage from './pages/State';\r\nimport PalettePage from './pages/Palette';\r\nexport default function App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <header className=\"App-header\">\r\n        <Routes >\r\n          <Route path='/mdd4/' element={<HomePage />} />\r\n          <Route path='/mdd4/models' element={<ModelsPage />} />\r\n          <Route path='/mdd4/state' element={<StatePage />} />\r\n          <Route path='/mdd4/palette' element={<PalettePage />} />\r\n          <Route path='/mdd4/editor' element={<EditorPage />} />\r\n        </Routes>\r\n        <NavigationBar />\r\n      </header>\r\n    </div>\r\n  );\r\n}\r\n\r\n","import ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { BrowserRouter } from 'react-router-dom'\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}